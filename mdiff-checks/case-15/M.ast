(Script
 ()
 (:
  (ExprStmt
   ()
   (CallExpr
    ()
    (VarRef () (Id () "define"))
    (:
     (FuncExpr
      ()
      Nothing
      (: (Id () "require") (: (Id () "exports") (: (Id () "module") [])))
      (:
       (ExprStmt () (StringLit () "use strict"))
       (:
        (VarDeclStmt
         ()
         (:
          (VarDecl () (Id () "CommandManager") Nothing)
          (:
           (VarDecl () (Id () "Commands") Nothing)
           (:
            (VarDecl () (Id () "KeyBindingManager") Nothing)
            (:
             (VarDecl () (Id () "Menus") Nothing)
             (:
              (VarDecl
               ()
               (Id () "SpecRunnerUtils")
               (Just
                (CallExpr
                 ()
                 (VarRef () (Id () "require"))
                 (: (StringLit () "spec/SpecRunnerUtils") []))))
              (:
               (VarDecl
                ()
                (Id () "StringsUtils")
                (Just
                 (CallExpr
                  ()
                  (VarRef () (Id () "require"))
                  (: (StringLit () "utils/StringUtils") []))))
               (:
                (VarDecl
                 ()
                 (Id () "Strings")
                 (Just
                  (CallExpr
                   ()
                   (VarRef () (Id () "require"))
                   (: (StringLit () "strings") []))))
                []))))))))
        (:
         (ExprStmt
          ()
          (CallExpr
           ()
           (VarRef () (Id () "describe"))
           (:
            (StringLit () "Menus")
            (:
             (FuncExpr
              ()
              Nothing
              []
              (:
               (VarDeclStmt () (: (VarDecl () (Id () "testWindow") Nothing) []))
               (:
                (ExprStmt
                 ()
                 (CallExpr
                  ()
                  (VarRef () (Id () "beforeEach"))
                  (:
                   (FuncExpr
                    ()
                    Nothing
                    []
                    (:
                     (IfSingleStmt
                      ()
                      (PrefixExpr
                       ()
                       PrefixLNot
                       (VarRef () (Id () "testWindow")))
                      (BlockStmt
                       ()
                       (:
                        (ExprStmt
                         ()
                         (CallExpr
                          ()
                          (DotRef
                           ()
                           (VarRef () (Id () "SpecRunnerUtils"))
                           (Id () "createTestWindowAndRun"))
                          (:
                           (ThisRef ())
                           (:
                            (FuncExpr
                             ()
                             Nothing
                             (: (Id () "w") [])
                             (:
                              (ExprStmt
                               ()
                               (AssignExpr
                                ()
                                OpAssign
                                (LVar () "testWindow")
                                (VarRef () (Id () "w"))))
                              (:
                               (ExprStmt
                                ()
                                (AssignExpr
                                 ()
                                 OpAssign
                                 (LVar () "CommandManager")
                                 (DotRef
                                  ()
                                  (DotRef
                                   ()
                                   (DotRef
                                    ()
                                    (VarRef () (Id () "testWindow"))
                                    (Id () "brackets"))
                                   (Id () "test"))
                                  (Id () "CommandManager"))))
                               (:
                                (ExprStmt
                                 ()
                                 (AssignExpr
                                  ()
                                  OpAssign
                                  (LVar () "Commands")
                                  (DotRef
                                   ()
                                   (DotRef
                                    ()
                                    (DotRef
                                     ()
                                     (VarRef () (Id () "testWindow"))
                                     (Id () "brackets"))
                                    (Id () "test"))
                                   (Id () "Commands"))))
                                (:
                                 (ExprStmt
                                  ()
                                  (AssignExpr
                                   ()
                                   OpAssign
                                   (LVar () "KeyBindingManager")
                                   (DotRef
                                    ()
                                    (DotRef
                                     ()
                                     (DotRef
                                      ()
                                      (VarRef () (Id () "testWindow"))
                                      (Id () "brackets"))
                                     (Id () "test"))
                                    (Id () "KeyBindingManager"))))
                                 (:
                                  (ExprStmt
                                   ()
                                   (AssignExpr
                                    ()
                                    OpAssign
                                    (LVar () "Menus")
                                    (DotRef
                                     ()
                                     (DotRef
                                      ()
                                      (DotRef
                                       ()
                                       (VarRef () (Id () "testWindow"))
                                       (Id () "brackets"))
                                      (Id () "test"))
                                     (Id () "Menus"))))
                                  []))))))
                            []))))
                        (:
                         (ExprStmt
                          ()
                          (CallExpr
                           ()
                           (DotRef () (ThisRef ()) (Id () "after"))
                           (:
                            (FuncExpr
                             ()
                             Nothing
                             []
                             (:
                              (ExprStmt
                               ()
                               (CallExpr
                                ()
                                (DotRef
                                 ()
                                 (VarRef () (Id () "SpecRunnerUtils"))
                                 (Id () "closeTestWindow"))
                                []))
                              []))
                            [])))
                         []))))
                     []))
                   [])))
                (:
                 (ExprStmt
                  ()
                  (CallExpr
                   ()
                   (VarRef () (Id () "describe"))
                   (:
                    (StringLit () "Add Menus")
                    (:
                     (FuncExpr
                      ()
                      Nothing
                      []
                      (:
                       (ExprStmt
                        ()
                        (CallExpr
                         ()
                         (VarRef () (Id () "it"))
                         (:
                          (StringLit
                           ()
                           "should add new menu in last position of list")
                          (:
                           (FuncExpr
                            ()
                            Nothing
                            []
                            (:
                             (ExprStmt
                              ()
                              (CallExpr
                               ()
                               (VarRef () (Id () "runs"))
                               (:
                                (FuncExpr
                                 ()
                                 Nothing
                                 []
                                 (:
                                  (VarDeclStmt
                                   ()
                                   (:
                                    (VarDecl
                                     ()
                                     (Id () "$listItems")
                                     (Just
                                      (CallExpr
                                       ()
                                       (DotRef
                                        ()
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (VarRef () (Id () "testWindow"))
                                          (Id () "$"))
                                         (:
                                          (StringLit
                                           ()
                                           "#main-toolbar > ul.nav")
                                          []))
                                        (Id () "children"))
                                       [])))
                                    []))
                                  (:
                                   (ExprStmt
                                    ()
                                    (CallExpr
                                     ()
                                     (DotRef
                                      ()
                                      (CallExpr
                                       ()
                                       (VarRef () (Id () "expect"))
                                       (:
                                        (DotRef
                                         ()
                                         (VarRef () (Id () "$listItems"))
                                         (Id () "length"))
                                        []))
                                      (Id () "toBeGreaterThan"))
                                     (: (IntLit () 0) [])))
                                   (:
                                    (VarDeclStmt
                                     ()
                                     (:
                                      (VarDecl
                                       ()
                                       (Id () "menuCountOriginal")
                                       (Just
                                        (DotRef
                                         ()
                                         (VarRef () (Id () "$listItems"))
                                         (Id () "length"))))
                                      []))
                                    (:
                                     (VarDeclStmt
                                      ()
                                      (:
                                       (VarDecl
                                        ()
                                        (Id () "menu")
                                        (Just
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "Menus"))
                                           (Id () "addMenu"))
                                          (:
                                           (StringLit () "Custom1")
                                           (:
                                            (StringLit () "menu-unittest1")
                                            [])))))
                                       []))
                                     (:
                                      (ExprStmt
                                       ()
                                       (CallExpr
                                        ()
                                        (DotRef
                                         ()
                                         (DotRef
                                          ()
                                          (CallExpr
                                           ()
                                           (VarRef () (Id () "expect"))
                                           (: (VarRef () (Id () "menu")) []))
                                          (Id () "not"))
                                         (Id () "toBeNull"))
                                        []))
                                      (:
                                       (ExprStmt
                                        ()
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (CallExpr
                                           ()
                                           (VarRef () (Id () "expect"))
                                           (: (VarRef () (Id () "menu")) []))
                                          (Id () "toBeDefined"))
                                         []))
                                       (:
                                        (ExprStmt
                                         ()
                                         (AssignExpr
                                          ()
                                          OpAssign
                                          (LVar () "$listItems")
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "testWindow"))
                                              (Id () "$"))
                                             (:
                                              (StringLit
                                               ()
                                               "#main-toolbar > ul.nav")
                                              []))
                                            (Id () "children"))
                                           [])))
                                        (:
                                         (ExprStmt
                                          ()
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (CallExpr
                                             ()
                                             (VarRef () (Id () "expect"))
                                             (:
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "$listItems"))
                                               (Id () "length"))
                                              []))
                                            (Id () "toBe"))
                                           (:
                                            (InfixExpr
                                             ()
                                             OpAdd
                                             (VarRef
                                              ()
                                              (Id () "menuCountOriginal"))
                                             (IntLit () 1))
                                            [])))
                                         (:
                                          (ExprStmt
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (CallExpr
                                              ()
                                              (VarRef () (Id () "expect"))
                                              (:
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (VarRef () (Id () "$"))
                                                  (:
                                                   (BracketRef
                                                    ()
                                                    (VarRef
                                                     ()
                                                     (Id () "$listItems"))
                                                    (VarRef
                                                     ()
                                                     (Id
                                                      ()
                                                      "menuCountOriginal")))
                                                   []))
                                                 (Id () "attr"))
                                                (: (StringLit () "id") []))
                                               []))
                                             (Id () "toBe"))
                                            (:
                                             (StringLit () "menu-unittest1")
                                             [])))
                                          []))))))))))
                                [])))
                             []))
                           []))))
                       (:
                        (ExprStmt
                         ()
                         (CallExpr
                          ()
                          (VarRef () (Id () "it"))
                          (:
                           (StringLit
                            ()
                            "should add new menu in first position of list")
                           (:
                            (FuncExpr
                             ()
                             Nothing
                             []
                             (:
                              (ExprStmt
                               ()
                               (CallExpr
                                ()
                                (VarRef () (Id () "runs"))
                                (:
                                 (FuncExpr
                                  ()
                                  Nothing
                                  []
                                  (:
                                   (VarDeclStmt
                                    ()
                                    (:
                                     (VarDecl
                                      ()
                                      (Id () "$listItems")
                                      (Just
                                       (CallExpr
                                        ()
                                        (DotRef
                                         ()
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "testWindow"))
                                           (Id () "$"))
                                          (:
                                           (StringLit
                                            ()
                                            "#main-toolbar > ul.nav")
                                           []))
                                         (Id () "children"))
                                        [])))
                                     []))
                                   (:
                                    (ExprStmt
                                     ()
                                     (CallExpr
                                      ()
                                      (DotRef
                                       ()
                                       (CallExpr
                                        ()
                                        (VarRef () (Id () "expect"))
                                        (:
                                         (DotRef
                                          ()
                                          (VarRef () (Id () "$listItems"))
                                          (Id () "length"))
                                         []))
                                       (Id () "toBeGreaterThan"))
                                      (: (IntLit () 0) [])))
                                    (:
                                     (VarDeclStmt
                                      ()
                                      (:
                                       (VarDecl
                                        ()
                                        (Id () "menuCountOriginal")
                                        (Just
                                         (DotRef
                                          ()
                                          (VarRef () (Id () "$listItems"))
                                          (Id () "length"))))
                                       []))
                                     (:
                                      (VarDeclStmt
                                       ()
                                       (:
                                        (VarDecl
                                         ()
                                         (Id () "menu")
                                         (Just
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "Menus"))
                                            (Id () "addMenu"))
                                           (:
                                            (StringLit () "Custom2")
                                            (:
                                             (StringLit () "menu-unittest2")
                                             (:
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "Menus"))
                                               (Id () "FIRST"))
                                              []))))))
                                        []))
                                      (:
                                       (ExprStmt
                                        ()
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (DotRef
                                           ()
                                           (CallExpr
                                            ()
                                            (VarRef () (Id () "expect"))
                                            (: (VarRef () (Id () "menu")) []))
                                           (Id () "not"))
                                          (Id () "toBeNull"))
                                         []))
                                       (:
                                        (ExprStmt
                                         ()
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (CallExpr
                                            ()
                                            (VarRef () (Id () "expect"))
                                            (: (VarRef () (Id () "menu")) []))
                                           (Id () "toBeDefined"))
                                          []))
                                        (:
                                         (ExprStmt
                                          ()
                                          (AssignExpr
                                           ()
                                           OpAssign
                                           (LVar () "$listItems")
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "testWindow"))
                                               (Id () "$"))
                                              (:
                                               (StringLit
                                                ()
                                                "#main-toolbar > ul.nav")
                                               []))
                                             (Id () "children"))
                                            [])))
                                         (:
                                          (ExprStmt
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (CallExpr
                                              ()
                                              (VarRef () (Id () "expect"))
                                              (:
                                               (DotRef
                                                ()
                                                (VarRef () (Id () "$listItems"))
                                                (Id () "length"))
                                               []))
                                             (Id () "toBe"))
                                            (:
                                             (InfixExpr
                                              ()
                                              OpAdd
                                              (VarRef
                                               ()
                                               (Id () "menuCountOriginal"))
                                              (IntLit () 1))
                                             [])))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (VarRef () (Id () "$"))
                                                   (:
                                                    (BracketRef
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "$listItems"))
                                                     (IntLit () 0))
                                                    []))
                                                  (Id () "attr"))
                                                 (: (StringLit () "id") []))
                                                []))
                                              (Id () "toBe"))
                                             (:
                                              (StringLit () "menu-unittest2")
                                              [])))
                                           []))))))))))
                                 [])))
                              []))
                            []))))
                        (:
                         (ExprStmt
                          ()
                          (CallExpr
                           ()
                           (VarRef () (Id () "it"))
                           (:
                            (StringLit
                             ()
                             "should add new menu after reference menu")
                            (:
                             (FuncExpr
                              ()
                              Nothing
                              []
                              (:
                               (ExprStmt
                                ()
                                (CallExpr
                                 ()
                                 (VarRef () (Id () "runs"))
                                 (:
                                  (FuncExpr
                                   ()
                                   Nothing
                                   []
                                   (:
                                    (VarDeclStmt
                                     ()
                                     (:
                                      (VarDecl
                                       ()
                                       (Id () "$listItems")
                                       (Just
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "testWindow"))
                                            (Id () "$"))
                                           (:
                                            (StringLit
                                             ()
                                             "#main-toolbar > ul.nav")
                                            []))
                                          (Id () "children"))
                                         [])))
                                      []))
                                    (:
                                     (ExprStmt
                                      ()
                                      (CallExpr
                                       ()
                                       (DotRef
                                        ()
                                        (CallExpr
                                         ()
                                         (VarRef () (Id () "expect"))
                                         (:
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "$listItems"))
                                           (Id () "length"))
                                          []))
                                        (Id () "toBeGreaterThan"))
                                       (: (IntLit () 0) [])))
                                     (:
                                      (VarDeclStmt
                                       ()
                                       (:
                                        (VarDecl
                                         ()
                                         (Id () "menuCountOriginal")
                                         (Just
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "$listItems"))
                                           (Id () "length"))))
                                        []))
                                      (:
                                       (VarDeclStmt
                                        ()
                                        (:
                                         (VarDecl
                                          ()
                                          (Id () "menu")
                                          (Just
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (VarRef () (Id () "Menus"))
                                             (Id () "addMenu"))
                                            (:
                                             (StringLit () "CustomFirst")
                                             (:
                                              (StringLit
                                               ()
                                               "menu-unittest3-first")
                                              (:
                                               (DotRef
                                                ()
                                                (VarRef () (Id () "Menus"))
                                                (Id () "FIRST"))
                                               []))))))
                                         []))
                                       (:
                                        (ExprStmt
                                         ()
                                         (AssignExpr
                                          ()
                                          OpAssign
                                          (LVar () "menu")
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "Menus"))
                                            (Id () "addMenu"))
                                           (:
                                            (StringLit () "CustomAfter")
                                            (:
                                             (StringLit
                                              ()
                                              "menu-unittest3-after")
                                             (:
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "Menus"))
                                               (Id () "AFTER"))
                                              (:
                                               (StringLit
                                                ()
                                                "menu-unittest3-first")
                                               [])))))))
                                        (:
                                         (ExprStmt
                                          ()
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (DotRef
                                             ()
                                             (CallExpr
                                              ()
                                              (VarRef () (Id () "expect"))
                                              (: (VarRef () (Id () "menu")) []))
                                             (Id () "not"))
                                            (Id () "toBeNull"))
                                           []))
                                         (:
                                          (ExprStmt
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (CallExpr
                                              ()
                                              (VarRef () (Id () "expect"))
                                              (: (VarRef () (Id () "menu")) []))
                                             (Id () "toBeDefined"))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (AssignExpr
                                             ()
                                             OpAssign
                                             (LVar () "$listItems")
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (VarRef
                                                  ()
                                                  (Id () "testWindow"))
                                                 (Id () "$"))
                                                (:
                                                 (StringLit
                                                  ()
                                                  "#main-toolbar > ul.nav")
                                                 []))
                                               (Id () "children"))
                                              [])))
                                           (:
                                            (ExprStmt
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (CallExpr
                                                ()
                                                (VarRef () (Id () "expect"))
                                                (:
                                                 (DotRef
                                                  ()
                                                  (VarRef
                                                   ()
                                                   (Id () "$listItems"))
                                                  (Id () "length"))
                                                 []))
                                               (Id () "toBe"))
                                              (:
                                               (InfixExpr
                                                ()
                                                OpAdd
                                                (VarRef
                                                 ()
                                                 (Id () "menuCountOriginal"))
                                                (IntLit () 2))
                                               [])))
                                            (:
                                             (ExprStmt
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (VarRef () (Id () "expect"))
                                                 (:
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef () (Id () "$"))
                                                     (:
                                                      (BracketRef
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "$listItems"))
                                                       (IntLit () 0))
                                                      []))
                                                    (Id () "attr"))
                                                   (: (StringLit () "id") []))
                                                  []))
                                                (Id () "toBe"))
                                               (:
                                                (StringLit
                                                 ()
                                                 "menu-unittest3-first")
                                                [])))
                                             (:
                                              (ExprStmt
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (VarRef () (Id () "expect"))
                                                  (:
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (VarRef () (Id () "$"))
                                                      (:
                                                       (BracketRef
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "$listItems"))
                                                        (IntLit () 1))
                                                       []))
                                                     (Id () "attr"))
                                                    (: (StringLit () "id") []))
                                                   []))
                                                 (Id () "toBe"))
                                                (:
                                                 (StringLit
                                                  ()
                                                  "menu-unittest3-after")
                                                 [])))
                                              []))))))))))))
                                  [])))
                               []))
                             []))))
                         (:
                          (ExprStmt
                           ()
                           (CallExpr
                            ()
                            (VarRef () (Id () "it"))
                            (:
                             (StringLit
                              ()
                              "should add new menu before reference menu")
                             (:
                              (FuncExpr
                               ()
                               Nothing
                               []
                               (:
                                (ExprStmt
                                 ()
                                 (CallExpr
                                  ()
                                  (VarRef () (Id () "runs"))
                                  (:
                                   (FuncExpr
                                    ()
                                    Nothing
                                    []
                                    (:
                                     (VarDeclStmt
                                      ()
                                      (:
                                       (VarDecl
                                        ()
                                        (Id () "$listItems")
                                        (Just
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (VarRef () (Id () "testWindow"))
                                             (Id () "$"))
                                            (:
                                             (StringLit
                                              ()
                                              "#main-toolbar > ul.nav")
                                             []))
                                           (Id () "children"))
                                          [])))
                                       []))
                                     (:
                                      (ExprStmt
                                       ()
                                       (CallExpr
                                        ()
                                        (DotRef
                                         ()
                                         (CallExpr
                                          ()
                                          (VarRef () (Id () "expect"))
                                          (:
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "$listItems"))
                                            (Id () "length"))
                                           []))
                                         (Id () "toBeGreaterThan"))
                                        (: (IntLit () 0) [])))
                                      (:
                                       (VarDeclStmt
                                        ()
                                        (:
                                         (VarDecl
                                          ()
                                          (Id () "menuCountOriginal")
                                          (Just
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "$listItems"))
                                            (Id () "length"))))
                                         []))
                                       (:
                                        (VarDeclStmt
                                         ()
                                         (:
                                          (VarDecl
                                           ()
                                           (Id () "menu")
                                           (Just
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "Menus"))
                                              (Id () "addMenu"))
                                             (:
                                              (StringLit () "CustomLast")
                                              (:
                                               (StringLit
                                                ()
                                                "menu-unittest3-last")
                                               (:
                                                (DotRef
                                                 ()
                                                 (VarRef () (Id () "Menus"))
                                                 (Id () "LAST"))
                                                []))))))
                                          []))
                                        (:
                                         (ExprStmt
                                          ()
                                          (AssignExpr
                                           ()
                                           OpAssign
                                           (LVar () "menu")
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (VarRef () (Id () "Menus"))
                                             (Id () "addMenu"))
                                            (:
                                             (StringLit () "CustomBefore")
                                             (:
                                              (StringLit
                                               ()
                                               "menu-unittest3-before")
                                              (:
                                               (DotRef
                                                ()
                                                (VarRef () (Id () "Menus"))
                                                (Id () "BEFORE"))
                                               (:
                                                (StringLit
                                                 ()
                                                 "menu-unittest3-last")
                                                [])))))))
                                         (:
                                          (ExprStmt
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (VarRef () (Id () "menu"))
                                                []))
                                              (Id () "not"))
                                             (Id () "toBeNull"))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (VarRef () (Id () "menu"))
                                                []))
                                              (Id () "toBeDefined"))
                                             []))
                                           (:
                                            (ExprStmt
                                             ()
                                             (AssignExpr
                                              ()
                                              OpAssign
                                              (LVar () "$listItems")
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (VarRef
                                                   ()
                                                   (Id () "testWindow"))
                                                  (Id () "$"))
                                                 (:
                                                  (StringLit
                                                   ()
                                                   "#main-toolbar > ul.nav")
                                                  []))
                                                (Id () "children"))
                                               [])))
                                            (:
                                             (ExprStmt
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (VarRef () (Id () "expect"))
                                                 (:
                                                  (DotRef
                                                   ()
                                                   (VarRef
                                                    ()
                                                    (Id () "$listItems"))
                                                   (Id () "length"))
                                                  []))
                                                (Id () "toBe"))
                                               (:
                                                (InfixExpr
                                                 ()
                                                 OpAdd
                                                 (VarRef
                                                  ()
                                                  (Id () "menuCountOriginal"))
                                                 (IntLit () 2))
                                                [])))
                                             (:
                                              (ExprStmt
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (VarRef () (Id () "expect"))
                                                  (:
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (VarRef () (Id () "$"))
                                                      (:
                                                       (BracketRef
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "$listItems"))
                                                        (VarRef
                                                         ()
                                                         (Id
                                                          ()
                                                          "menuCountOriginal")))
                                                       []))
                                                     (Id () "attr"))
                                                    (: (StringLit () "id") []))
                                                   []))
                                                 (Id () "toBe"))
                                                (:
                                                 (StringLit
                                                  ()
                                                  "menu-unittest3-before")
                                                 [])))
                                              (:
                                               (ExprStmt
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (VarRef () (Id () "expect"))
                                                   (:
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (VarRef () (Id () "$"))
                                                       (:
                                                        (BracketRef
                                                         ()
                                                         (VarRef
                                                          ()
                                                          (Id () "$listItems"))
                                                         (InfixExpr
                                                          ()
                                                          OpAdd
                                                          (VarRef
                                                           ()
                                                           (Id
                                                            ()
                                                            "menuCountOriginal"))
                                                          (IntLit () 1)))
                                                        []))
                                                      (Id () "attr"))
                                                     (: (StringLit () "id") []))
                                                    []))
                                                  (Id () "toBe"))
                                                 (:
                                                  (StringLit
                                                   ()
                                                   "menu-unittest3-last")
                                                  [])))
                                               []))))))))))))
                                   [])))
                                []))
                              []))))
                          (:
                           (ExprStmt
                            ()
                            (CallExpr
                             ()
                             (VarRef () (Id () "it"))
                             (:
                              (StringLit
                               ()
                               "should add new menu at end of list when reference menu doesn't exist")
                              (:
                               (FuncExpr
                                ()
                                Nothing
                                []
                                (:
                                 (ExprStmt
                                  ()
                                  (CallExpr
                                   ()
                                   (VarRef () (Id () "runs"))
                                   (:
                                    (FuncExpr
                                     ()
                                     Nothing
                                     []
                                     (:
                                      (VarDeclStmt
                                       ()
                                       (:
                                        (VarDecl
                                         ()
                                         (Id () "$listItems")
                                         (Just
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "testWindow"))
                                              (Id () "$"))
                                             (:
                                              (StringLit
                                               ()
                                               "#main-toolbar > ul.nav")
                                              []))
                                            (Id () "children"))
                                           [])))
                                        []))
                                      (:
                                       (ExprStmt
                                        ()
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (CallExpr
                                           ()
                                           (VarRef () (Id () "expect"))
                                           (:
                                            (DotRef
                                             ()
                                             (VarRef () (Id () "$listItems"))
                                             (Id () "length"))
                                            []))
                                          (Id () "toBeGreaterThan"))
                                         (: (IntLit () 0) [])))
                                       (:
                                        (VarDeclStmt
                                         ()
                                         (:
                                          (VarDecl
                                           ()
                                           (Id () "menuCountOriginal")
                                           (Just
                                            (DotRef
                                             ()
                                             (VarRef () (Id () "$listItems"))
                                             (Id () "length"))))
                                          []))
                                        (:
                                         (VarDeclStmt
                                          ()
                                          (:
                                           (VarDecl
                                            ()
                                            (Id () "menu")
                                            (Just
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "Menus"))
                                               (Id () "addMenu"))
                                              (:
                                               (StringLit () "Custom3")
                                               (:
                                                (StringLit () "menu-unittest4")
                                                (:
                                                 (DotRef
                                                  ()
                                                  (VarRef () (Id () "Menus"))
                                                  (Id () "AFTER"))
                                                 (:
                                                  (StringLit () "NONEXISTANT")
                                                  [])))))))
                                           []))
                                         (:
                                          (ExprStmt
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (VarRef () (Id () "menu"))
                                                []))
                                              (Id () "not"))
                                             (Id () "toBeNull"))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (VarRef () (Id () "menu"))
                                                []))
                                              (Id () "toBeDefined"))
                                             []))
                                           (:
                                            (ExprStmt
                                             ()
                                             (AssignExpr
                                              ()
                                              OpAssign
                                              (LVar () "$listItems")
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (VarRef
                                                   ()
                                                   (Id () "testWindow"))
                                                  (Id () "$"))
                                                 (:
                                                  (StringLit
                                                   ()
                                                   "#main-toolbar > ul.nav")
                                                  []))
                                                (Id () "children"))
                                               [])))
                                            (:
                                             (ExprStmt
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (VarRef () (Id () "expect"))
                                                 (:
                                                  (DotRef
                                                   ()
                                                   (VarRef
                                                    ()
                                                    (Id () "$listItems"))
                                                   (Id () "length"))
                                                  []))
                                                (Id () "toBe"))
                                               (:
                                                (InfixExpr
                                                 ()
                                                 OpAdd
                                                 (VarRef
                                                  ()
                                                  (Id () "menuCountOriginal"))
                                                 (IntLit () 1))
                                                [])))
                                             (:
                                              (ExprStmt
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (VarRef () (Id () "expect"))
                                                  (:
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (VarRef () (Id () "$"))
                                                      (:
                                                       (BracketRef
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "$listItems"))
                                                        (VarRef
                                                         ()
                                                         (Id
                                                          ()
                                                          "menuCountOriginal")))
                                                       []))
                                                     (Id () "attr"))
                                                    (: (StringLit () "id") []))
                                                   []))
                                                 (Id () "toBe"))
                                                (:
                                                 (StringLit () "menu-unittest4")
                                                 [])))
                                              []))))))))))
                                    [])))
                                 []))
                               []))))
                           (:
                            (ExprStmt
                             ()
                             (CallExpr
                              ()
                              (VarRef () (Id () "it"))
                              (:
                               (StringLit () "should not add duplicate menu")
                               (:
                                (FuncExpr
                                 ()
                                 Nothing
                                 []
                                 (:
                                  (ExprStmt
                                   ()
                                   (CallExpr
                                    ()
                                    (VarRef () (Id () "runs"))
                                    (:
                                     (FuncExpr
                                      ()
                                      Nothing
                                      []
                                      (:
                                       (VarDeclStmt
                                        ()
                                        (:
                                         (VarDecl
                                          ()
                                          (Id () "$listItems")
                                          (Just
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "testWindow"))
                                               (Id () "$"))
                                              (:
                                               (StringLit
                                                ()
                                                "#main-toolbar > ul.nav")
                                               []))
                                             (Id () "children"))
                                            [])))
                                         []))
                                       (:
                                        (ExprStmt
                                         ()
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (CallExpr
                                            ()
                                            (VarRef () (Id () "expect"))
                                            (:
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "$listItems"))
                                              (Id () "length"))
                                             []))
                                           (Id () "toBeGreaterThan"))
                                          (: (IntLit () 0) [])))
                                        (:
                                         (VarDeclStmt
                                          ()
                                          (:
                                           (VarDecl
                                            ()
                                            (Id () "menuCountOriginal")
                                            (Just
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "$listItems"))
                                              (Id () "length"))))
                                           []))
                                         (:
                                          (VarDeclStmt
                                           ()
                                           (:
                                            (VarDecl
                                             ()
                                             (Id () "menu1")
                                             (Just
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (VarRef () (Id () "Menus"))
                                                (Id () "addMenu"))
                                               (:
                                                (StringLit () "Custom5")
                                                (:
                                                 (StringLit () "menu-unittest5")
                                                 [])))))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (DotRef
                                               ()
                                               (CallExpr
                                                ()
                                                (VarRef () (Id () "expect"))
                                                (:
                                                 (VarRef () (Id () "menu1"))
                                                 []))
                                               (Id () "not"))
                                              (Id () "toBeNull"))
                                             []))
                                           (:
                                            (VarDeclStmt
                                             ()
                                             (:
                                              (VarDecl
                                               ()
                                               (Id () "menu2")
                                               (Just (NullLit ())))
                                              []))
                                            (:
                                             (ExprStmt
                                              ()
                                              (AssignExpr
                                               ()
                                               OpAssign
                                               (LVar () "menu2")
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (VarRef () (Id () "Menus"))
                                                 (Id () "addMenu"))
                                                (:
                                                 (StringLit () "Custom5")
                                                 (:
                                                  (StringLit
                                                   ()
                                                   "menu-unittest5")
                                                  [])))))
                                             (:
                                              (ExprStmt
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (VarRef () (Id () "expect"))
                                                  (:
                                                   (VarRef () (Id () "menu2"))
                                                   []))
                                                 (Id () "toBeFalsy"))
                                                []))
                                              (:
                                               (ExprStmt
                                                ()
                                                (AssignExpr
                                                 ()
                                                 OpAssign
                                                 (LVar () "$listItems")
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "testWindow"))
                                                     (Id () "$"))
                                                    (:
                                                     (StringLit
                                                      ()
                                                      "#main-toolbar > ul.nav")
                                                     []))
                                                   (Id () "children"))
                                                  [])))
                                               (:
                                                (ExprStmt
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (VarRef () (Id () "expect"))
                                                    (:
                                                     (DotRef
                                                      ()
                                                      (VarRef
                                                       ()
                                                       (Id () "$listItems"))
                                                      (Id () "length"))
                                                     []))
                                                   (Id () "toBe"))
                                                  (:
                                                   (InfixExpr
                                                    ()
                                                    OpAdd
                                                    (VarRef
                                                     ()
                                                     (Id
                                                      ()
                                                      "menuCountOriginal"))
                                                    (IntLit () 1))
                                                   [])))
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "expect"))
                                                     (:
                                                      (VarRef
                                                       ()
                                                       (Id () "menu2"))
                                                      []))
                                                    (Id () "toBeNull"))
                                                   []))
                                                 []))))))))))))
                                     [])))
                                  []))
                                []))))
                            [])))))))
                     []))))
                 (:
                  (ExprStmt
                   ()
                   (CallExpr
                    ()
                    (VarRef () (Id () "describe"))
                    (:
                     (StringLit () "Remove Menu Items")
                     (:
                      (FuncExpr
                       ()
                       Nothing
                       []
                       (:
                        (ExprStmt
                         ()
                         (CallExpr
                          ()
                          (VarRef () (Id () "it"))
                          (:
                           (StringLit
                            ()
                            "should add then remove new menu item to empty menu with a command id")
                           (:
                            (FuncExpr
                             ()
                             Nothing
                             []
                             (:
                              (ExprStmt
                               ()
                               (CallExpr
                                ()
                                (VarRef () (Id () "runs"))
                                (:
                                 (FuncExpr
                                  ()
                                  Nothing
                                  []
                                  (:
                                   (ExprStmt
                                    ()
                                    (CallExpr
                                     ()
                                     (DotRef
                                      ()
                                      (VarRef () (Id () "CommandManager"))
                                      (Id () "register"))
                                     (:
                                      (StringLit
                                       ()
                                       "Brackets Test Command Custom")
                                      (:
                                       (StringLit () "custom.command")
                                       (: (FuncExpr () Nothing [] []) [])))))
                                   (:
                                    (VarDeclStmt
                                     ()
                                     (:
                                      (VarDecl
                                       ()
                                       (Id () "commandString")
                                       (Just (StringLit () "custom.command")))
                                      []))
                                    (:
                                     (VarDeclStmt
                                      ()
                                      (:
                                       (VarDecl
                                        ()
                                        (Id () "menu")
                                        (Just
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "Menus"))
                                           (Id () "addMenu"))
                                          (:
                                           (StringLit () "Custom")
                                           (:
                                            (StringLit () "menu-custom")
                                            [])))))
                                       []))
                                     (:
                                      (VarDeclStmt
                                       ()
                                       (:
                                        (VarDecl
                                         ()
                                         (Id () "$listItems")
                                         (Just
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "testWindow"))
                                              (Id () "$"))
                                             (:
                                              (StringLit () "#menu-custom > ul")
                                              []))
                                            (Id () "children"))
                                           [])))
                                        []))
                                      (:
                                       (ExprStmt
                                        ()
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (CallExpr
                                           ()
                                           (VarRef () (Id () "expect"))
                                           (:
                                            (DotRef
                                             ()
                                             (VarRef () (Id () "$listItems"))
                                             (Id () "length"))
                                            []))
                                          (Id () "toBe"))
                                         (: (IntLit () 0) [])))
                                       (:
                                        (VarDeclStmt
                                         ()
                                         (:
                                          (VarDecl
                                           ()
                                           (Id () "menuItem")
                                           (Just
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "menu"))
                                              (Id () "addMenuItem"))
                                             (:
                                              (VarRef
                                               ()
                                               (Id () "commandString"))
                                              []))))
                                          []))
                                        (:
                                         (ExprStmt
                                          ()
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (DotRef
                                             ()
                                             (CallExpr
                                              ()
                                              (VarRef () (Id () "expect"))
                                              (:
                                               (VarRef () (Id () "menuItem"))
                                               []))
                                             (Id () "not"))
                                            (Id () "toBeNull"))
                                           []))
                                         (:
                                          (ExprStmt
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (CallExpr
                                              ()
                                              (VarRef () (Id () "expect"))
                                              (:
                                               (VarRef () (Id () "menuItem"))
                                               []))
                                             (Id () "toBeDefined"))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (PrefixExpr
                                                 ()
                                                 PrefixTypeof
                                                 (VarRef
                                                  ()
                                                  (Id () "commandString")))
                                                []))
                                              (Id () "toBe"))
                                             (: (StringLit () "string") [])))
                                           (:
                                            (ExprStmt
                                             ()
                                             (AssignExpr
                                              ()
                                              OpAssign
                                              (LVar () "$listItems")
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (VarRef
                                                   ()
                                                   (Id () "testWindow"))
                                                  (Id () "$"))
                                                 (:
                                                  (StringLit
                                                   ()
                                                   "#menu-custom > ul")
                                                  []))
                                                (Id () "children"))
                                               [])))
                                            (:
                                             (ExprStmt
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (VarRef () (Id () "expect"))
                                                 (:
                                                  (DotRef
                                                   ()
                                                   (VarRef
                                                    ()
                                                    (Id () "$listItems"))
                                                   (Id () "length"))
                                                  []))
                                                (Id () "toBe"))
                                               (: (IntLit () 1) [])))
                                             (:
                                              (ExprStmt
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (VarRef () (Id () "expect"))
                                                  (:
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef () (Id () "$"))
                                                     (:
                                                      (BracketRef
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "$listItems"))
                                                       (IntLit () 0))
                                                      []))
                                                    (Id () "length"))
                                                   []))
                                                 (Id () "toBe"))
                                                (: (IntLit () 1) [])))
                                              (:
                                               (ExprStmt
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (VarRef () (Id () "menu"))
                                                  (Id () "removeMenuItem"))
                                                 (:
                                                  (VarRef
                                                   ()
                                                   (Id () "commandString"))
                                                  [])))
                                               (:
                                                (ExprStmt
                                                 ()
                                                 (AssignExpr
                                                  ()
                                                  OpAssign
                                                  (LVar () "$listItems")
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (VarRef
                                                       ()
                                                       (Id () "testWindow"))
                                                      (Id () "$"))
                                                     (:
                                                      (StringLit
                                                       ()
                                                       "#menu-custom > ul")
                                                      []))
                                                    (Id () "children"))
                                                   [])))
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "expect"))
                                                     (:
                                                      (DotRef
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "$listItems"))
                                                       (Id () "length"))
                                                      []))
                                                    (Id () "toBe"))
                                                   (: (IntLit () 0) [])))
                                                 (:
                                                  (ExprStmt
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (VarRef
                                                       ()
                                                       (Id () "expect"))
                                                      (:
                                                       (DotRef
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (VarRef () (Id () "$"))
                                                         (:
                                                          (BracketRef
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id
                                                             ()
                                                             "$listItems"))
                                                           (IntLit () 0))
                                                          []))
                                                        (Id () "length"))
                                                       []))
                                                     (Id () "toBe"))
                                                    (: (IntLit () 0) [])))
                                                  [])))))))))))))))))
                                 [])))
                              []))
                            []))))
                        (:
                         (ExprStmt
                          ()
                          (CallExpr
                           ()
                           (VarRef () (Id () "it"))
                           (:
                            (StringLit
                             ()
                             "should add then remove new menu item to empty menu with a command")
                            (:
                             (FuncExpr
                              ()
                              Nothing
                              []
                              (:
                               (ExprStmt
                                ()
                                (CallExpr
                                 ()
                                 (VarRef () (Id () "runs"))
                                 (:
                                  (FuncExpr
                                   ()
                                   Nothing
                                   []
                                   (:
                                    (ExprStmt
                                     ()
                                     (CallExpr
                                      ()
                                      (DotRef
                                       ()
                                       (VarRef () (Id () "CommandManager"))
                                       (Id () "register"))
                                      (:
                                       (StringLit
                                        ()
                                        "Brackets Test Command Custom")
                                       (:
                                        (StringLit () "custom.command")
                                        (: (FuncExpr () Nothing [] []) [])))))
                                    (:
                                     (VarDeclStmt
                                      ()
                                      (:
                                       (VarDecl
                                        ()
                                        (Id () "commandString")
                                        (Just (StringLit () "custom.command")))
                                       []))
                                     (:
                                      (VarDeclStmt
                                       ()
                                       (:
                                        (VarDecl
                                         ()
                                         (Id () "menu")
                                         (Just
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "Menus"))
                                            (Id () "addMenu"))
                                           (:
                                            (StringLit () "Custom")
                                            (:
                                             (StringLit () "menu-custom")
                                             [])))))
                                        []))
                                      (:
                                       (VarDeclStmt
                                        ()
                                        (:
                                         (VarDecl
                                          ()
                                          (Id () "$listItems")
                                          (Just
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "testWindow"))
                                               (Id () "$"))
                                              (:
                                               (StringLit
                                                ()
                                                "#menu-custom > ul")
                                               []))
                                             (Id () "children"))
                                            [])))
                                         []))
                                       (:
                                        (ExprStmt
                                         ()
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (CallExpr
                                            ()
                                            (VarRef () (Id () "expect"))
                                            (:
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "$listItems"))
                                              (Id () "length"))
                                             []))
                                           (Id () "toBe"))
                                          (: (IntLit () 0) [])))
                                        (:
                                         (VarDeclStmt
                                          ()
                                          (:
                                           (VarDecl
                                            ()
                                            (Id () "menuItem")
                                            (Just
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "menu"))
                                               (Id () "addMenuItem"))
                                              (:
                                               (VarRef
                                                ()
                                                (Id () "commandString"))
                                               []))))
                                           []))
                                         (:
                                          (ExprStmt
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (VarRef () (Id () "menuItem"))
                                                []))
                                              (Id () "not"))
                                             (Id () "toBeNull"))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (VarRef () (Id () "menuItem"))
                                                []))
                                              (Id () "toBeDefined"))
                                             []))
                                           (:
                                            (ExprStmt
                                             ()
                                             (AssignExpr
                                              ()
                                              OpAssign
                                              (LVar () "$listItems")
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (VarRef
                                                   ()
                                                   (Id () "testWindow"))
                                                  (Id () "$"))
                                                 (:
                                                  (StringLit
                                                   ()
                                                   "#menu-custom > ul")
                                                  []))
                                                (Id () "children"))
                                               [])))
                                            (:
                                             (ExprStmt
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (VarRef () (Id () "expect"))
                                                 (:
                                                  (DotRef
                                                   ()
                                                   (VarRef
                                                    ()
                                                    (Id () "$listItems"))
                                                   (Id () "length"))
                                                  []))
                                                (Id () "toBe"))
                                               (: (IntLit () 1) [])))
                                             (:
                                              (ExprStmt
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (VarRef () (Id () "expect"))
                                                  (:
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef () (Id () "$"))
                                                     (:
                                                      (BracketRef
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "$listItems"))
                                                       (IntLit () 0))
                                                      []))
                                                    (Id () "length"))
                                                   []))
                                                 (Id () "toBe"))
                                                (: (IntLit () 1) [])))
                                              (:
                                               (VarDeclStmt
                                                ()
                                                (:
                                                 (VarDecl
                                                  ()
                                                  (Id () "command")
                                                  (Just
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "CommandManager"))
                                                     (Id () "get"))
                                                    (:
                                                     (VarRef
                                                      ()
                                                      (Id () "commandString"))
                                                     []))))
                                                 []))
                                               (:
                                                (ExprStmt
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (VarRef () (Id () "expect"))
                                                    (:
                                                     (PrefixExpr
                                                      ()
                                                      PrefixTypeof
                                                      (VarRef
                                                       ()
                                                       (Id () "command")))
                                                     []))
                                                   (Id () "toBe"))
                                                  (:
                                                   (StringLit () "object")
                                                   [])))
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (VarRef () (Id () "menu"))
                                                    (Id () "removeMenuItem"))
                                                   (:
                                                    (VarRef
                                                     ()
                                                     (Id () "command"))
                                                    [])))
                                                 (:
                                                  (ExprStmt
                                                   ()
                                                   (AssignExpr
                                                    ()
                                                    OpAssign
                                                    (LVar () "$listItems")
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (DotRef
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "testWindow"))
                                                        (Id () "$"))
                                                       (:
                                                        (StringLit
                                                         ()
                                                         "#menu-custom > ul")
                                                        []))
                                                      (Id () "children"))
                                                     [])))
                                                  (:
                                                   (ExprStmt
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "expect"))
                                                       (:
                                                        (DotRef
                                                         ()
                                                         (VarRef
                                                          ()
                                                          (Id () "$listItems"))
                                                         (Id () "length"))
                                                        []))
                                                      (Id () "toBe"))
                                                     (: (IntLit () 0) [])))
                                                   (:
                                                    (ExprStmt
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (DotRef
                                                       ()
                                                       (CallExpr
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "expect"))
                                                        (:
                                                         (DotRef
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id () "$"))
                                                           (:
                                                            (BracketRef
                                                             ()
                                                             (VarRef
                                                              ()
                                                              (Id
                                                               ()
                                                               "$listItems"))
                                                             (IntLit () 0))
                                                            []))
                                                          (Id () "length"))
                                                         []))
                                                       (Id () "toBe"))
                                                      (: (IntLit () 0) [])))
                                                    []))))))))))))))))))
                                  [])))
                               []))
                             []))))
                         (:
                          (ExprStmt
                           ()
                           (CallExpr
                            ()
                            (VarRef () (Id () "it"))
                            (:
                             (StringLit
                              ()
                              "should gracefully handle someone trying to delete a menu item that doesn't exist")
                             (:
                              (FuncExpr
                               ()
                               Nothing
                               []
                               (:
                                (ExprStmt
                                 ()
                                 (CallExpr
                                  ()
                                  (VarRef () (Id () "runs"))
                                  (:
                                   (FuncExpr
                                    ()
                                    Nothing
                                    []
                                    (:
                                     (VarDeclStmt
                                      ()
                                      (:
                                       (VarDecl
                                        ()
                                        (Id () "commandString")
                                        (Just (StringLit () "custom.command")))
                                       []))
                                     (:
                                      (VarDeclStmt
                                       ()
                                       (:
                                        (VarDecl
                                         ()
                                         (Id () "menu")
                                         (Just
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "Menus"))
                                            (Id () "addMenu"))
                                           (:
                                            (StringLit () "Custom")
                                            (:
                                             (StringLit () "menu-custom")
                                             [])))))
                                        []))
                                      (:
                                       (VarDeclStmt
                                        ()
                                        (:
                                         (VarDecl
                                          ()
                                          (Id () "exceptionThrown")
                                          (Just (BoolLit () False)))
                                         []))
                                       (:
                                        (TryStmt
                                         ()
                                         (BlockStmt
                                          ()
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "menu"))
                                              (Id () "removeMenuItem"))
                                             (:
                                              (VarRef
                                               ()
                                               (Id () "commandString"))
                                              [])))
                                           []))
                                         (Just
                                          (CatchClause
                                           ()
                                           (Id () "e")
                                           (BlockStmt
                                            ()
                                            (:
                                             (ExprStmt
                                              ()
                                              (AssignExpr
                                               ()
                                               OpAssign
                                               (LVar () "exceptionThrown")
                                               (BoolLit () True)))
                                             []))))
                                         Nothing)
                                        (:
                                         (ExprStmt
                                          ()
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (CallExpr
                                             ()
                                             (VarRef () (Id () "expect"))
                                             (:
                                              (VarRef
                                               ()
                                               (Id () "exceptionThrown"))
                                              []))
                                            (Id () "toBeTruthy"))
                                           []))
                                         []))))))
                                   [])))
                                []))
                              []))))
                          (:
                           (ExprStmt
                            ()
                            (CallExpr
                             ()
                             (VarRef () (Id () "it"))
                             (:
                              (StringLit
                               ()
                               "should gracefully handle someone trying to delete nothing")
                              (:
                               (FuncExpr
                                ()
                                Nothing
                                []
                                (:
                                 (ExprStmt
                                  ()
                                  (CallExpr
                                   ()
                                   (VarRef () (Id () "runs"))
                                   (:
                                    (FuncExpr
                                     ()
                                     Nothing
                                     []
                                     (:
                                      (VarDeclStmt
                                       ()
                                       (:
                                        (VarDecl
                                         ()
                                         (Id () "menu")
                                         (Just
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "Menus"))
                                            (Id () "addMenu"))
                                           (:
                                            (StringLit () "Custom")
                                            (:
                                             (StringLit () "menu-custom")
                                             [])))))
                                        []))
                                      (:
                                       (VarDeclStmt
                                        ()
                                        (:
                                         (VarDecl
                                          ()
                                          (Id () "exceptionThrown")
                                          (Just (BoolLit () False)))
                                         []))
                                       (:
                                        (TryStmt
                                         ()
                                         (BlockStmt
                                          ()
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "menu"))
                                              (Id () "removeMenuItem"))
                                             []))
                                           []))
                                         (Just
                                          (CatchClause
                                           ()
                                           (Id () "e")
                                           (BlockStmt
                                            ()
                                            (:
                                             (ExprStmt
                                              ()
                                              (AssignExpr
                                               ()
                                               OpAssign
                                               (LVar () "exceptionThrown")
                                               (BoolLit () True)))
                                             []))))
                                         Nothing)
                                        (:
                                         (ExprStmt
                                          ()
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (CallExpr
                                             ()
                                             (VarRef () (Id () "expect"))
                                             (:
                                              (VarRef
                                               ()
                                               (Id () "exceptionThrown"))
                                              []))
                                            (Id () "toBeTruthy"))
                                           []))
                                         [])))))
                                    [])))
                                 []))
                               []))))
                           [])))))
                      []))))
                  (:
                   (ExprStmt
                    ()
                    (CallExpr
                     ()
                     (VarRef () (Id () "describe"))
                     (:
                      (StringLit () "Add Menu Items")
                      (:
                       (FuncExpr
                        ()
                        Nothing
                        []
                        (:
                         (ExprStmt
                          ()
                          (CallExpr
                           ()
                           (VarRef () (Id () "it"))
                           (:
                            (StringLit () "should add new menu items")
                            (:
                             (FuncExpr
                              ()
                              Nothing
                              []
                              (:
                               (ExprStmt
                                ()
                                (CallExpr
                                 ()
                                 (VarRef () (Id () "runs"))
                                 (:
                                  (FuncExpr
                                   ()
                                   Nothing
                                   []
                                   (:
                                    (VarDeclStmt
                                     ()
                                     (:
                                      (VarDecl
                                       ()
                                       (Id () "menu")
                                       (Just
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (VarRef () (Id () "Menus"))
                                          (Id () "addMenu"))
                                         (:
                                          (StringLit () "MenuItem Menu 0")
                                          (:
                                           (StringLit () "menuitem-unittest0")
                                           [])))))
                                      []))
                                    (:
                                     (VarDeclStmt
                                      ()
                                      (:
                                       (VarDecl
                                        ()
                                        (Id () "listSelector")
                                        (Just
                                         (StringLit
                                          ()
                                          "#menuitem-unittest0 > ul")))
                                       []))
                                     (:
                                      (VarDeclStmt
                                       ()
                                       (:
                                        (VarDecl
                                         ()
                                         (Id () "$listItems")
                                         (Just
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "testWindow"))
                                              (Id () "$"))
                                             (:
                                              (VarRef () (Id () "listSelector"))
                                              []))
                                            (Id () "children"))
                                           [])))
                                        []))
                                      (:
                                       (ExprStmt
                                        ()
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (CallExpr
                                           ()
                                           (VarRef () (Id () "expect"))
                                           (:
                                            (DotRef
                                             ()
                                             (VarRef () (Id () "$listItems"))
                                             (Id () "length"))
                                            []))
                                          (Id () "toBe"))
                                         (: (IntLit () 0) [])))
                                       (:
                                        (ExprStmt
                                         ()
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "CommandManager"))
                                           (Id () "register"))
                                          (:
                                           (StringLit
                                            ()
                                            "Brackets Test Command Custom 0")
                                           (:
                                            (StringLit () "Menu-test.command00")
                                            (:
                                             (FuncExpr () Nothing [] [])
                                             [])))))
                                        (:
                                         (VarDeclStmt
                                          ()
                                          (:
                                           (VarDecl
                                            ()
                                            (Id () "menuItem")
                                            (Just
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "menu"))
                                               (Id () "addMenuItem"))
                                              (:
                                               (StringLit
                                                ()
                                                "Menu-test.command00")
                                               []))))
                                           []))
                                         (:
                                          (ExprStmt
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (VarRef () (Id () "menuItem"))
                                                []))
                                              (Id () "not"))
                                             (Id () "toBeNull"))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (VarRef () (Id () "menuItem"))
                                                []))
                                              (Id () "toBeDefined"))
                                             []))
                                           (:
                                            (ExprStmt
                                             ()
                                             (AssignExpr
                                              ()
                                              OpAssign
                                              (LVar () "$listItems")
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (VarRef
                                                   ()
                                                   (Id () "testWindow"))
                                                  (Id () "$"))
                                                 (:
                                                  (VarRef
                                                   ()
                                                   (Id () "listSelector"))
                                                  []))
                                                (Id () "children"))
                                               [])))
                                            (:
                                             (ExprStmt
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (VarRef () (Id () "expect"))
                                                 (:
                                                  (DotRef
                                                   ()
                                                   (VarRef
                                                    ()
                                                    (Id () "$listItems"))
                                                   (Id () "length"))
                                                  []))
                                                (Id () "toBe"))
                                               (: (IntLit () 1) [])))
                                             (:
                                              (ExprStmt
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (VarRef () (Id () "expect"))
                                                  (:
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef () (Id () "$"))
                                                     (:
                                                      (BracketRef
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "$listItems"))
                                                       (IntLit () 0))
                                                      []))
                                                    (Id () "length"))
                                                   []))
                                                 (Id () "toBe"))
                                                (: (IntLit () 1) [])))
                                              (:
                                               (ExprStmt
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (VarRef () (Id () "expect"))
                                                   (:
                                                    (DotRef
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (DotRef
                                                       ()
                                                       (CallExpr
                                                        ()
                                                        (VarRef () (Id () "$"))
                                                        (:
                                                         (BracketRef
                                                          ()
                                                          (VarRef
                                                           ()
                                                           (Id () "$listItems"))
                                                          (IntLit () 0))
                                                         []))
                                                       (Id () "find"))
                                                      (:
                                                       (StringLit
                                                        ()
                                                        "a#menuitem-unittest0-Menu-test\\.command00")
                                                       []))
                                                     (Id () "length"))
                                                    []))
                                                  (Id () "toBe"))
                                                 (: (IntLit () 1) [])))
                                               (:
                                                (ExprStmt
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (VarRef
                                                    ()
                                                    (Id () "CommandManager"))
                                                   (Id () "register"))
                                                  (:
                                                   (StringLit
                                                    ()
                                                    "Brackets Test Command Custom 1")
                                                   (:
                                                    (StringLit
                                                     ()
                                                     "Menu-test.command01")
                                                    (:
                                                     (FuncExpr () Nothing [] [])
                                                     [])))))
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (AssignExpr
                                                   ()
                                                   OpAssign
                                                   (LVar () "menuItem")
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (VarRef () (Id () "menu"))
                                                     (Id () "addMenuItem"))
                                                    (:
                                                     (StringLit
                                                      ()
                                                      "Menu-test.command01")
                                                     (:
                                                      (StringLit
                                                       ()
                                                       "Ctrl-Alt-1")
                                                      (:
                                                       (DotRef
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "Menus"))
                                                        (Id () "FIRST"))
                                                       []))))))
                                                 (:
                                                  (ExprStmt
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "expect"))
                                                       (:
                                                        (VarRef
                                                         ()
                                                         (Id () "menuItem"))
                                                        []))
                                                      (Id () "not"))
                                                     (Id () "toBeNull"))
                                                    []))
                                                  (:
                                                   (ExprStmt
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "expect"))
                                                       (:
                                                        (VarRef
                                                         ()
                                                         (Id () "menuItem"))
                                                        []))
                                                      (Id () "toBeDefined"))
                                                     []))
                                                   (:
                                                    (ExprStmt
                                                     ()
                                                     (AssignExpr
                                                      ()
                                                      OpAssign
                                                      (LVar () "$listItems")
                                                      (CallExpr
                                                       ()
                                                       (DotRef
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (DotRef
                                                          ()
                                                          (VarRef
                                                           ()
                                                           (Id () "testWindow"))
                                                          (Id () "$"))
                                                         (:
                                                          (VarRef
                                                           ()
                                                           (Id
                                                            ()
                                                            "listSelector"))
                                                          []))
                                                        (Id () "children"))
                                                       [])))
                                                    (:
                                                     (ExprStmt
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (DotRef
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (VarRef
                                                          ()
                                                          (Id () "expect"))
                                                         (:
                                                          (DotRef
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id
                                                             ()
                                                             "$listItems"))
                                                           (Id () "length"))
                                                          []))
                                                        (Id () "toBe"))
                                                       (: (IntLit () 2) [])))
                                                     (:
                                                      (ExprStmt
                                                       ()
                                                       (CallExpr
                                                        ()
                                                        (DotRef
                                                         ()
                                                         (CallExpr
                                                          ()
                                                          (VarRef
                                                           ()
                                                           (Id () "expect"))
                                                          (:
                                                           (DotRef
                                                            ()
                                                            (CallExpr
                                                             ()
                                                             (DotRef
                                                              ()
                                                              (CallExpr
                                                               ()
                                                               (VarRef
                                                                ()
                                                                (Id () "$"))
                                                               (:
                                                                (BracketRef
                                                                 ()
                                                                 (VarRef
                                                                  ()
                                                                  (Id
                                                                   ()
                                                                   "$listItems"))
                                                                 (IntLit () 0))
                                                                []))
                                                              (Id () "find"))
                                                             (:
                                                              (StringLit
                                                               ()
                                                               "a#menuitem-unittest0-Menu-test\\.command01")
                                                              []))
                                                            (Id () "length"))
                                                           []))
                                                         (Id () "toBe"))
                                                        (: (IntLit () 1) [])))
                                                      (:
                                                       (ExprStmt
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (DotRef
                                                          ()
                                                          (VarRef
                                                           ()
                                                           (Id
                                                            ()
                                                            "CommandManager"))
                                                          (Id () "register"))
                                                         (:
                                                          (StringLit
                                                           ()
                                                           "Brackets Test Command Custom 2")
                                                          (:
                                                           (StringLit
                                                            ()
                                                            "Menu-test.command02")
                                                           (:
                                                            (FuncExpr
                                                             ()
                                                             Nothing
                                                             []
                                                             [])
                                                            [])))))
                                                       (:
                                                        (ExprStmt
                                                         ()
                                                         (AssignExpr
                                                          ()
                                                          OpAssign
                                                          (LVar () "menuItem")
                                                          (CallExpr
                                                           ()
                                                           (DotRef
                                                            ()
                                                            (VarRef
                                                             ()
                                                             (Id () "menu"))
                                                            (Id
                                                             ()
                                                             "addMenuItem"))
                                                           (:
                                                            (StringLit
                                                             ()
                                                             "Menu-test.command02")
                                                            (:
                                                             (DotRef
                                                              ()
                                                              (VarRef
                                                               ()
                                                               (Id () "Menus"))
                                                              (Id () "LAST"))
                                                             [])))))
                                                        (:
                                                         (ExprStmt
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (DotRef
                                                            ()
                                                            (DotRef
                                                             ()
                                                             (CallExpr
                                                              ()
                                                              (VarRef
                                                               ()
                                                               (Id () "expect"))
                                                              (:
                                                               (VarRef
                                                                ()
                                                                (Id
                                                                 ()
                                                                 "menuItem"))
                                                               []))
                                                             (Id () "not"))
                                                            (Id () "toBeNull"))
                                                           []))
                                                         (:
                                                          (ExprStmt
                                                           ()
                                                           (CallExpr
                                                            ()
                                                            (DotRef
                                                             ()
                                                             (CallExpr
                                                              ()
                                                              (VarRef
                                                               ()
                                                               (Id () "expect"))
                                                              (:
                                                               (VarRef
                                                                ()
                                                                (Id
                                                                 ()
                                                                 "menuItem"))
                                                               []))
                                                             (Id
                                                              ()
                                                              "toBeDefined"))
                                                            []))
                                                          (:
                                                           (ExprStmt
                                                            ()
                                                            (AssignExpr
                                                             ()
                                                             OpAssign
                                                             (LVar
                                                              ()
                                                              "$listItems")
                                                             (CallExpr
                                                              ()
                                                              (DotRef
                                                               ()
                                                               (CallExpr
                                                                ()
                                                                (DotRef
                                                                 ()
                                                                 (VarRef
                                                                  ()
                                                                  (Id
                                                                   ()
                                                                   "testWindow"))
                                                                 (Id () "$"))
                                                                (:
                                                                 (VarRef
                                                                  ()
                                                                  (Id
                                                                   ()
                                                                   "listSelector"))
                                                                 []))
                                                               (Id
                                                                ()
                                                                "children"))
                                                              [])))
                                                           (:
                                                            (ExprStmt
                                                             ()
                                                             (CallExpr
                                                              ()
                                                              (DotRef
                                                               ()
                                                               (CallExpr
                                                                ()
                                                                (VarRef
                                                                 ()
                                                                 (Id
                                                                  ()
                                                                  "expect"))
                                                                (:
                                                                 (DotRef
                                                                  ()
                                                                  (VarRef
                                                                   ()
                                                                   (Id
                                                                    ()
                                                                    "$listItems"))
                                                                  (Id
                                                                   ()
                                                                   "length"))
                                                                 []))
                                                               (Id () "toBe"))
                                                              (:
                                                               (IntLit () 3)
                                                               [])))
                                                            (:
                                                             (ExprStmt
                                                              ()
                                                              (CallExpr
                                                               ()
                                                               (DotRef
                                                                ()
                                                                (CallExpr
                                                                 ()
                                                                 (VarRef
                                                                  ()
                                                                  (Id
                                                                   ()
                                                                   "expect"))
                                                                 (:
                                                                  (DotRef
                                                                   ()
                                                                   (CallExpr
                                                                    ()
                                                                    (DotRef
                                                                     ()
                                                                     (CallExpr
                                                                      ()
                                                                      (VarRef
                                                                       ()
                                                                       (Id
                                                                        ()
                                                                        "$"))
                                                                      (:
                                                                       (BracketRef
                                                                        ()
                                                                        (VarRef
                                                                         ()
                                                                         (Id
                                                                          ()
                                                                          "$listItems"))
                                                                        (IntLit
                                                                         ()
                                                                         2))
                                                                       []))
                                                                     (Id
                                                                      ()
                                                                      "find"))
                                                                    (:
                                                                     (StringLit
                                                                      ()
                                                                      "a#menuitem-unittest0-Menu-test\\.command02")
                                                                     []))
                                                                   (Id
                                                                    ()
                                                                    "length"))
                                                                  []))
                                                                (Id () "toBe"))
                                                               (:
                                                                (IntLit () 1)
                                                                [])))
                                                             (:
                                                              (ExprStmt
                                                               ()
                                                               (CallExpr
                                                                ()
                                                                (DotRef
                                                                 ()
                                                                 (VarRef
                                                                  ()
                                                                  (Id
                                                                   ()
                                                                   "CommandManager"))
                                                                 (Id
                                                                  ()
                                                                  "register"))
                                                                (:
                                                                 (StringLit
                                                                  ()
                                                                  "Brackets Test Command Custom 3")
                                                                 (:
                                                                  (StringLit
                                                                   ()
                                                                   "Menu-test.command03")
                                                                  (:
                                                                   (FuncExpr
                                                                    ()
                                                                    Nothing
                                                                    []
                                                                    [])
                                                                   [])))))
                                                              (:
                                                               (ExprStmt
                                                                ()
                                                                (AssignExpr
                                                                 ()
                                                                 OpAssign
                                                                 (LVar
                                                                  ()
                                                                  "menuItem")
                                                                 (CallExpr
                                                                  ()
                                                                  (DotRef
                                                                   ()
                                                                   (VarRef
                                                                    ()
                                                                    (Id
                                                                     ()
                                                                     "menu"))
                                                                   (Id
                                                                    ()
                                                                    "addMenuItem"))
                                                                  (:
                                                                   (StringLit
                                                                    ()
                                                                    "Menu-test.command03")
                                                                   (:
                                                                    (StringLit
                                                                     ()
                                                                     "Ctrl-Alt-3")
                                                                    (:
                                                                     (DotRef
                                                                      ()
                                                                      (VarRef
                                                                       ()
                                                                       (Id
                                                                        ()
                                                                        "Menus"))
                                                                      (Id
                                                                       ()
                                                                       "AFTER"))
                                                                     (:
                                                                      (StringLit
                                                                       ()
                                                                       "Menu-test.command01")
                                                                      [])))))))
                                                               (:
                                                                (ExprStmt
                                                                 ()
                                                                 (CallExpr
                                                                  ()
                                                                  (DotRef
                                                                   ()
                                                                   (DotRef
                                                                    ()
                                                                    (CallExpr
                                                                     ()
                                                                     (VarRef
                                                                      ()
                                                                      (Id
                                                                       ()
                                                                       "expect"))
                                                                     (:
                                                                      (VarRef
                                                                       ()
                                                                       (Id
                                                                        ()
                                                                        "menuItem"))
                                                                      []))
                                                                    (Id
                                                                     ()
                                                                     "not"))
                                                                   (Id
                                                                    ()
                                                                    "toBeNull"))
                                                                  []))
                                                                (:
                                                                 (ExprStmt
                                                                  ()
                                                                  (CallExpr
                                                                   ()
                                                                   (DotRef
                                                                    ()
                                                                    (CallExpr
                                                                     ()
                                                                     (VarRef
                                                                      ()
                                                                      (Id
                                                                       ()
                                                                       "expect"))
                                                                     (:
                                                                      (VarRef
                                                                       ()
                                                                       (Id
                                                                        ()
                                                                        "menuItem"))
                                                                      []))
                                                                    (Id
                                                                     ()
                                                                     "toBeDefined"))
                                                                   []))
                                                                 (:
                                                                  (ExprStmt
                                                                   ()
                                                                   (AssignExpr
                                                                    ()
                                                                    OpAssign
                                                                    (LVar
                                                                     ()
                                                                     "$listItems")
                                                                    (CallExpr
                                                                     ()
                                                                     (DotRef
                                                                      ()
                                                                      (CallExpr
                                                                       ()
                                                                       (DotRef
                                                                        ()
                                                                        (VarRef
                                                                         ()
                                                                         (Id
                                                                          ()
                                                                          "testWindow"))
                                                                        (Id
                                                                         ()
                                                                         "$"))
                                                                       (:
                                                                        (VarRef
                                                                         ()
                                                                         (Id
                                                                          ()
                                                                          "listSelector"))
                                                                        []))
                                                                      (Id
                                                                       ()
                                                                       "children"))
                                                                     [])))
                                                                  (:
                                                                   (ExprStmt
                                                                    ()
                                                                    (CallExpr
                                                                     ()
                                                                     (DotRef
                                                                      ()
                                                                      (CallExpr
                                                                       ()
                                                                       (VarRef
                                                                        ()
                                                                        (Id
                                                                         ()
                                                                         "expect"))
                                                                       (:
                                                                        (DotRef
                                                                         ()
                                                                         (VarRef
                                                                          ()
                                                                          (Id
                                                                           ()
                                                                           "$listItems"))
                                                                         (Id
                                                                          ()
                                                                          "length"))
                                                                        []))
                                                                      (Id
                                                                       ()
                                                                       "toBe"))
                                                                     (:
                                                                      (IntLit
                                                                       ()
                                                                       4)
                                                                      [])))
                                                                   (:
                                                                    (ExprStmt
                                                                     ()
                                                                     (CallExpr
                                                                      ()
                                                                      (DotRef
                                                                       ()
                                                                       (CallExpr
                                                                        ()
                                                                        (VarRef
                                                                         ()
                                                                         (Id
                                                                          ()
                                                                          "expect"))
                                                                        (:
                                                                         (DotRef
                                                                          ()
                                                                          (CallExpr
                                                                           ()
                                                                           (DotRef
                                                                            ()
                                                                            (CallExpr
                                                                             ()
                                                                             (VarRef
                                                                              ()
                                                                              (Id
                                                                               ()
                                                                               "$"))
                                                                             (:
                                                                              (BracketRef
                                                                               ()
                                                                               (VarRef
                                                                                ()
                                                                                (Id
                                                                                 ()
                                                                                 "$listItems"))
                                                                               (IntLit
                                                                                ()
                                                                                1))
                                                                              []))
                                                                            (Id
                                                                             ()
                                                                             "find"))
                                                                           (:
                                                                            (StringLit
                                                                             ()
                                                                             "a#menuitem-unittest0-Menu-test\\.command03")
                                                                            []))
                                                                          (Id
                                                                           ()
                                                                           "length"))
                                                                         []))
                                                                       (Id
                                                                        ()
                                                                        "toBe"))
                                                                      (:
                                                                       (IntLit
                                                                        ()
                                                                        1)
                                                                       [])))
                                                                    (:
                                                                     (ExprStmt
                                                                      ()
                                                                      (CallExpr
                                                                       ()
                                                                       (DotRef
                                                                        ()
                                                                        (VarRef
                                                                         ()
                                                                         (Id
                                                                          ()
                                                                          "CommandManager"))
                                                                        (Id
                                                                         ()
                                                                         "register"))
                                                                       (:
                                                                        (StringLit
                                                                         ()
                                                                         "Brackets Test Command Custom 4")
                                                                        (:
                                                                         (StringLit
                                                                          ()
                                                                          "Menu-test.command04")
                                                                         (:
                                                                          (FuncExpr
                                                                           ()
                                                                           Nothing
                                                                           []
                                                                           [])
                                                                          [])))))
                                                                     (:
                                                                      (ExprStmt
                                                                       ()
                                                                       (AssignExpr
                                                                        ()
                                                                        OpAssign
                                                                        (LVar
                                                                         ()
                                                                         "menuItem")
                                                                        (CallExpr
                                                                         ()
                                                                         (DotRef
                                                                          ()
                                                                          (VarRef
                                                                           ()
                                                                           (Id
                                                                            ()
                                                                            "menu"))
                                                                          (Id
                                                                           ()
                                                                           "addMenuItem"))
                                                                         (:
                                                                          (StringLit
                                                                           ()
                                                                           "Menu-test.command04")
                                                                          (:
                                                                           (StringLit
                                                                            ()
                                                                            "Ctrl-Alt-4")
                                                                           (:
                                                                            (DotRef
                                                                             ()
                                                                             (VarRef
                                                                              ()
                                                                              (Id
                                                                               ()
                                                                               "Menus"))
                                                                             (Id
                                                                              ()
                                                                              "BEFORE"))
                                                                            (:
                                                                             (StringLit
                                                                              ()
                                                                              "Menu-test.command01")
                                                                             [])))))))
                                                                      (:
                                                                       (ExprStmt
                                                                        ()
                                                                        (CallExpr
                                                                         ()
                                                                         (DotRef
                                                                          ()
                                                                          (DotRef
                                                                           ()
                                                                           (CallExpr
                                                                            ()
                                                                            (VarRef
                                                                             ()
                                                                             (Id
                                                                              ()
                                                                              "expect"))
                                                                            (:
                                                                             (VarRef
                                                                              ()
                                                                              (Id
                                                                               ()
                                                                               "menuItem"))
                                                                             []))
                                                                           (Id
                                                                            ()
                                                                            "not"))
                                                                          (Id
                                                                           ()
                                                                           "toBeNull"))
                                                                         []))
                                                                       (:
                                                                        (ExprStmt
                                                                         ()
                                                                         (CallExpr
                                                                          ()
                                                                          (DotRef
                                                                           ()
                                                                           (CallExpr
                                                                            ()
                                                                            (VarRef
                                                                             ()
                                                                             (Id
                                                                              ()
                                                                              "expect"))
                                                                            (:
                                                                             (VarRef
                                                                              ()
                                                                              (Id
                                                                               ()
                                                                               "menuItem"))
                                                                             []))
                                                                           (Id
                                                                            ()
                                                                            "toBeDefined"))
                                                                          []))
                                                                        (:
                                                                         (ExprStmt
                                                                          ()
                                                                          (AssignExpr
                                                                           ()
                                                                           OpAssign
                                                                           (LVar
                                                                            ()
                                                                            "$listItems")
                                                                           (CallExpr
                                                                            ()
                                                                            (DotRef
                                                                             ()
                                                                             (CallExpr
                                                                              ()
                                                                              (DotRef
                                                                               ()
                                                                               (VarRef
                                                                                ()
                                                                                (Id
                                                                                 ()
                                                                                 "testWindow"))
                                                                               (Id
                                                                                ()
                                                                                "$"))
                                                                              (:
                                                                               (VarRef
                                                                                ()
                                                                                (Id
                                                                                 ()
                                                                                 "listSelector"))
                                                                               []))
                                                                             (Id
                                                                              ()
                                                                              "children"))
                                                                            [])))
                                                                         (:
                                                                          (ExprStmt
                                                                           ()
                                                                           (CallExpr
                                                                            ()
                                                                            (DotRef
                                                                             ()
                                                                             (CallExpr
                                                                              ()
                                                                              (VarRef
                                                                               ()
                                                                               (Id
                                                                                ()
                                                                                "expect"))
                                                                              (:
                                                                               (DotRef
                                                                                ()
                                                                                (VarRef
                                                                                 ()
                                                                                 (Id
                                                                                  ()
                                                                                  "$listItems"))
                                                                                (Id
                                                                                 ()
                                                                                 "length"))
                                                                               []))
                                                                             (Id
                                                                              ()
                                                                              "toBe"))
                                                                            (:
                                                                             (IntLit
                                                                              ()
                                                                              5)
                                                                             [])))
                                                                          (:
                                                                           (ExprStmt
                                                                            ()
                                                                            (CallExpr
                                                                             ()
                                                                             (DotRef
                                                                              ()
                                                                              (CallExpr
                                                                               ()
                                                                               (VarRef
                                                                                ()
                                                                                (Id
                                                                                 ()
                                                                                 "expect"))
                                                                               (:
                                                                                (DotRef
                                                                                 ()
                                                                                 (CallExpr
                                                                                  ()
                                                                                  (DotRef
                                                                                   ()
                                                                                   (CallExpr
                                                                                    ()
                                                                                    (VarRef
                                                                                     ()
                                                                                     (Id
                                                                                      ()
                                                                                      "$"))
                                                                                    (:
                                                                                     (BracketRef
                                                                                      ()
                                                                                      (VarRef
                                                                                       ()
                                                                                       (Id
                                                                                        ()
                                                                                        "$listItems"))
                                                                                      (IntLit
                                                                                       ()
                                                                                       0))
                                                                                     []))
                                                                                   (Id
                                                                                    ()
                                                                                    "find"))
                                                                                  (:
                                                                                   (StringLit
                                                                                    ()
                                                                                    "a#menuitem-unittest0-Menu-test\\.command04")
                                                                                   []))
                                                                                 (Id
                                                                                  ()
                                                                                  "length"))
                                                                                []))
                                                                              (Id
                                                                               ()
                                                                               "toBe"))
                                                                             (:
                                                                              (IntLit
                                                                               ()
                                                                               1)
                                                                              [])))
                                                                           (:
                                                                            (ExprStmt
                                                                             ()
                                                                             (CallExpr
                                                                              ()
                                                                              (DotRef
                                                                               ()
                                                                               (VarRef
                                                                                ()
                                                                                (Id
                                                                                 ()
                                                                                 "menu"))
                                                                               (Id
                                                                                ()
                                                                                "addMenuDivider"))
                                                                              (:
                                                                               (DotRef
                                                                                ()
                                                                                (VarRef
                                                                                 ()
                                                                                 (Id
                                                                                  ()
                                                                                  "Menus"))
                                                                                (Id
                                                                                 ()
                                                                                 "AFTER"))
                                                                               (:
                                                                                (StringLit
                                                                                 ()
                                                                                 "Menu-test.command04")
                                                                                []))))
                                                                            (:
                                                                             (ExprStmt
                                                                              ()
                                                                              (AssignExpr
                                                                               ()
                                                                               OpAssign
                                                                               (LVar
                                                                                ()
                                                                                "$listItems")
                                                                               (CallExpr
                                                                                ()
                                                                                (DotRef
                                                                                 ()
                                                                                 (CallExpr
                                                                                  ()
                                                                                  (DotRef
                                                                                   ()
                                                                                   (VarRef
                                                                                    ()
                                                                                    (Id
                                                                                     ()
                                                                                     "testWindow"))
                                                                                   (Id
                                                                                    ()
                                                                                    "$"))
                                                                                  (:
                                                                                   (VarRef
                                                                                    ()
                                                                                    (Id
                                                                                     ()
                                                                                     "listSelector"))
                                                                                   []))
                                                                                 (Id
                                                                                  ()
                                                                                  "children"))
                                                                                [])))
                                                                             (:
                                                                              (ExprStmt
                                                                               ()
                                                                               (CallExpr
                                                                                ()
                                                                                (DotRef
                                                                                 ()
                                                                                 (CallExpr
                                                                                  ()
                                                                                  (VarRef
                                                                                   ()
                                                                                   (Id
                                                                                    ()
                                                                                    "expect"))
                                                                                  (:
                                                                                   (DotRef
                                                                                    ()
                                                                                    (VarRef
                                                                                     ()
                                                                                     (Id
                                                                                      ()
                                                                                      "$listItems"))
                                                                                    (Id
                                                                                     ()
                                                                                     "length"))
                                                                                   []))
                                                                                 (Id
                                                                                  ()
                                                                                  "toBe"))
                                                                                (:
                                                                                 (IntLit
                                                                                  ()
                                                                                  6)
                                                                                 [])))
                                                                              (:
                                                                               (ExprStmt
                                                                                ()
                                                                                (CallExpr
                                                                                 ()
                                                                                 (DotRef
                                                                                  ()
                                                                                  (CallExpr
                                                                                   ()
                                                                                   (VarRef
                                                                                    ()
                                                                                    (Id
                                                                                     ()
                                                                                     "expect"))
                                                                                   (:
                                                                                    (DotRef
                                                                                     ()
                                                                                     (CallExpr
                                                                                      ()
                                                                                      (DotRef
                                                                                       ()
                                                                                       (CallExpr
                                                                                        ()
                                                                                        (VarRef
                                                                                         ()
                                                                                         (Id
                                                                                          ()
                                                                                          "$"))
                                                                                        (:
                                                                                         (BracketRef
                                                                                          ()
                                                                                          (VarRef
                                                                                           ()
                                                                                           (Id
                                                                                            ()
                                                                                            "$listItems"))
                                                                                          (IntLit
                                                                                           ()
                                                                                           1))
                                                                                         []))
                                                                                       (Id
                                                                                        ()
                                                                                        "find"))
                                                                                      (:
                                                                                       (StringLit
                                                                                        ()
                                                                                        "hr.divider")
                                                                                       []))
                                                                                     (Id
                                                                                      ()
                                                                                      "length"))
                                                                                    []))
                                                                                  (Id
                                                                                   ()
                                                                                   "toBe"))
                                                                                 (:
                                                                                  (IntLit
                                                                                   ()
                                                                                   1)
                                                                                  [])))
                                                                               (:
                                                                                (ExprStmt
                                                                                 ()
                                                                                 (CallExpr
                                                                                  ()
                                                                                  (DotRef
                                                                                   ()
                                                                                   (VarRef
                                                                                    ()
                                                                                    (Id
                                                                                     ()
                                                                                     "menu"))
                                                                                   (Id
                                                                                    ()
                                                                                    "addMenuDivider"))
                                                                                  []))
                                                                                (:
                                                                                 (ExprStmt
                                                                                  ()
                                                                                  (AssignExpr
                                                                                   ()
                                                                                   OpAssign
                                                                                   (LVar
                                                                                    ()
                                                                                    "$listItems")
                                                                                   (CallExpr
                                                                                    ()
                                                                                    (DotRef
                                                                                     ()
                                                                                     (CallExpr
                                                                                      ()
                                                                                      (DotRef
                                                                                       ()
                                                                                       (VarRef
                                                                                        ()
                                                                                        (Id
                                                                                         ()
                                                                                         "testWindow"))
                                                                                       (Id
                                                                                        ()
                                                                                        "$"))
                                                                                      (:
                                                                                       (VarRef
                                                                                        ()
                                                                                        (Id
                                                                                         ()
                                                                                         "listSelector"))
                                                                                       []))
                                                                                     (Id
                                                                                      ()
                                                                                      "children"))
                                                                                    [])))
                                                                                 (:
                                                                                  (ExprStmt
                                                                                   ()
                                                                                   (CallExpr
                                                                                    ()
                                                                                    (DotRef
                                                                                     ()
                                                                                     (CallExpr
                                                                                      ()
                                                                                      (VarRef
                                                                                       ()
                                                                                       (Id
                                                                                        ()
                                                                                        "expect"))
                                                                                      (:
                                                                                       (DotRef
                                                                                        ()
                                                                                        (VarRef
                                                                                         ()
                                                                                         (Id
                                                                                          ()
                                                                                          "$listItems"))
                                                                                        (Id
                                                                                         ()
                                                                                         "length"))
                                                                                       []))
                                                                                     (Id
                                                                                      ()
                                                                                      "toBe"))
                                                                                    (:
                                                                                     (IntLit
                                                                                      ()
                                                                                      7)
                                                                                     [])))
                                                                                  (:
                                                                                   (ExprStmt
                                                                                    ()
                                                                                    (CallExpr
                                                                                     ()
                                                                                     (DotRef
                                                                                      ()
                                                                                      (CallExpr
                                                                                       ()
                                                                                       (VarRef
                                                                                        ()
                                                                                        (Id
                                                                                         ()
                                                                                         "expect"))
                                                                                       (:
                                                                                        (DotRef
                                                                                         ()
                                                                                         (CallExpr
                                                                                          ()
                                                                                          (DotRef
                                                                                           ()
                                                                                           (CallExpr
                                                                                            ()
                                                                                            (VarRef
                                                                                             ()
                                                                                             (Id
                                                                                              ()
                                                                                              "$"))
                                                                                            (:
                                                                                             (BracketRef
                                                                                              ()
                                                                                              (VarRef
                                                                                               ()
                                                                                               (Id
                                                                                                ()
                                                                                                "$listItems"))
                                                                                              (IntLit
                                                                                               ()
                                                                                               6))
                                                                                             []))
                                                                                           (Id
                                                                                            ()
                                                                                            "find"))
                                                                                          (:
                                                                                           (StringLit
                                                                                            ()
                                                                                            "hr.divider")
                                                                                           []))
                                                                                         (Id
                                                                                          ()
                                                                                          "length"))
                                                                                        []))
                                                                                      (Id
                                                                                       ()
                                                                                       "toBe"))
                                                                                     (:
                                                                                      (IntLit
                                                                                       ()
                                                                                       1)
                                                                                      [])))
                                                                                   [])))))))))))))))))))))))))))))))))))))))))))))))))
                                  [])))
                               []))
                             []))))
                         (:
                          (ExprStmt
                           ()
                           (CallExpr
                            ()
                            (VarRef () (Id () "it"))
                            (:
                             (StringLit
                              ()
                              "should add menu items to beginnging and end of menu section")
                             (:
                              (FuncExpr
                               ()
                               Nothing
                               []
                               (:
                                (ExprStmt
                                 ()
                                 (CallExpr
                                  ()
                                  (DotRef
                                   ()
                                   (VarRef () (Id () "CommandManager"))
                                   (Id () "register"))
                                  (:
                                   (StringLit
                                    ()
                                    "Brackets Test Command Section 10")
                                   (:
                                    (StringLit () "Menu-test.command10")
                                    (: (FuncExpr () Nothing [] []) [])))))
                                (:
                                 (ExprStmt
                                  ()
                                  (CallExpr
                                   ()
                                   (DotRef
                                    ()
                                    (VarRef () (Id () "CommandManager"))
                                    (Id () "register"))
                                   (:
                                    (StringLit
                                     ()
                                     "Brackets Test Command Section 11")
                                    (:
                                     (StringLit () "Menu-test.command11")
                                     (: (FuncExpr () Nothing [] []) [])))))
                                 (:
                                  (ExprStmt
                                   ()
                                   (CallExpr
                                    ()
                                    (DotRef
                                     ()
                                     (VarRef () (Id () "CommandManager"))
                                     (Id () "register"))
                                    (:
                                     (StringLit
                                      ()
                                      "Brackets Test Command Section 12")
                                     (:
                                      (StringLit () "Menu-test.command12")
                                      (: (FuncExpr () Nothing [] []) [])))))
                                  (:
                                   (ExprStmt
                                    ()
                                    (CallExpr
                                     ()
                                     (DotRef
                                      ()
                                      (VarRef () (Id () "CommandManager"))
                                      (Id () "register"))
                                     (:
                                      (StringLit
                                       ()
                                       "Brackets Test Command Section 13")
                                      (:
                                       (StringLit () "Menu-test.command13")
                                       (: (FuncExpr () Nothing [] []) [])))))
                                   (:
                                    (ExprStmt
                                     ()
                                     (CallExpr
                                      ()
                                      (DotRef
                                       ()
                                       (VarRef () (Id () "CommandManager"))
                                       (Id () "register"))
                                      (:
                                       (StringLit
                                        ()
                                        "Brackets Test Command Section 14")
                                       (:
                                        (StringLit () "Menu-test.command14")
                                        (: (FuncExpr () Nothing [] []) [])))))
                                    (:
                                     (ExprStmt
                                      ()
                                      (CallExpr
                                       ()
                                       (DotRef
                                        ()
                                        (VarRef () (Id () "CommandManager"))
                                        (Id () "register"))
                                       (:
                                        (StringLit
                                         ()
                                         "Brackets Test Command Section 15")
                                        (:
                                         (StringLit () "Menu-test.command15")
                                         (: (FuncExpr () Nothing [] []) [])))))
                                     (:
                                      (ExprStmt
                                       ()
                                       (CallExpr
                                        ()
                                        (DotRef
                                         ()
                                         (VarRef () (Id () "CommandManager"))
                                         (Id () "register"))
                                        (:
                                         (StringLit
                                          ()
                                          "Brackets Test Command Section 16")
                                         (:
                                          (StringLit () "Menu-test.command16")
                                          (: (FuncExpr () Nothing [] []) [])))))
                                      (:
                                       (ExprStmt
                                        ()
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (VarRef () (Id () "CommandManager"))
                                          (Id () "register"))
                                         (:
                                          (StringLit
                                           ()
                                           "Brackets Test Command Section 17")
                                          (:
                                           (StringLit () "Menu-test.command17")
                                           (:
                                            (FuncExpr () Nothing [] [])
                                            [])))))
                                       (:
                                        (ExprStmt
                                         ()
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "CommandManager"))
                                           (Id () "register"))
                                          (:
                                           (StringLit
                                            ()
                                            "Brackets Test Command Section 18")
                                           (:
                                            (StringLit () "Menu-test.command18")
                                            (:
                                             (FuncExpr () Nothing [] [])
                                             [])))))
                                        (:
                                         (VarDeclStmt
                                          ()
                                          (:
                                           (VarDecl
                                            ()
                                            (Id () "menu")
                                            (Just
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "Menus"))
                                               (Id () "addMenu"))
                                              (:
                                               (StringLit () "Section Test")
                                               (:
                                                (StringLit
                                                 ()
                                                 "menuitem-unittest1")
                                                [])))))
                                           []))
                                         (:
                                          (ExprStmt
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (VarRef () (Id () "menu"))
                                             (Id () "addMenuItem"))
                                            (:
                                             (StringLit
                                              ()
                                              "Menu-test.command10")
                                             [])))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "menu"))
                                              (Id () "addMenuItem"))
                                             (:
                                              (StringLit
                                               ()
                                               "Menu-test.command11")
                                              [])))
                                           (:
                                            (ExprStmt
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "menu"))
                                               (Id () "addMenuDivider"))
                                              []))
                                            (:
                                             (ExprStmt
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (VarRef () (Id () "menu"))
                                                (Id () "addMenuItem"))
                                               (:
                                                (StringLit
                                                 ()
                                                 "Menu-test.command12")
                                                [])))
                                             (:
                                              (ExprStmt
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (VarRef () (Id () "menu"))
                                                 (Id () "addMenuItem"))
                                                (:
                                                 (StringLit
                                                  ()
                                                  "Menu-test.command13")
                                                 [])))
                                              (:
                                               (VarDeclStmt
                                                ()
                                                (:
                                                 (VarDecl
                                                  ()
                                                  (Id () "menuSectionCmd0")
                                                  (Just
                                                   (ObjectLit
                                                    ()
                                                    (:
                                                     ((,)
                                                      (PropId
                                                       ()
                                                       (Id () "sectionMarker"))
                                                      (StringLit
                                                       ()
                                                       "Menu-test.command10"))
                                                     []))))
                                                 (:
                                                  (VarDecl
                                                   ()
                                                   (Id () "menuSectionCmd2")
                                                   (Just
                                                    (ObjectLit
                                                     ()
                                                     (:
                                                      ((,)
                                                       (PropId
                                                        ()
                                                        (Id () "sectionMarker"))
                                                       (StringLit
                                                        ()
                                                        "Menu-test.command12"))
                                                      []))))
                                                  [])))
                                               (:
                                                (VarDeclStmt
                                                 ()
                                                 (:
                                                  (VarDecl
                                                   ()
                                                   (Id () "listSelector")
                                                   (Just
                                                    (StringLit
                                                     ()
                                                     "#menuitem-unittest1 > ul")))
                                                  []))
                                                (:
                                                 (VarDeclStmt
                                                  ()
                                                  (:
                                                   (VarDecl
                                                    ()
                                                    (Id () "menuItem")
                                                    (Just
                                                     (CallExpr
                                                      ()
                                                      (DotRef
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "menu"))
                                                       (Id () "addMenuItem"))
                                                      (:
                                                       (StringLit
                                                        ()
                                                        "Menu-test.command14")
                                                       (:
                                                        (NullLit ())
                                                        (:
                                                         (DotRef
                                                          ()
                                                          (VarRef
                                                           ()
                                                           (Id () "Menus"))
                                                          (Id
                                                           ()
                                                           "LAST_IN_SECTION"))
                                                         (:
                                                          (VarRef
                                                           ()
                                                           (Id
                                                            ()
                                                            "menuSectionCmd0"))
                                                          [])))))))
                                                   []))
                                                 (:
                                                  (VarDeclStmt
                                                   ()
                                                   (:
                                                    (VarDecl
                                                     ()
                                                     (Id () "$listItems")
                                                     (Just
                                                      (CallExpr
                                                       ()
                                                       (DotRef
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (DotRef
                                                          ()
                                                          (VarRef
                                                           ()
                                                           (Id () "testWindow"))
                                                          (Id () "$"))
                                                         (:
                                                          (VarRef
                                                           ()
                                                           (Id
                                                            ()
                                                            "listSelector"))
                                                          []))
                                                        (Id () "children"))
                                                       [])))
                                                    []))
                                                  (:
                                                   (ExprStmt
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "expect"))
                                                       (:
                                                        (DotRef
                                                         ()
                                                         (VarRef
                                                          ()
                                                          (Id () "$listItems"))
                                                         (Id () "length"))
                                                        []))
                                                      (Id () "toBe"))
                                                     (: (IntLit () 6) [])))
                                                   (:
                                                    (ExprStmt
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (DotRef
                                                       ()
                                                       (CallExpr
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "expect"))
                                                        (:
                                                         (DotRef
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (DotRef
                                                            ()
                                                            (CallExpr
                                                             ()
                                                             (VarRef
                                                              ()
                                                              (Id () "$"))
                                                             (:
                                                              (BracketRef
                                                               ()
                                                               (VarRef
                                                                ()
                                                                (Id
                                                                 ()
                                                                 "$listItems"))
                                                               (IntLit () 2))
                                                              []))
                                                            (Id () "find"))
                                                           (:
                                                            (StringLit
                                                             ()
                                                             "a#menuitem-unittest1-Menu-test\\.command14")
                                                            []))
                                                          (Id () "length"))
                                                         []))
                                                       (Id () "toBe"))
                                                      (: (IntLit () 1) [])))
                                                    (:
                                                     (ExprStmt
                                                      ()
                                                      (AssignExpr
                                                       ()
                                                       OpAssign
                                                       (LVar () "menuItem")
                                                       (CallExpr
                                                        ()
                                                        (DotRef
                                                         ()
                                                         (VarRef
                                                          ()
                                                          (Id () "menu"))
                                                         (Id () "addMenuItem"))
                                                        (:
                                                         (StringLit
                                                          ()
                                                          "Menu-test.command15")
                                                         (:
                                                          (NullLit ())
                                                          (:
                                                           (DotRef
                                                            ()
                                                            (VarRef
                                                             ()
                                                             (Id () "Menus"))
                                                            (Id
                                                             ()
                                                             "LAST_IN_SECTION"))
                                                           (:
                                                            (VarRef
                                                             ()
                                                             (Id
                                                              ()
                                                              "menuSectionCmd2"))
                                                            [])))))))
                                                     (:
                                                      (ExprStmt
                                                       ()
                                                       (AssignExpr
                                                        ()
                                                        OpAssign
                                                        (LVar () "$listItems")
                                                        (CallExpr
                                                         ()
                                                         (DotRef
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (DotRef
                                                            ()
                                                            (VarRef
                                                             ()
                                                             (Id
                                                              ()
                                                              "testWindow"))
                                                            (Id () "$"))
                                                           (:
                                                            (VarRef
                                                             ()
                                                             (Id
                                                              ()
                                                              "listSelector"))
                                                            []))
                                                          (Id () "children"))
                                                         [])))
                                                      (:
                                                       (ExprStmt
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (DotRef
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id () "expect"))
                                                           (:
                                                            (DotRef
                                                             ()
                                                             (VarRef
                                                              ()
                                                              (Id
                                                               ()
                                                               "$listItems"))
                                                             (Id () "length"))
                                                            []))
                                                          (Id () "toBe"))
                                                         (: (IntLit () 7) [])))
                                                       (:
                                                        (ExprStmt
                                                         ()
                                                         (CallExpr
                                                          ()
                                                          (DotRef
                                                           ()
                                                           (CallExpr
                                                            ()
                                                            (VarRef
                                                             ()
                                                             (Id () "expect"))
                                                            (:
                                                             (DotRef
                                                              ()
                                                              (CallExpr
                                                               ()
                                                               (DotRef
                                                                ()
                                                                (CallExpr
                                                                 ()
                                                                 (VarRef
                                                                  ()
                                                                  (Id () "$"))
                                                                 (:
                                                                  (BracketRef
                                                                   ()
                                                                   (VarRef
                                                                    ()
                                                                    (Id
                                                                     ()
                                                                     "$listItems"))
                                                                   (IntLit
                                                                    ()
                                                                    6))
                                                                  []))
                                                                (Id () "find"))
                                                               (:
                                                                (StringLit
                                                                 ()
                                                                 "a#menuitem-unittest1-Menu-test\\.command15")
                                                                []))
                                                              (Id () "length"))
                                                             []))
                                                           (Id () "toBe"))
                                                          (: (IntLit () 1) [])))
                                                        (:
                                                         (ExprStmt
                                                          ()
                                                          (AssignExpr
                                                           ()
                                                           OpAssign
                                                           (LVar () "menuItem")
                                                           (CallExpr
                                                            ()
                                                            (DotRef
                                                             ()
                                                             (VarRef
                                                              ()
                                                              (Id () "menu"))
                                                             (Id
                                                              ()
                                                              "addMenuItem"))
                                                            (:
                                                             (StringLit
                                                              ()
                                                              "Menu-test.command16")
                                                             (:
                                                              (NullLit ())
                                                              (:
                                                               (DotRef
                                                                ()
                                                                (VarRef
                                                                 ()
                                                                 (Id
                                                                  ()
                                                                  "Menus"))
                                                                (Id
                                                                 ()
                                                                 "FIRST_IN_SECTION"))
                                                               (:
                                                                (VarRef
                                                                 ()
                                                                 (Id
                                                                  ()
                                                                  "menuSectionCmd0"))
                                                                [])))))))
                                                         (:
                                                          (ExprStmt
                                                           ()
                                                           (AssignExpr
                                                            ()
                                                            OpAssign
                                                            (LVar
                                                             ()
                                                             "$listItems")
                                                            (CallExpr
                                                             ()
                                                             (DotRef
                                                              ()
                                                              (CallExpr
                                                               ()
                                                               (DotRef
                                                                ()
                                                                (VarRef
                                                                 ()
                                                                 (Id
                                                                  ()
                                                                  "testWindow"))
                                                                (Id () "$"))
                                                               (:
                                                                (VarRef
                                                                 ()
                                                                 (Id
                                                                  ()
                                                                  "listSelector"))
                                                                []))
                                                              (Id
                                                               ()
                                                               "children"))
                                                             [])))
                                                          (:
                                                           (ExprStmt
                                                            ()
                                                            (CallExpr
                                                             ()
                                                             (DotRef
                                                              ()
                                                              (CallExpr
                                                               ()
                                                               (VarRef
                                                                ()
                                                                (Id
                                                                 ()
                                                                 "expect"))
                                                               (:
                                                                (DotRef
                                                                 ()
                                                                 (VarRef
                                                                  ()
                                                                  (Id
                                                                   ()
                                                                   "$listItems"))
                                                                 (Id
                                                                  ()
                                                                  "length"))
                                                                []))
                                                              (Id () "toBe"))
                                                             (:
                                                              (IntLit () 8)
                                                              [])))
                                                           (:
                                                            (ExprStmt
                                                             ()
                                                             (CallExpr
                                                              ()
                                                              (DotRef
                                                               ()
                                                               (CallExpr
                                                                ()
                                                                (VarRef
                                                                 ()
                                                                 (Id
                                                                  ()
                                                                  "expect"))
                                                                (:
                                                                 (DotRef
                                                                  ()
                                                                  (CallExpr
                                                                   ()
                                                                   (DotRef
                                                                    ()
                                                                    (CallExpr
                                                                     ()
                                                                     (VarRef
                                                                      ()
                                                                      (Id
                                                                       ()
                                                                       "$"))
                                                                     (:
                                                                      (BracketRef
                                                                       ()
                                                                       (VarRef
                                                                        ()
                                                                        (Id
                                                                         ()
                                                                         "$listItems"))
                                                                       (IntLit
                                                                        ()
                                                                        0))
                                                                      []))
                                                                    (Id
                                                                     ()
                                                                     "find"))
                                                                   (:
                                                                    (StringLit
                                                                     ()
                                                                     "a#menuitem-unittest1-Menu-test\\.command16")
                                                                    []))
                                                                  (Id
                                                                   ()
                                                                   "length"))
                                                                 []))
                                                               (Id () "toBe"))
                                                              (:
                                                               (IntLit () 1)
                                                               [])))
                                                            (:
                                                             (ExprStmt
                                                              ()
                                                              (AssignExpr
                                                               ()
                                                               OpAssign
                                                               (LVar
                                                                ()
                                                                "menuItem")
                                                               (CallExpr
                                                                ()
                                                                (DotRef
                                                                 ()
                                                                 (VarRef
                                                                  ()
                                                                  (Id
                                                                   ()
                                                                   "menu"))
                                                                 (Id
                                                                  ()
                                                                  "addMenuItem"))
                                                                (:
                                                                 (StringLit
                                                                  ()
                                                                  "Menu-test.command17")
                                                                 (:
                                                                  (NullLit ())
                                                                  (:
                                                                   (DotRef
                                                                    ()
                                                                    (VarRef
                                                                     ()
                                                                     (Id
                                                                      ()
                                                                      "Menus"))
                                                                    (Id
                                                                     ()
                                                                     "FIRST_IN_SECTION"))
                                                                   (:
                                                                    (VarRef
                                                                     ()
                                                                     (Id
                                                                      ()
                                                                      "menuSectionCmd2"))
                                                                    [])))))))
                                                             (:
                                                              (ExprStmt
                                                               ()
                                                               (AssignExpr
                                                                ()
                                                                OpAssign
                                                                (LVar
                                                                 ()
                                                                 "$listItems")
                                                                (CallExpr
                                                                 ()
                                                                 (DotRef
                                                                  ()
                                                                  (CallExpr
                                                                   ()
                                                                   (DotRef
                                                                    ()
                                                                    (VarRef
                                                                     ()
                                                                     (Id
                                                                      ()
                                                                      "testWindow"))
                                                                    (Id () "$"))
                                                                   (:
                                                                    (VarRef
                                                                     ()
                                                                     (Id
                                                                      ()
                                                                      "listSelector"))
                                                                    []))
                                                                  (Id
                                                                   ()
                                                                   "children"))
                                                                 [])))
                                                              (:
                                                               (ExprStmt
                                                                ()
                                                                (CallExpr
                                                                 ()
                                                                 (DotRef
                                                                  ()
                                                                  (CallExpr
                                                                   ()
                                                                   (VarRef
                                                                    ()
                                                                    (Id
                                                                     ()
                                                                     "expect"))
                                                                   (:
                                                                    (DotRef
                                                                     ()
                                                                     (VarRef
                                                                      ()
                                                                      (Id
                                                                       ()
                                                                       "$listItems"))
                                                                     (Id
                                                                      ()
                                                                      "length"))
                                                                    []))
                                                                  (Id
                                                                   ()
                                                                   "toBe"))
                                                                 (:
                                                                  (IntLit () 9)
                                                                  [])))
                                                               (:
                                                                (ExprStmt
                                                                 ()
                                                                 (CallExpr
                                                                  ()
                                                                  (DotRef
                                                                   ()
                                                                   (CallExpr
                                                                    ()
                                                                    (VarRef
                                                                     ()
                                                                     (Id
                                                                      ()
                                                                      "expect"))
                                                                    (:
                                                                     (DotRef
                                                                      ()
                                                                      (CallExpr
                                                                       ()
                                                                       (DotRef
                                                                        ()
                                                                        (CallExpr
                                                                         ()
                                                                         (VarRef
                                                                          ()
                                                                          (Id
                                                                           ()
                                                                           "$"))
                                                                         (:
                                                                          (BracketRef
                                                                           ()
                                                                           (VarRef
                                                                            ()
                                                                            (Id
                                                                             ()
                                                                             "$listItems"))
                                                                           (IntLit
                                                                            ()
                                                                            5))
                                                                          []))
                                                                        (Id
                                                                         ()
                                                                         "find"))
                                                                       (:
                                                                        (StringLit
                                                                         ()
                                                                         "a#menuitem-unittest1-Menu-test\\.command17")
                                                                        []))
                                                                      (Id
                                                                       ()
                                                                       "length"))
                                                                     []))
                                                                   (Id
                                                                    ()
                                                                    "toBe"))
                                                                  (:
                                                                   (IntLit () 1)
                                                                   [])))
                                                                []))))))))))))))))))))))))))))))))))
                              []))))
                          (:
                           (ExprStmt
                            ()
                            (CallExpr
                             ()
                             (VarRef () (Id () "it"))
                             (:
                              (StringLit
                               ()
                               "should add new menu item in last position of menu if reference command isn't found in menu")
                              (:
                               (FuncExpr
                                ()
                                Nothing
                                []
                                (:
                                 (ExprStmt
                                  ()
                                  (CallExpr
                                   ()
                                   (VarRef () (Id () "runs"))
                                   (:
                                    (FuncExpr
                                     ()
                                     Nothing
                                     []
                                     (:
                                      (ExprStmt
                                       ()
                                       (CallExpr
                                        ()
                                        (DotRef
                                         ()
                                         (VarRef () (Id () "CommandManager"))
                                         (Id () "register"))
                                        (:
                                         (StringLit
                                          ()
                                          "Brackets Test Command Custom 20")
                                         (:
                                          (StringLit () "Menu-test.command20")
                                          (: (FuncExpr () Nothing [] []) [])))))
                                      (:
                                       (VarDeclStmt
                                        ()
                                        (:
                                         (VarDecl
                                          ()
                                          (Id () "menu")
                                          (Just
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (VarRef () (Id () "Menus"))
                                             (Id () "addMenu"))
                                            (:
                                             (StringLit () "Custom 2")
                                             (:
                                              (StringLit
                                               ()
                                               "menuitem-unittest2")
                                              [])))))
                                         []))
                                       (:
                                        (ExprStmt
                                         ()
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "menu"))
                                           (Id () "addMenuItem"))
                                          (:
                                           (StringLit () "Menu-test.command20")
                                           (: (StringLit () "Ctrl-Alt-0") []))))
                                        (:
                                         (VarDeclStmt
                                          ()
                                          (:
                                           (VarDecl
                                            ()
                                            (Id () "listSelector")
                                            (Just
                                             (StringLit
                                              ()
                                              "#menuitem-unittest2 > ul")))
                                           []))
                                         (:
                                          (ExprStmt
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (VarRef
                                              ()
                                              (Id () "CommandManager"))
                                             (Id () "register"))
                                            (:
                                             (StringLit
                                              ()
                                              "Brackets Test Command Custom 21")
                                             (:
                                              (StringLit
                                               ()
                                               "Menu-test.command21")
                                              (:
                                               (FuncExpr () Nothing [] [])
                                               [])))))
                                          (:
                                           (VarDeclStmt
                                            ()
                                            (:
                                             (VarDecl
                                              ()
                                              (Id () "menuItem")
                                              (Just
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (VarRef () (Id () "menu"))
                                                 (Id () "addMenuItem"))
                                                (:
                                                 (StringLit
                                                  ()
                                                  "Menu-test.command21")
                                                 (:
                                                  (StringLit () "Ctrl-Alt-2")
                                                  (:
                                                   (DotRef
                                                    ()
                                                    (VarRef () (Id () "Menus"))
                                                    (Id () "BEFORE"))
                                                   (:
                                                    (StringLit () "NONEXISTANT")
                                                    [])))))))
                                             []))
                                           (:
                                            (ExprStmt
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (VarRef () (Id () "expect"))
                                                 (:
                                                  (VarRef () (Id () "menuItem"))
                                                  []))
                                                (Id () "not"))
                                               (Id () "toBeNull"))
                                              []))
                                            (:
                                             (ExprStmt
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (VarRef () (Id () "expect"))
                                                 (:
                                                  (VarRef () (Id () "menuItem"))
                                                  []))
                                                (Id () "toBeDefined"))
                                               []))
                                             (:
                                              (VarDeclStmt
                                               ()
                                               (:
                                                (VarDecl
                                                 ()
                                                 (Id () "$listItems")
                                                 (Just
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (VarRef
                                                       ()
                                                       (Id () "testWindow"))
                                                      (Id () "$"))
                                                     (:
                                                      (VarRef
                                                       ()
                                                       (Id () "listSelector"))
                                                      []))
                                                    (Id () "children"))
                                                   [])))
                                                []))
                                              (:
                                               (ExprStmt
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (VarRef () (Id () "expect"))
                                                   (:
                                                    (DotRef
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "$listItems"))
                                                     (Id () "length"))
                                                    []))
                                                  (Id () "toBe"))
                                                 (: (IntLit () 2) [])))
                                               (:
                                                (ExprStmt
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (VarRef () (Id () "expect"))
                                                    (:
                                                     (DotRef
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (DotRef
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (VarRef () (Id () "$"))
                                                         (:
                                                          (BracketRef
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id
                                                             ()
                                                             "$listItems"))
                                                           (IntLit () 1))
                                                          []))
                                                        (Id () "find"))
                                                       (:
                                                        (StringLit
                                                         ()
                                                         "a#menuitem-unittest2-Menu-test\\.command21")
                                                        []))
                                                      (Id () "length"))
                                                     []))
                                                   (Id () "toBe"))
                                                  (: (IntLit () 1) [])))
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (VarRef
                                                     ()
                                                     (Id () "CommandManager"))
                                                    (Id () "register"))
                                                   (:
                                                    (StringLit
                                                     ()
                                                     "Brackets Test Command Custom 22")
                                                    (:
                                                     (StringLit
                                                      ()
                                                      "Menu-test.command22")
                                                     (:
                                                      (FuncExpr
                                                       ()
                                                       Nothing
                                                       []
                                                       [])
                                                      [])))))
                                                 (:
                                                  (VarDeclStmt
                                                   ()
                                                   (:
                                                    (VarDecl
                                                     ()
                                                     (Id () "menuOther")
                                                     (Just
                                                      (CallExpr
                                                       ()
                                                       (DotRef
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "Menus"))
                                                        (Id () "addMenu"))
                                                       (:
                                                        (StringLit
                                                         ()
                                                         "Custom 2 Other")
                                                        (:
                                                         (StringLit
                                                          ()
                                                          "menuitem-unittest2-other")
                                                         [])))))
                                                    []))
                                                  (:
                                                   (ExprStmt
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (VarRef
                                                       ()
                                                       (Id () "menuOther"))
                                                      (Id () "addMenuItem"))
                                                     (:
                                                      (StringLit
                                                       ()
                                                       "Menu-test.command22")
                                                      (:
                                                       (StringLit
                                                        ()
                                                        "Ctrl-Alt-2")
                                                       []))))
                                                   (:
                                                    (ExprStmt
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (DotRef
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id
                                                         ()
                                                         "CommandManager"))
                                                       (Id () "register"))
                                                      (:
                                                       (StringLit
                                                        ()
                                                        "Brackets Test Command Custom 23")
                                                       (:
                                                        (StringLit
                                                         ()
                                                         "Menu-test.command23")
                                                        (:
                                                         (FuncExpr
                                                          ()
                                                          Nothing
                                                          []
                                                          [])
                                                         [])))))
                                                    (:
                                                     (ExprStmt
                                                      ()
                                                      (AssignExpr
                                                       ()
                                                       OpAssign
                                                       (LVar () "menuItem")
                                                       (CallExpr
                                                        ()
                                                        (DotRef
                                                         ()
                                                         (VarRef
                                                          ()
                                                          (Id () "menu"))
                                                         (Id () "addMenuItem"))
                                                        (:
                                                         (StringLit
                                                          ()
                                                          "Menu-test.command23")
                                                         (:
                                                          (StringLit
                                                           ()
                                                           "Ctrl-Alt-3")
                                                          (:
                                                           (DotRef
                                                            ()
                                                            (VarRef
                                                             ()
                                                             (Id () "Menus"))
                                                            (Id () "BEFORE"))
                                                           (:
                                                            (StringLit
                                                             ()
                                                             "Menu-test.command22")
                                                            [])))))))
                                                     (:
                                                      (ExprStmt
                                                       ()
                                                       (CallExpr
                                                        ()
                                                        (DotRef
                                                         ()
                                                         (DotRef
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id () "expect"))
                                                           (:
                                                            (VarRef
                                                             ()
                                                             (Id () "menuItem"))
                                                            []))
                                                          (Id () "not"))
                                                         (Id () "toBeNull"))
                                                        []))
                                                      (:
                                                       (ExprStmt
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (DotRef
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id () "expect"))
                                                           (:
                                                            (VarRef
                                                             ()
                                                             (Id () "menuItem"))
                                                            []))
                                                          (Id () "toBeDefined"))
                                                         []))
                                                       (:
                                                        (ExprStmt
                                                         ()
                                                         (AssignExpr
                                                          ()
                                                          OpAssign
                                                          (LVar () "$listItems")
                                                          (CallExpr
                                                           ()
                                                           (DotRef
                                                            ()
                                                            (CallExpr
                                                             ()
                                                             (DotRef
                                                              ()
                                                              (VarRef
                                                               ()
                                                               (Id
                                                                ()
                                                                "testWindow"))
                                                              (Id () "$"))
                                                             (:
                                                              (VarRef
                                                               ()
                                                               (Id
                                                                ()
                                                                "listSelector"))
                                                              []))
                                                            (Id () "children"))
                                                           [])))
                                                        (:
                                                         (ExprStmt
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (DotRef
                                                            ()
                                                            (CallExpr
                                                             ()
                                                             (VarRef
                                                              ()
                                                              (Id () "expect"))
                                                             (:
                                                              (DotRef
                                                               ()
                                                               (VarRef
                                                                ()
                                                                (Id
                                                                 ()
                                                                 "$listItems"))
                                                               (Id () "length"))
                                                              []))
                                                            (Id () "toBe"))
                                                           (:
                                                            (IntLit () 3)
                                                            [])))
                                                         (:
                                                          (ExprStmt
                                                           ()
                                                           (CallExpr
                                                            ()
                                                            (DotRef
                                                             ()
                                                             (CallExpr
                                                              ()
                                                              (VarRef
                                                               ()
                                                               (Id () "expect"))
                                                              (:
                                                               (DotRef
                                                                ()
                                                                (CallExpr
                                                                 ()
                                                                 (DotRef
                                                                  ()
                                                                  (CallExpr
                                                                   ()
                                                                   (VarRef
                                                                    ()
                                                                    (Id () "$"))
                                                                   (:
                                                                    (BracketRef
                                                                     ()
                                                                     (VarRef
                                                                      ()
                                                                      (Id
                                                                       ()
                                                                       "$listItems"))
                                                                     (IntLit
                                                                      ()
                                                                      2))
                                                                    []))
                                                                  (Id
                                                                   ()
                                                                   "find"))
                                                                 (:
                                                                  (StringLit
                                                                   ()
                                                                   "a#menuitem-unittest2-Menu-test\\.command23")
                                                                  []))
                                                                (Id
                                                                 ()
                                                                 "length"))
                                                               []))
                                                             (Id () "toBe"))
                                                            (:
                                                             (IntLit () 1)
                                                             [])))
                                                          (:
                                                           (ExprStmt
                                                            ()
                                                            (CallExpr
                                                             ()
                                                             (DotRef
                                                              ()
                                                              (VarRef
                                                               ()
                                                               (Id
                                                                ()
                                                                "CommandManager"))
                                                              (Id
                                                               ()
                                                               "register"))
                                                             (:
                                                              (StringLit
                                                               ()
                                                               "Brackets Test Command Custom 24")
                                                              (:
                                                               (StringLit
                                                                ()
                                                                "Menu-test.command24")
                                                               (:
                                                                (FuncExpr
                                                                 ()
                                                                 Nothing
                                                                 []
                                                                 [])
                                                                [])))))
                                                           (:
                                                            (ExprStmt
                                                             ()
                                                             (CallExpr
                                                              ()
                                                              (DotRef
                                                               ()
                                                               (VarRef
                                                                ()
                                                                (Id
                                                                 ()
                                                                 "CommandManager"))
                                                               (Id
                                                                ()
                                                                "register"))
                                                              (:
                                                               (StringLit
                                                                ()
                                                                "Brackets Test Command Custom 25")
                                                               (:
                                                                (StringLit
                                                                 ()
                                                                 "Menu-test.command25")
                                                                (:
                                                                 (FuncExpr
                                                                  ()
                                                                  Nothing
                                                                  []
                                                                  [])
                                                                 [])))))
                                                            (:
                                                             (ExprStmt
                                                              ()
                                                              (AssignExpr
                                                               ()
                                                               OpAssign
                                                               (LVar
                                                                ()
                                                                "menuItem")
                                                               (CallExpr
                                                                ()
                                                                (DotRef
                                                                 ()
                                                                 (VarRef
                                                                  ()
                                                                  (Id
                                                                   ()
                                                                   "menu"))
                                                                 (Id
                                                                  ()
                                                                  "addMenuItem"))
                                                                (:
                                                                 (StringLit
                                                                  ()
                                                                  "Menu-test.command24")
                                                                 (:
                                                                  (StringLit
                                                                   ()
                                                                   "Ctrl-Alt-1")
                                                                  (:
                                                                   (DotRef
                                                                    ()
                                                                    (VarRef
                                                                     ()
                                                                     (Id
                                                                      ()
                                                                      "Menus"))
                                                                    (Id
                                                                     ()
                                                                     "BEFORE"))
                                                                   (:
                                                                    (StringLit
                                                                     ()
                                                                     "Menu-test.command25")
                                                                    [])))))))
                                                             (:
                                                              (ExprStmt
                                                               ()
                                                               (CallExpr
                                                                ()
                                                                (DotRef
                                                                 ()
                                                                 (DotRef
                                                                  ()
                                                                  (CallExpr
                                                                   ()
                                                                   (VarRef
                                                                    ()
                                                                    (Id
                                                                     ()
                                                                     "expect"))
                                                                   (:
                                                                    (VarRef
                                                                     ()
                                                                     (Id
                                                                      ()
                                                                      "menuItem"))
                                                                    []))
                                                                  (Id () "not"))
                                                                 (Id
                                                                  ()
                                                                  "toBeNull"))
                                                                []))
                                                              (:
                                                               (ExprStmt
                                                                ()
                                                                (CallExpr
                                                                 ()
                                                                 (DotRef
                                                                  ()
                                                                  (CallExpr
                                                                   ()
                                                                   (VarRef
                                                                    ()
                                                                    (Id
                                                                     ()
                                                                     "expect"))
                                                                   (:
                                                                    (VarRef
                                                                     ()
                                                                     (Id
                                                                      ()
                                                                      "menuItem"))
                                                                    []))
                                                                  (Id
                                                                   ()
                                                                   "toBeDefined"))
                                                                 []))
                                                               (:
                                                                (ExprStmt
                                                                 ()
                                                                 (AssignExpr
                                                                  ()
                                                                  OpAssign
                                                                  (LVar
                                                                   ()
                                                                   "$listItems")
                                                                  (CallExpr
                                                                   ()
                                                                   (DotRef
                                                                    ()
                                                                    (CallExpr
                                                                     ()
                                                                     (DotRef
                                                                      ()
                                                                      (VarRef
                                                                       ()
                                                                       (Id
                                                                        ()
                                                                        "testWindow"))
                                                                      (Id
                                                                       ()
                                                                       "$"))
                                                                     (:
                                                                      (VarRef
                                                                       ()
                                                                       (Id
                                                                        ()
                                                                        "listSelector"))
                                                                      []))
                                                                    (Id
                                                                     ()
                                                                     "children"))
                                                                   [])))
                                                                (:
                                                                 (ExprStmt
                                                                  ()
                                                                  (CallExpr
                                                                   ()
                                                                   (DotRef
                                                                    ()
                                                                    (CallExpr
                                                                     ()
                                                                     (VarRef
                                                                      ()
                                                                      (Id
                                                                       ()
                                                                       "expect"))
                                                                     (:
                                                                      (DotRef
                                                                       ()
                                                                       (VarRef
                                                                        ()
                                                                        (Id
                                                                         ()
                                                                         "$listItems"))
                                                                       (Id
                                                                        ()
                                                                        "length"))
                                                                      []))
                                                                    (Id
                                                                     ()
                                                                     "toBe"))
                                                                   (:
                                                                    (IntLit
                                                                     ()
                                                                     4)
                                                                    [])))
                                                                 (:
                                                                  (ExprStmt
                                                                   ()
                                                                   (CallExpr
                                                                    ()
                                                                    (DotRef
                                                                     ()
                                                                     (CallExpr
                                                                      ()
                                                                      (VarRef
                                                                       ()
                                                                       (Id
                                                                        ()
                                                                        "expect"))
                                                                      (:
                                                                       (DotRef
                                                                        ()
                                                                        (CallExpr
                                                                         ()
                                                                         (DotRef
                                                                          ()
                                                                          (CallExpr
                                                                           ()
                                                                           (VarRef
                                                                            ()
                                                                            (Id
                                                                             ()
                                                                             "$"))
                                                                           (:
                                                                            (BracketRef
                                                                             ()
                                                                             (VarRef
                                                                              ()
                                                                              (Id
                                                                               ()
                                                                               "$listItems"))
                                                                             (IntLit
                                                                              ()
                                                                              3))
                                                                            []))
                                                                          (Id
                                                                           ()
                                                                           "find"))
                                                                         (:
                                                                          (StringLit
                                                                           ()
                                                                           "a#menuitem-unittest2-Menu-test\\.command24")
                                                                          []))
                                                                        (Id
                                                                         ()
                                                                         "length"))
                                                                       []))
                                                                     (Id
                                                                      ()
                                                                      "toBe"))
                                                                    (:
                                                                     (IntLit
                                                                      ()
                                                                      1)
                                                                     [])))
                                                                  []))))))))))))))))))))))))))))))
                                    [])))
                                 []))
                               []))))
                           (:
                            (ExprStmt
                             ()
                             (CallExpr
                              ()
                              (VarRef () (Id () "it"))
                              (:
                               (StringLit
                                ()
                                "should not add menu item for these cases")
                               (:
                                (FuncExpr
                                 ()
                                 Nothing
                                 []
                                 (:
                                  (ExprStmt
                                   ()
                                   (CallExpr
                                    ()
                                    (VarRef () (Id () "runs"))
                                    (:
                                     (FuncExpr
                                      ()
                                      Nothing
                                      []
                                      (:
                                       (ExprStmt
                                        ()
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (VarRef () (Id () "CommandManager"))
                                          (Id () "register"))
                                         (:
                                          (StringLit
                                           ()
                                           "Brackets Test Command Custom 30")
                                          (:
                                           (StringLit () "Menu-test.command30")
                                           (:
                                            (FuncExpr () Nothing [] [])
                                            [])))))
                                       (:
                                        (VarDeclStmt
                                         ()
                                         (:
                                          (VarDecl
                                           ()
                                           (Id () "menu")
                                           (Just
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "Menus"))
                                              (Id () "addMenu"))
                                             (:
                                              (StringLit () "Custom 3")
                                              (:
                                               (StringLit
                                                ()
                                                "menuitem-unittest3")
                                               [])))))
                                          []))
                                        (:
                                         (VarDeclStmt
                                          ()
                                          (:
                                           (VarDecl
                                            ()
                                            (Id () "listSelector")
                                            (Just
                                             (StringLit
                                              ()
                                              "#menuitem-unittest3 > ul")))
                                           []))
                                         (:
                                          (VarDeclStmt
                                           ()
                                           (:
                                            (VarDecl
                                             ()
                                             (Id () "menuItem")
                                             (Just
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (VarRef () (Id () "menu"))
                                                (Id () "addMenuItem"))
                                               (:
                                                (StringLit
                                                 ()
                                                 "Menu-test.command30")
                                                []))))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (VarRef () (Id () "menuItem"))
                                                []))
                                              (Id () "toBeTruthy"))
                                             []))
                                           (:
                                            (VarDeclStmt
                                             ()
                                             (:
                                              (VarDecl
                                               ()
                                               (Id () "$listItems")
                                               (Just
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (VarRef
                                                     ()
                                                     (Id () "testWindow"))
                                                    (Id () "$"))
                                                   (:
                                                    (VarRef
                                                     ()
                                                     (Id () "listSelector"))
                                                    []))
                                                  (Id () "children"))
                                                 [])))
                                              []))
                                            (:
                                             (ExprStmt
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (VarRef () (Id () "expect"))
                                                 (:
                                                  (DotRef
                                                   ()
                                                   (VarRef
                                                    ()
                                                    (Id () "$listItems"))
                                                   (Id () "length"))
                                                  []))
                                                (Id () "toBe"))
                                               (: (IntLit () 1) [])))
                                             (:
                                              (ExprStmt
                                               ()
                                               (AssignExpr
                                                ()
                                                OpAssign
                                                (LVar () "menuItem")
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (VarRef () (Id () "menu"))
                                                  (Id () "addMenuItem"))
                                                 (:
                                                  (StringLit
                                                   ()
                                                   "Menu-test.command30")
                                                  []))))
                                              (:
                                               (ExprStmt
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (VarRef () (Id () "expect"))
                                                   (:
                                                    (VarRef
                                                     ()
                                                     (Id () "menuItem"))
                                                    []))
                                                  (Id () "toBeFalsy"))
                                                 []))
                                               (:
                                                (ExprStmt
                                                 ()
                                                 (AssignExpr
                                                  ()
                                                  OpAssign
                                                  (LVar () "$listItems")
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (VarRef
                                                       ()
                                                       (Id () "testWindow"))
                                                      (Id () "$"))
                                                     (:
                                                      (VarRef
                                                       ()
                                                       (Id () "listSelector"))
                                                      []))
                                                    (Id () "children"))
                                                   [])))
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "expect"))
                                                     (:
                                                      (DotRef
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "$listItems"))
                                                       (Id () "length"))
                                                      []))
                                                    (Id () "toBe"))
                                                   (: (IntLit () 1) [])))
                                                 (:
                                                  (ExprStmt
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (VarRef
                                                       ()
                                                       (Id () "expect"))
                                                      (:
                                                       (VarRef
                                                        ()
                                                        (Id () "menuItem"))
                                                       []))
                                                     (Id () "toBeNull"))
                                                    []))
                                                  (:
                                                   (ExprStmt
                                                    ()
                                                    (AssignExpr
                                                     ()
                                                     OpAssign
                                                     (LVar () "menuItem")
                                                     (NullLit ())))
                                                   (:
                                                    (VarDeclStmt
                                                     ()
                                                     (:
                                                      (VarDecl
                                                       ()
                                                       (Id () "exceptionThrown")
                                                       (Just
                                                        (BoolLit () False)))
                                                      []))
                                                    (:
                                                     (TryStmt
                                                      ()
                                                      (BlockStmt
                                                       ()
                                                       (:
                                                        (ExprStmt
                                                         ()
                                                         (AssignExpr
                                                          ()
                                                          OpAssign
                                                          (LVar () "menuItem")
                                                          (CallExpr
                                                           ()
                                                           (DotRef
                                                            ()
                                                            (VarRef
                                                             ()
                                                             (Id () "menu"))
                                                            (Id
                                                             ()
                                                             "addMenuItem"))
                                                           (:
                                                            (StringLit
                                                             ()
                                                             "UNREGISTERED_COMMAND")
                                                            []))))
                                                        []))
                                                      (Just
                                                       (CatchClause
                                                        ()
                                                        (Id () "e")
                                                        (BlockStmt
                                                         ()
                                                         (:
                                                          (ExprStmt
                                                           ()
                                                           (AssignExpr
                                                            ()
                                                            OpAssign
                                                            (LVar
                                                             ()
                                                             "exceptionThrown")
                                                            (BoolLit () True)))
                                                          []))))
                                                      Nothing)
                                                     (:
                                                      (ExprStmt
                                                       ()
                                                       (CallExpr
                                                        ()
                                                        (DotRef
                                                         ()
                                                         (CallExpr
                                                          ()
                                                          (VarRef
                                                           ()
                                                           (Id () "expect"))
                                                          (:
                                                           (VarRef
                                                            ()
                                                            (Id
                                                             ()
                                                             "exceptionThrown"))
                                                           []))
                                                         (Id () "toBeTruthy"))
                                                        []))
                                                      (:
                                                       (ExprStmt
                                                        ()
                                                        (AssignExpr
                                                         ()
                                                         OpAssign
                                                         (LVar () "$listItems")
                                                         (CallExpr
                                                          ()
                                                          (DotRef
                                                           ()
                                                           (CallExpr
                                                            ()
                                                            (DotRef
                                                             ()
                                                             (VarRef
                                                              ()
                                                              (Id
                                                               ()
                                                               "testWindow"))
                                                             (Id () "$"))
                                                            (:
                                                             (VarRef
                                                              ()
                                                              (Id
                                                               ()
                                                               "listSelector"))
                                                             []))
                                                           (Id () "children"))
                                                          [])))
                                                       (:
                                                        (ExprStmt
                                                         ()
                                                         (CallExpr
                                                          ()
                                                          (DotRef
                                                           ()
                                                           (CallExpr
                                                            ()
                                                            (VarRef
                                                             ()
                                                             (Id () "expect"))
                                                            (:
                                                             (DotRef
                                                              ()
                                                              (VarRef
                                                               ()
                                                               (Id
                                                                ()
                                                                "$listItems"))
                                                              (Id () "length"))
                                                             []))
                                                           (Id () "toBe"))
                                                          (: (IntLit () 1) [])))
                                                        (:
                                                         (ExprStmt
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (DotRef
                                                            ()
                                                            (CallExpr
                                                             ()
                                                             (VarRef
                                                              ()
                                                              (Id () "expect"))
                                                             (:
                                                              (VarRef
                                                               ()
                                                               (Id
                                                                ()
                                                                "menuItem"))
                                                              []))
                                                            (Id () "toBeNull"))
                                                           []))
                                                         []))))))))))))))))))))
                                     [])))
                                  []))
                                []))))
                            [])))))
                       []))))
                   (:
                    (ExprStmt
                     ()
                     (CallExpr
                      ()
                      (VarRef () (Id () "describe"))
                      (:
                       (StringLit () "Menu Item synchronizing")
                       (:
                        (FuncExpr
                         ()
                         Nothing
                         []
                         (:
                          (ExprStmt
                           ()
                           (CallExpr
                            ()
                            (VarRef () (Id () "it"))
                            (:
                             (StringLit () "should have same state as command")
                             (:
                              (FuncExpr
                               ()
                               Nothing
                               []
                               (:
                                (ExprStmt
                                 ()
                                 (CallExpr
                                  ()
                                  (VarRef () (Id () "runs"))
                                  (:
                                   (FuncExpr
                                    ()
                                    Nothing
                                    []
                                    (:
                                     (VarDeclStmt
                                      ()
                                      (:
                                       (VarDecl
                                        ()
                                        (Id () "cmd")
                                        (Just
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "CommandManager"))
                                           (Id () "register"))
                                          (:
                                           (StringLit
                                            ()
                                            "Brackets Test Command Custom 40")
                                           (:
                                            (StringLit () "Menu-test.command40")
                                            (:
                                             (FuncExpr () Nothing [] [])
                                             []))))))
                                       []))
                                     (:
                                      (ExprStmt
                                       ()
                                       (CallExpr
                                        ()
                                        (DotRef
                                         ()
                                         (DotRef
                                          ()
                                          (CallExpr
                                           ()
                                           (VarRef () (Id () "expect"))
                                           (: (VarRef () (Id () "cmd")) []))
                                          (Id () "not"))
                                         (Id () "toBeNull"))
                                        []))
                                      (:
                                       (ExprStmt
                                        ()
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (CallExpr
                                           ()
                                           (VarRef () (Id () "expect"))
                                           (: (VarRef () (Id () "cmd")) []))
                                          (Id () "toBeDefined"))
                                         []))
                                       (:
                                        (VarDeclStmt
                                         ()
                                         (:
                                          (VarDecl
                                           ()
                                           (Id () "menu")
                                           (Just
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "Menus"))
                                              (Id () "addMenu"))
                                             (:
                                              (StringLit
                                               ()
                                               "Synchronizing Menu")
                                              (:
                                               (StringLit
                                                ()
                                                "menuitem-unittest4")
                                               [])))))
                                          []))
                                        (:
                                         (ExprStmt
                                          ()
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "menu"))
                                            (Id () "addMenuItem"))
                                           (:
                                            (StringLit () "Menu-test.command40")
                                            [])))
                                         (:
                                          (VarDeclStmt
                                           ()
                                           (:
                                            (VarDecl
                                             ()
                                             (Id () "menuSelector")
                                             (Just
                                              (StringLit
                                               ()
                                               "#menuitem-unittest4-Menu-test\\.command40")))
                                            []))
                                          (:
                                           (VarDeclStmt
                                            ()
                                            (:
                                             (VarDecl
                                              ()
                                              (Id () "$menuItem")
                                              (Just
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (VarRef
                                                  ()
                                                  (Id () "testWindow"))
                                                 (Id () "$"))
                                                (:
                                                 (VarRef
                                                  ()
                                                  (Id () "menuSelector"))
                                                 []))))
                                             []))
                                           (:
                                            (ExprStmt
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (CallExpr
                                                ()
                                                (VarRef () (Id () "expect"))
                                                (:
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (VarRef () (Id () "$"))
                                                    (:
                                                     (VarRef
                                                      ()
                                                      (Id () "$menuItem"))
                                                     []))
                                                   (Id () "hasClass"))
                                                  (:
                                                   (StringLit () "checked")
                                                   []))
                                                 []))
                                               (Id () "toBeFalsy"))
                                              []))
                                            (:
                                             (ExprStmt
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (VarRef () (Id () "expect"))
                                                 (:
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (VarRef () (Id () "cmd"))
                                                    (Id () "getChecked"))
                                                   [])
                                                  []))
                                                (Id () "toBeFalsy"))
                                               []))
                                             (:
                                              (ExprStmt
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (VarRef () (Id () "cmd"))
                                                 (Id () "setChecked"))
                                                (: (BoolLit () True) [])))
                                              (:
                                               (ExprStmt
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (VarRef () (Id () "expect"))
                                                   (:
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (VarRef () (Id () "cmd"))
                                                      (Id () "getChecked"))
                                                     [])
                                                    []))
                                                  (Id () "toBeTruthy"))
                                                 []))
                                               (:
                                                (ExprStmt
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (VarRef () (Id () "expect"))
                                                    (:
                                                     (CallExpr
                                                      ()
                                                      (DotRef
                                                       ()
                                                       (CallExpr
                                                        ()
                                                        (VarRef () (Id () "$"))
                                                        (:
                                                         (VarRef
                                                          ()
                                                          (Id () "$menuItem"))
                                                         []))
                                                       (Id () "hasClass"))
                                                      (:
                                                       (StringLit () "checked")
                                                       []))
                                                     []))
                                                   (Id () "toBeTruthy"))
                                                  []))
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (VarRef () (Id () "cmd"))
                                                    (Id () "setChecked"))
                                                   (: (BoolLit () False) [])))
                                                 (:
                                                  (ExprStmt
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (VarRef
                                                       ()
                                                       (Id () "expect"))
                                                      (:
                                                       (CallExpr
                                                        ()
                                                        (DotRef
                                                         ()
                                                         (VarRef
                                                          ()
                                                          (Id () "cmd"))
                                                         (Id () "getChecked"))
                                                        [])
                                                       []))
                                                     (Id () "toBeFalsy"))
                                                    []))
                                                  (:
                                                   (ExprStmt
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "expect"))
                                                       (:
                                                        (CallExpr
                                                         ()
                                                         (DotRef
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id () "$"))
                                                           (:
                                                            (VarRef
                                                             ()
                                                             (Id
                                                              ()
                                                              "$menuItem"))
                                                            []))
                                                          (Id () "hasClass"))
                                                         (:
                                                          (StringLit
                                                           ()
                                                           "checked")
                                                          []))
                                                        []))
                                                      (Id () "toBeFalsy"))
                                                     []))
                                                   (:
                                                    (ExprStmt
                                                     ()
                                                     (AssignExpr
                                                      ()
                                                      OpAssign
                                                      (LVar () "$menuItem")
                                                      (CallExpr
                                                       ()
                                                       (DotRef
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "testWindow"))
                                                        (Id () "$"))
                                                       (:
                                                        (VarRef
                                                         ()
                                                         (Id () "menuSelector"))
                                                        []))))
                                                    (:
                                                     (ExprStmt
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (DotRef
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (VarRef
                                                          ()
                                                          (Id () "expect"))
                                                         (:
                                                          (CallExpr
                                                           ()
                                                           (DotRef
                                                            ()
                                                            (CallExpr
                                                             ()
                                                             (VarRef
                                                              ()
                                                              (Id () "$"))
                                                             (:
                                                              (VarRef
                                                               ()
                                                               (Id
                                                                ()
                                                                "$menuItem"))
                                                              []))
                                                            (Id () "hasClass"))
                                                           (:
                                                            (StringLit
                                                             ()
                                                             "disabled")
                                                            []))
                                                          []))
                                                        (Id () "toBeFalsy"))
                                                       []))
                                                     (:
                                                      (ExprStmt
                                                       ()
                                                       (CallExpr
                                                        ()
                                                        (DotRef
                                                         ()
                                                         (VarRef
                                                          ()
                                                          (Id () "cmd"))
                                                         (Id () "setEnabled"))
                                                        (:
                                                         (BoolLit () False)
                                                         [])))
                                                      (:
                                                       (ExprStmt
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (DotRef
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id () "expect"))
                                                           (:
                                                            (CallExpr
                                                             ()
                                                             (DotRef
                                                              ()
                                                              (VarRef
                                                               ()
                                                               (Id () "cmd"))
                                                              (Id
                                                               ()
                                                               "getEnabled"))
                                                             [])
                                                            []))
                                                          (Id () "toBeFalsy"))
                                                         []))
                                                       (:
                                                        (ExprStmt
                                                         ()
                                                         (CallExpr
                                                          ()
                                                          (DotRef
                                                           ()
                                                           (CallExpr
                                                            ()
                                                            (VarRef
                                                             ()
                                                             (Id () "expect"))
                                                            (:
                                                             (CallExpr
                                                              ()
                                                              (DotRef
                                                               ()
                                                               (CallExpr
                                                                ()
                                                                (VarRef
                                                                 ()
                                                                 (Id () "$"))
                                                                (:
                                                                 (VarRef
                                                                  ()
                                                                  (Id
                                                                   ()
                                                                   "$menuItem"))
                                                                 []))
                                                               (Id
                                                                ()
                                                                "hasClass"))
                                                              (:
                                                               (StringLit
                                                                ()
                                                                "disabled")
                                                               []))
                                                             []))
                                                           (Id () "toBeTruthy"))
                                                          []))
                                                        (:
                                                         (ExprStmt
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (DotRef
                                                            ()
                                                            (VarRef
                                                             ()
                                                             (Id () "cmd"))
                                                            (Id
                                                             ()
                                                             "setEnabled"))
                                                           (:
                                                            (BoolLit () True)
                                                            [])))
                                                         (:
                                                          (ExprStmt
                                                           ()
                                                           (CallExpr
                                                            ()
                                                            (DotRef
                                                             ()
                                                             (CallExpr
                                                              ()
                                                              (VarRef
                                                               ()
                                                               (Id () "expect"))
                                                              (:
                                                               (CallExpr
                                                                ()
                                                                (DotRef
                                                                 ()
                                                                 (VarRef
                                                                  ()
                                                                  (Id () "cmd"))
                                                                 (Id
                                                                  ()
                                                                  "getEnabled"))
                                                                [])
                                                               []))
                                                             (Id
                                                              ()
                                                              "toBeTruthy"))
                                                            []))
                                                          (:
                                                           (ExprStmt
                                                            ()
                                                            (CallExpr
                                                             ()
                                                             (DotRef
                                                              ()
                                                              (CallExpr
                                                               ()
                                                               (VarRef
                                                                ()
                                                                (Id
                                                                 ()
                                                                 "expect"))
                                                               (:
                                                                (CallExpr
                                                                 ()
                                                                 (DotRef
                                                                  ()
                                                                  (CallExpr
                                                                   ()
                                                                   (VarRef
                                                                    ()
                                                                    (Id () "$"))
                                                                   (:
                                                                    (VarRef
                                                                     ()
                                                                     (Id
                                                                      ()
                                                                      "$menuItem"))
                                                                    []))
                                                                  (Id
                                                                   ()
                                                                   "hasClass"))
                                                                 (:
                                                                  (StringLit
                                                                   ()
                                                                   "disabled")
                                                                  []))
                                                                []))
                                                              (Id
                                                               ()
                                                               "toBeFalsy"))
                                                             []))
                                                           (:
                                                            (ExprStmt
                                                             ()
                                                             (CallExpr
                                                              ()
                                                              (DotRef
                                                               ()
                                                               (VarRef
                                                                ()
                                                                (Id
                                                                 ()
                                                                 "CommandManager"))
                                                               (Id
                                                                ()
                                                                "register"))
                                                              (:
                                                               (StringLit
                                                                ()
                                                                "Brackets Test Command Custom 41")
                                                               (:
                                                                (StringLit
                                                                 ()
                                                                 "Menu-test.command41")
                                                                (:
                                                                 (FuncExpr
                                                                  ()
                                                                  Nothing
                                                                  []
                                                                  [])
                                                                 [])))))
                                                            (:
                                                             (ExprStmt
                                                              ()
                                                              (CallExpr
                                                               ()
                                                               (DotRef
                                                                ()
                                                                (VarRef
                                                                 ()
                                                                 (Id () "menu"))
                                                                (Id
                                                                 ()
                                                                 "addMenuItem"))
                                                               (:
                                                                (StringLit
                                                                 ()
                                                                 "Menu-test.command41")
                                                                (:
                                                                 (StringLit
                                                                  ()
                                                                  "Ctrl-9")
                                                                 []))))
                                                             (:
                                                              (ExprStmt
                                                               ()
                                                               (AssignExpr
                                                                ()
                                                                OpAssign
                                                                (LVar
                                                                 ()
                                                                 "menuSelector")
                                                                (StringLit
                                                                 ()
                                                                 "#menuitem-unittest4-Menu-test\\.command41")))
                                                              (:
                                                               (ExprStmt
                                                                ()
                                                                (AssignExpr
                                                                 ()
                                                                 OpAssign
                                                                 (LVar
                                                                  ()
                                                                  "$menuItem")
                                                                 (CallExpr
                                                                  ()
                                                                  (DotRef
                                                                   ()
                                                                   (VarRef
                                                                    ()
                                                                    (Id
                                                                     ()
                                                                     "testWindow"))
                                                                   (Id () "$"))
                                                                  (:
                                                                   (VarRef
                                                                    ()
                                                                    (Id
                                                                     ()
                                                                     "menuSelector"))
                                                                   []))))
                                                               (:
                                                                (VarDeclStmt
                                                                 ()
                                                                 (:
                                                                  (VarDecl
                                                                   ()
                                                                   (Id
                                                                    ()
                                                                    "$shortcut")
                                                                   (Just
                                                                    (CallExpr
                                                                     ()
                                                                     (DotRef
                                                                      ()
                                                                      (VarRef
                                                                       ()
                                                                       (Id
                                                                        ()
                                                                        "$menuItem"))
                                                                      (Id
                                                                       ()
                                                                       "find"))
                                                                     (:
                                                                      (StringLit
                                                                       ()
                                                                       ".menu-shortcut")
                                                                      []))))
                                                                  []))
                                                                (:
                                                                 (IfStmt
                                                                  ()
                                                                  (InfixExpr
                                                                   ()
                                                                   OpStrictEq
                                                                   (DotRef
                                                                    ()
                                                                    (DotRef
                                                                     ()
                                                                     (VarRef
                                                                      ()
                                                                      (Id
                                                                       ()
                                                                       "testWindow"))
                                                                     (Id
                                                                      ()
                                                                      "brackets"))
                                                                    (Id
                                                                     ()
                                                                     "platform"))
                                                                   (StringLit
                                                                    ()
                                                                    "win"))
                                                                  (BlockStmt
                                                                   ()
                                                                   (:
                                                                    (ExprStmt
                                                                     ()
                                                                     (CallExpr
                                                                      ()
                                                                      (DotRef
                                                                       ()
                                                                       (CallExpr
                                                                        ()
                                                                        (VarRef
                                                                         ()
                                                                         (Id
                                                                          ()
                                                                          "expect"))
                                                                        (:
                                                                         (CallExpr
                                                                          ()
                                                                          (DotRef
                                                                           ()
                                                                           (VarRef
                                                                            ()
                                                                            (Id
                                                                             ()
                                                                             "$shortcut"))
                                                                           (Id
                                                                            ()
                                                                            "data"))
                                                                          (:
                                                                           (StringLit
                                                                            ()
                                                                            "key")
                                                                           []))
                                                                         []))
                                                                       (Id
                                                                        ()
                                                                        "toBe"))
                                                                      (:
                                                                       (StringLit
                                                                        ()
                                                                        "Ctrl-9")
                                                                       [])))
                                                                    []))
                                                                  (IfSingleStmt
                                                                   ()
                                                                   (InfixExpr
                                                                    ()
                                                                    OpStrictEq
                                                                    (DotRef
                                                                     ()
                                                                     (DotRef
                                                                      ()
                                                                      (VarRef
                                                                       ()
                                                                       (Id
                                                                        ()
                                                                        "testWindow"))
                                                                      (Id
                                                                       ()
                                                                       "brackets"))
                                                                     (Id
                                                                      ()
                                                                      "platform"))
                                                                    (StringLit
                                                                     ()
                                                                     "mac"))
                                                                   (BlockStmt
                                                                    ()
                                                                    (:
                                                                     (ExprStmt
                                                                      ()
                                                                      (CallExpr
                                                                       ()
                                                                       (DotRef
                                                                        ()
                                                                        (CallExpr
                                                                         ()
                                                                         (VarRef
                                                                          ()
                                                                          (Id
                                                                           ()
                                                                           "expect"))
                                                                         (:
                                                                          (CallExpr
                                                                           ()
                                                                           (DotRef
                                                                            ()
                                                                            (VarRef
                                                                             ()
                                                                             (Id
                                                                              ()
                                                                              "$shortcut"))
                                                                            (Id
                                                                             ()
                                                                             "data"))
                                                                           (:
                                                                            (StringLit
                                                                             ()
                                                                             "key")
                                                                            []))
                                                                          []))
                                                                        (Id
                                                                         ()
                                                                         "toBe"))
                                                                       (:
                                                                        (StringLit
                                                                         ()
                                                                         "Cmd-9")
                                                                        [])))
                                                                     []))))
                                                                 (:
                                                                  (ExprStmt
                                                                   ()
                                                                   (CallExpr
                                                                    ()
                                                                    (DotRef
                                                                     ()
                                                                     (VarRef
                                                                      ()
                                                                      (Id
                                                                       ()
                                                                       "KeyBindingManager"))
                                                                     (Id
                                                                      ()
                                                                      "addBinding"))
                                                                    (:
                                                                     (StringLit
                                                                      ()
                                                                      "Menu-test.command41")
                                                                     (:
                                                                      (StringLit
                                                                       ()
                                                                       "Alt-8")
                                                                      []))))
                                                                  (:
                                                                   (ExprStmt
                                                                    ()
                                                                    (CallExpr
                                                                     ()
                                                                     (DotRef
                                                                      ()
                                                                      (CallExpr
                                                                       ()
                                                                       (VarRef
                                                                        ()
                                                                        (Id
                                                                         ()
                                                                         "expect"))
                                                                       (:
                                                                        (CallExpr
                                                                         ()
                                                                         (DotRef
                                                                          ()
                                                                          (VarRef
                                                                           ()
                                                                           (Id
                                                                            ()
                                                                            "$shortcut"))
                                                                          (Id
                                                                           ()
                                                                           "data"))
                                                                         (:
                                                                          (StringLit
                                                                           ()
                                                                           "key")
                                                                          []))
                                                                        []))
                                                                      (Id
                                                                       ()
                                                                       "toBe"))
                                                                     (:
                                                                      (StringLit
                                                                       ()
                                                                       "Alt-8")
                                                                      [])))
                                                                   []))))))))))))))))))))))))))))))))
                                   [])))
                                []))
                              []))))
                          []))
                        []))))
                    (:
                     (ExprStmt
                      ()
                      (CallExpr
                       ()
                       (VarRef () (Id () "describe"))
                       (:
                        (StringLit () "Context Menus")
                        (:
                         (FuncExpr
                          ()
                          Nothing
                          []
                          (:
                           (ExprStmt
                            ()
                            (CallExpr
                             ()
                             (VarRef () (Id () "it"))
                             (:
                              (StringLit () "register a context menu")
                              (:
                               (FuncExpr
                                ()
                                Nothing
                                []
                                (:
                                 (VarDeclStmt
                                  ()
                                  (:
                                   (VarDecl
                                    ()
                                    (Id () "cmenu")
                                    (Just
                                     (CallExpr
                                      ()
                                      (DotRef
                                       ()
                                       (VarRef () (Id () "Menus"))
                                       (Id () "registerContextMenu"))
                                      (: (StringLit () "test-cmenu50") []))))
                                   []))
                                 (:
                                  (ExprStmt
                                   ()
                                   (CallExpr
                                    ()
                                    (DotRef
                                     ()
                                     (VarRef () (Id () "CommandManager"))
                                     (Id () "register"))
                                    (:
                                     (StringLit
                                      ()
                                      "Brackets Test Command Custom 50")
                                     (:
                                      (StringLit () "Menu-test.command50")
                                      (: (FuncExpr () Nothing [] []) [])))))
                                  (:
                                   (VarDeclStmt
                                    ()
                                    (:
                                     (VarDecl
                                      ()
                                      (Id () "menuItem")
                                      (Just
                                       (CallExpr
                                        ()
                                        (DotRef
                                         ()
                                         (VarRef () (Id () "cmenu"))
                                         (Id () "addMenuItem"))
                                        (:
                                         (StringLit () "Menu-test.command50")
                                         []))))
                                     []))
                                   (:
                                    (ExprStmt
                                     ()
                                     (CallExpr
                                      ()
                                      (DotRef
                                       ()
                                       (CallExpr
                                        ()
                                        (VarRef () (Id () "expect"))
                                        (: (VarRef () (Id () "menuItem")) []))
                                       (Id () "toBeTruthy"))
                                      []))
                                    (:
                                     (ExprStmt
                                      ()
                                      (CallExpr
                                       ()
                                       (DotRef
                                        ()
                                        (CallExpr
                                         ()
                                         (VarRef () (Id () "expect"))
                                         (: (VarRef () (Id () "cmenu")) []))
                                        (Id () "toBeTruthy"))
                                       []))
                                     (:
                                      (VarDeclStmt
                                       ()
                                       (:
                                        (VarDecl
                                         ()
                                         (Id () "command")
                                         (Just
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "CommandManager"))
                                            (Id () "register"))
                                           (:
                                            (StringLit
                                             ()
                                             "Brackets Test Command Custom 51")
                                            (:
                                             (StringLit
                                              ()
                                              "Menu-test.command51")
                                             (:
                                              (FuncExpr () Nothing [] [])
                                              []))))))
                                        []))
                                      (:
                                       (ExprStmt
                                        ()
                                        (AssignExpr
                                         ()
                                         OpAssign
                                         (LVar () "menuItem")
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "cmenu"))
                                           (Id () "addMenuItem"))
                                          (:
                                           (VarRef () (Id () "command"))
                                           []))))
                                       (:
                                        (ExprStmt
                                         ()
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (CallExpr
                                            ()
                                            (VarRef () (Id () "expect"))
                                            (:
                                             (VarRef () (Id () "menuItem"))
                                             []))
                                           (Id () "toBeTruthy"))
                                          []))
                                        (:
                                         (ExprStmt
                                          ()
                                          (AssignExpr
                                           ()
                                           OpAssign
                                           (LVar () "menuItem")
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (VarRef () (Id () "cmenu"))
                                             (Id () "addMenuDivider"))
                                            (:
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "Menus"))
                                              (Id () "BEFORE"))
                                             (:
                                              (StringLit
                                               ()
                                               "Menu-test.command51")
                                              [])))))
                                         (:
                                          (VarDeclStmt
                                           ()
                                           (:
                                            (VarDecl
                                             ()
                                             (Id () "$listItems")
                                             (Just
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (VarRef
                                                   ()
                                                   (Id () "testWindow"))
                                                  (Id () "$"))
                                                 (:
                                                  (StringLit
                                                   ()
                                                   "#test-cmenu50 > ul")
                                                  []))
                                                (Id () "children"))
                                               [])))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (VarRef () (Id () "expect"))
                                               (:
                                                (DotRef
                                                 ()
                                                 (VarRef
                                                  ()
                                                  (Id () "$listItems"))
                                                 (Id () "length"))
                                                []))
                                              (Id () "toBe"))
                                             (: (IntLit () 3) [])))
                                           (:
                                            (ExprStmt
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (CallExpr
                                                ()
                                                (VarRef () (Id () "expect"))
                                                (:
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef () (Id () "$"))
                                                     (:
                                                      (BracketRef
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "$listItems"))
                                                       (IntLit () 1))
                                                      []))
                                                    (Id () "find"))
                                                   (:
                                                    (StringLit () "hr.divider")
                                                    []))
                                                  (Id () "length"))
                                                 []))
                                               (Id () "toBe"))
                                              (: (IntLit () 1) [])))
                                            (:
                                             (ExprStmt
                                              ()
                                              (AssignExpr
                                               ()
                                               OpAssign
                                               (LVar () "menuItem")
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (VarRef () (Id () "cmenu"))
                                                 (Id () "addMenuDivider"))
                                                [])))
                                             (:
                                              (ExprStmt
                                               ()
                                               (AssignExpr
                                                ()
                                                OpAssign
                                                (LVar () "$listItems")
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (VarRef
                                                     ()
                                                     (Id () "testWindow"))
                                                    (Id () "$"))
                                                   (:
                                                    (StringLit
                                                     ()
                                                     "#test-cmenu50 > ul")
                                                    []))
                                                  (Id () "children"))
                                                 [])))
                                              (:
                                               (ExprStmt
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (VarRef () (Id () "expect"))
                                                   (:
                                                    (DotRef
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "$listItems"))
                                                     (Id () "length"))
                                                    []))
                                                  (Id () "toBe"))
                                                 (: (IntLit () 4) [])))
                                               (:
                                                (ExprStmt
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (VarRef () (Id () "expect"))
                                                    (:
                                                     (DotRef
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (DotRef
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (VarRef () (Id () "$"))
                                                         (:
                                                          (BracketRef
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id
                                                             ()
                                                             "$listItems"))
                                                           (IntLit () 3))
                                                          []))
                                                        (Id () "find"))
                                                       (:
                                                        (StringLit
                                                         ()
                                                         "hr.divider")
                                                        []))
                                                      (Id () "length"))
                                                     []))
                                                   (Id () "toBe"))
                                                  (: (IntLit () 1) [])))
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (AssignExpr
                                                   ()
                                                   OpAssign
                                                   (LVar () "menuItem")
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (VarRef () (Id () "cmenu"))
                                                     (Id () "addMenuItem"))
                                                    (:
                                                     (StringLit
                                                      ()
                                                      "Menu-test.command50")
                                                     []))))
                                                 (:
                                                  (ExprStmt
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (VarRef
                                                       ()
                                                       (Id () "expect"))
                                                      (:
                                                       (VarRef
                                                        ()
                                                        (Id () "menuItem"))
                                                       []))
                                                     (Id () "toBeFalsy"))
                                                    []))
                                                  (:
                                                   (VarDeclStmt
                                                    ()
                                                    (:
                                                     (VarDecl
                                                      ()
                                                      (Id () "cmenu2")
                                                      (Just
                                                       (CallExpr
                                                        ()
                                                        (DotRef
                                                         ()
                                                         (VarRef
                                                          ()
                                                          (Id () "Menus"))
                                                         (Id
                                                          ()
                                                          "registerContextMenu"))
                                                        (:
                                                         (StringLit
                                                          ()
                                                          "test-cmenu50")
                                                         []))))
                                                     []))
                                                   (:
                                                    (ExprStmt
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (DotRef
                                                       ()
                                                       (CallExpr
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "expect"))
                                                        (:
                                                         (VarRef
                                                          ()
                                                          (Id () "cmenu2"))
                                                         []))
                                                       (Id () "toBeFalsy"))
                                                      []))
                                                    [])))))))))))))))))))))
                               []))))
                           (:
                            (ExprStmt
                             ()
                             (CallExpr
                              ()
                              (VarRef () (Id () "it"))
                              (:
                               (StringLit () "open a context menu")
                               (:
                                (FuncExpr
                                 ()
                                 Nothing
                                 []
                                 (:
                                  (ExprStmt
                                   ()
                                   (CallExpr
                                    ()
                                    (VarRef () (Id () "runs"))
                                    (:
                                     (FuncExpr
                                      ()
                                      Nothing
                                      []
                                      (:
                                       (VarDeclStmt
                                        ()
                                        (:
                                         (VarDecl
                                          ()
                                          (Id () "openEvent")
                                          (Just (BoolLit () False)))
                                         []))
                                       (:
                                        (VarDeclStmt
                                         ()
                                         (:
                                          (VarDecl
                                           ()
                                           (Id () "cmenu")
                                           (Just
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "Menus"))
                                              (Id () "registerContextMenu"))
                                             (:
                                              (StringLit () "test-cmenu51")
                                              []))))
                                          []))
                                        (:
                                         (ExprStmt
                                          ()
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "CommandManager"))
                                            (Id () "register"))
                                           (:
                                            (StringLit
                                             ()
                                             "Brackets Test Command Custom 51")
                                            (:
                                             (StringLit
                                              ()
                                              "Menu-test.command51")
                                             (:
                                              (FuncExpr () Nothing [] [])
                                              [])))))
                                         (:
                                          (VarDeclStmt
                                           ()
                                           (:
                                            (VarDecl
                                             ()
                                             (Id () "menuItem")
                                             (Just
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (VarRef () (Id () "cmenu"))
                                                (Id () "addMenuItem"))
                                               (:
                                                (StringLit
                                                 ()
                                                 "Menu-test.command51")
                                                []))))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (VarRef () (Id () "testWindow"))
                                                (Id () "$"))
                                               (:
                                                (VarRef () (Id () "cmenu"))
                                                []))
                                              (Id () "on"))
                                             (:
                                              (StringLit
                                               ()
                                               "beforeContextMenuOpen")
                                              (:
                                               (FuncExpr
                                                ()
                                                Nothing
                                                []
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (AssignExpr
                                                   ()
                                                   OpAssign
                                                   (LVar () "openEvent")
                                                   (BoolLit () True)))
                                                 []))
                                               []))))
                                           (:
                                            (ExprStmt
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "cmenu"))
                                               (Id () "open"))
                                              (:
                                               (ObjectLit
                                                ()
                                                (:
                                                 ((,)
                                                  (PropId () (Id () "pageX"))
                                                  (IntLit () 300))
                                                 (:
                                                  ((,)
                                                   (PropId () (Id () "pageY"))
                                                   (IntLit () 250))
                                                  [])))
                                               [])))
                                            (:
                                             (VarDeclStmt
                                              ()
                                              (:
                                               (VarDecl
                                                ()
                                                (Id () "$menu")
                                                (Just
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (VarRef
                                                    ()
                                                    (Id () "testWindow"))
                                                   (Id () "$"))
                                                  (:
                                                   (StringLit
                                                    ()
                                                    ".dropdown.open > ul")
                                                   []))))
                                               []))
                                             (:
                                              (ExprStmt
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (VarRef () (Id () "expect"))
                                                  (:
                                                   (DotRef
                                                    ()
                                                    (VarRef () (Id () "$menu"))
                                                    (Id () "length"))
                                                   []))
                                                 (Id () "toBe"))
                                                (: (IntLit () 1) [])))
                                              (:
                                               (ExprStmt
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (VarRef () (Id () "expect"))
                                                   (:
                                                    (DotRef
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (DotRef
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "$menu"))
                                                       (Id () "offset"))
                                                      [])
                                                     (Id () "left"))
                                                    []))
                                                  (Id () "toBe"))
                                                 (: (IntLit () 300) [])))
                                               (:
                                                (ExprStmt
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (VarRef () (Id () "expect"))
                                                    (:
                                                     (DotRef
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (DotRef
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "$menu"))
                                                        (Id () "offset"))
                                                       [])
                                                      (Id () "top"))
                                                     []))
                                                   (Id () "toBe"))
                                                  (: (IntLit () 250) [])))
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "expect"))
                                                     (:
                                                      (VarRef
                                                       ()
                                                       (Id () "openEvent"))
                                                      []))
                                                    (Id () "toBeTruthy"))
                                                   []))
                                                 []))))))))))))
                                     [])))
                                  []))
                                []))))
                            (:
                             (FunctionStmt
                              ()
                              (Id () "getBounds")
                              (: (Id () "object") [])
                              (:
                               (ReturnStmt
                                ()
                                (Just
                                 (ObjectLit
                                  ()
                                  (:
                                   ((,)
                                    (PropId () (Id () "left"))
                                    (DotRef
                                     ()
                                     (CallExpr
                                      ()
                                      (DotRef
                                       ()
                                       (VarRef () (Id () "object"))
                                       (Id () "offset"))
                                      [])
                                     (Id () "left")))
                                   (:
                                    ((,)
                                     (PropId () (Id () "top"))
                                     (DotRef
                                      ()
                                      (CallExpr
                                       ()
                                       (DotRef
                                        ()
                                        (VarRef () (Id () "object"))
                                        (Id () "offset"))
                                       [])
                                      (Id () "top")))
                                    (:
                                     ((,)
                                      (PropId () (Id () "right"))
                                      (InfixExpr
                                       ()
                                       OpAdd
                                       (DotRef
                                        ()
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (VarRef () (Id () "object"))
                                          (Id () "offset"))
                                         [])
                                        (Id () "left"))
                                       (CallExpr
                                        ()
                                        (DotRef
                                         ()
                                         (VarRef () (Id () "object"))
                                         (Id () "width"))
                                        [])))
                                     (:
                                      ((,)
                                       (PropId () (Id () "bottom"))
                                       (InfixExpr
                                        ()
                                        OpAdd
                                        (DotRef
                                         ()
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "object"))
                                           (Id () "offset"))
                                          [])
                                         (Id () "top"))
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (VarRef () (Id () "object"))
                                          (Id () "height"))
                                         [])))
                                      [])))))))
                               []))
                             (:
                              (FunctionStmt
                               ()
                               (Id () "boundsInsideWindow")
                               (: (Id () "object") [])
                               (:
                                (VarDeclStmt
                                 ()
                                 (:
                                  (VarDecl
                                   ()
                                   (Id () "bounds")
                                   (Just
                                    (CallExpr
                                     ()
                                     (VarRef () (Id () "getBounds"))
                                     (: (VarRef () (Id () "object")) []))))
                                  []))
                                (:
                                 (ReturnStmt
                                  ()
                                  (Just
                                   (InfixExpr
                                    ()
                                    OpLAnd
                                    (InfixExpr
                                     ()
                                     OpLAnd
                                     (InfixExpr
                                      ()
                                      OpLAnd
                                      (InfixExpr
                                       ()
                                       OpGEq
                                       (DotRef
                                        ()
                                        (VarRef () (Id () "bounds"))
                                        (Id () "left"))
                                       (IntLit () 0))
                                      (InfixExpr
                                       ()
                                       OpLEq
                                       (DotRef
                                        ()
                                        (VarRef () (Id () "bounds"))
                                        (Id () "right"))
                                       (CallExpr
                                        ()
                                        (DotRef
                                         ()
                                         (CallExpr
                                          ()
                                          (VarRef () (Id () "$"))
                                          (:
                                           (VarRef () (Id () "testWindow"))
                                           []))
                                         (Id () "width"))
                                        [])))
                                     (InfixExpr
                                      ()
                                      OpGEq
                                      (DotRef
                                       ()
                                       (VarRef () (Id () "bounds"))
                                       (Id () "top"))
                                      (IntLit () 0)))
                                    (InfixExpr
                                     ()
                                     OpLEq
                                     (DotRef
                                      ()
                                      (VarRef () (Id () "bounds"))
                                      (Id () "bottom"))
                                     (CallExpr
                                      ()
                                      (DotRef
                                       ()
                                       (CallExpr
                                        ()
                                        (VarRef () (Id () "$"))
                                        (: (VarRef () (Id () "testWindow")) []))
                                       (Id () "height"))
                                      [])))))
                                 [])))
                              (:
                               (ExprStmt
                                ()
                                (CallExpr
                                 ()
                                 (VarRef () (Id () "it"))
                                 (:
                                  (StringLit () "context menu is not clipped")
                                  (:
                                   (FuncExpr
                                    ()
                                    Nothing
                                    []
                                    (:
                                     (ExprStmt
                                      ()
                                      (CallExpr
                                       ()
                                       (VarRef () (Id () "runs"))
                                       (:
                                        (FuncExpr
                                         ()
                                         Nothing
                                         []
                                         (:
                                          (VarDeclStmt
                                           ()
                                           (:
                                            (VarDecl
                                             ()
                                             (Id () "cmenu")
                                             (Just
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (VarRef () (Id () "Menus"))
                                                (Id () "registerContextMenu"))
                                               (:
                                                (StringLit () "test-cmenu52")
                                                []))))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef
                                               ()
                                               (Id () "CommandManager"))
                                              (Id () "register"))
                                             (:
                                              (StringLit
                                               ()
                                               "Brackets Test Command Custom 52")
                                              (:
                                               (StringLit
                                                ()
                                                "Menu-test.command52")
                                               (:
                                                (FuncExpr () Nothing [] [])
                                                [])))))
                                           (:
                                            (VarDeclStmt
                                             ()
                                             (:
                                              (VarDecl
                                               ()
                                               (Id () "menuItem")
                                               (Just
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (VarRef () (Id () "cmenu"))
                                                  (Id () "addMenuItem"))
                                                 (:
                                                  (StringLit
                                                   ()
                                                   "Menu-test.command52")
                                                  []))))
                                              []))
                                            (:
                                             (VarDeclStmt
                                              ()
                                              (:
                                               (VarDecl
                                                ()
                                                (Id () "winWidth")
                                                (Just
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (VarRef () (Id () "$"))
                                                    (:
                                                     (VarRef
                                                      ()
                                                      (Id () "testWindow"))
                                                     []))
                                                   (Id () "width"))
                                                  [])))
                                               []))
                                             (:
                                              (VarDeclStmt
                                               ()
                                               (:
                                                (VarDecl
                                                 ()
                                                 (Id () "winHeight")
                                                 (Just
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef () (Id () "$"))
                                                     (:
                                                      (VarRef
                                                       ()
                                                       (Id () "testWindow"))
                                                      []))
                                                    (Id () "height"))
                                                   [])))
                                                []))
                                              (:
                                               (ExprStmt
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (VarRef () (Id () "cmenu"))
                                                  (Id () "open"))
                                                 (:
                                                  (ObjectLit
                                                   ()
                                                   (:
                                                    ((,)
                                                     (PropId () (Id () "pageX"))
                                                     (IntLit () 0))
                                                    (:
                                                     ((,)
                                                      (PropId
                                                       ()
                                                       (Id () "pageY"))
                                                      (IntLit () 0))
                                                     [])))
                                                  [])))
                                               (:
                                                (VarDeclStmt
                                                 ()
                                                 (:
                                                  (VarDecl
                                                   ()
                                                   (Id () "$menu")
                                                   (Just
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (VarRef
                                                       ()
                                                       (Id () "testWindow"))
                                                      (Id () "$"))
                                                     (:
                                                      (StringLit
                                                       ()
                                                       ".dropdown.open > ul")
                                                      []))))
                                                  []))
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "expect"))
                                                     (:
                                                      (CallExpr
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id
                                                         ()
                                                         "boundsInsideWindow"))
                                                       (:
                                                        (VarRef
                                                         ()
                                                         (Id () "$menu"))
                                                        []))
                                                      []))
                                                    (Id () "toBeTruthy"))
                                                   []))
                                                 (:
                                                  (ExprStmt
                                                   ()
                                                   (CallExpr
                                                    ()
                                                    (DotRef
                                                     ()
                                                     (VarRef () (Id () "cmenu"))
                                                     (Id () "open"))
                                                    (:
                                                     (ObjectLit
                                                      ()
                                                      (:
                                                       ((,)
                                                        (PropId
                                                         ()
                                                         (Id () "pageX"))
                                                        (VarRef
                                                         ()
                                                         (Id () "winHeight")))
                                                       (:
                                                        ((,)
                                                         (PropId
                                                          ()
                                                          (Id () "pageY"))
                                                         (VarRef
                                                          ()
                                                          (Id () "winWidth")))
                                                        [])))
                                                     [])))
                                                  (:
                                                   (ExprStmt
                                                    ()
                                                    (AssignExpr
                                                     ()
                                                     OpAssign
                                                     (LVar () "$menu")
                                                     (CallExpr
                                                      ()
                                                      (DotRef
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "testWindow"))
                                                       (Id () "$"))
                                                      (:
                                                       (StringLit
                                                        ()
                                                        ".dropdown.open > ul")
                                                       []))))
                                                   (:
                                                    (ExprStmt
                                                     ()
                                                     (CallExpr
                                                      ()
                                                      (DotRef
                                                       ()
                                                       (CallExpr
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "expect"))
                                                        (:
                                                         (CallExpr
                                                          ()
                                                          (VarRef
                                                           ()
                                                           (Id
                                                            ()
                                                            "boundsInsideWindow"))
                                                          (:
                                                           (VarRef
                                                            ()
                                                            (Id () "$menu"))
                                                           []))
                                                         []))
                                                       (Id () "toBeTruthy"))
                                                      []))
                                                    (:
                                                     (ExprStmt
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (DotRef
                                                        ()
                                                        (VarRef
                                                         ()
                                                         (Id () "cmenu"))
                                                        (Id () "open"))
                                                       (:
                                                        (ObjectLit
                                                         ()
                                                         (:
                                                          ((,)
                                                           (PropId
                                                            ()
                                                            (Id () "pageX"))
                                                           (IntLit () 0))
                                                          (:
                                                           ((,)
                                                            (PropId
                                                             ()
                                                             (Id () "pageY"))
                                                            (VarRef
                                                             ()
                                                             (Id
                                                              ()
                                                              "winWidth")))
                                                           [])))
                                                        [])))
                                                     (:
                                                      (ExprStmt
                                                       ()
                                                       (AssignExpr
                                                        ()
                                                        OpAssign
                                                        (LVar () "$menu")
                                                        (CallExpr
                                                         ()
                                                         (DotRef
                                                          ()
                                                          (VarRef
                                                           ()
                                                           (Id () "testWindow"))
                                                          (Id () "$"))
                                                         (:
                                                          (StringLit
                                                           ()
                                                           ".dropdown.open > ul")
                                                          []))))
                                                      (:
                                                       (ExprStmt
                                                        ()
                                                        (CallExpr
                                                         ()
                                                         (DotRef
                                                          ()
                                                          (CallExpr
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id () "expect"))
                                                           (:
                                                            (CallExpr
                                                             ()
                                                             (VarRef
                                                              ()
                                                              (Id
                                                               ()
                                                               "boundsInsideWindow"))
                                                             (:
                                                              (VarRef
                                                               ()
                                                               (Id () "$menu"))
                                                              []))
                                                            []))
                                                          (Id () "toBeTruthy"))
                                                         []))
                                                       (:
                                                        (ExprStmt
                                                         ()
                                                         (CallExpr
                                                          ()
                                                          (DotRef
                                                           ()
                                                           (VarRef
                                                            ()
                                                            (Id () "cmenu"))
                                                           (Id () "open"))
                                                          (:
                                                           (ObjectLit
                                                            ()
                                                            (:
                                                             ((,)
                                                              (PropId
                                                               ()
                                                               (Id () "pageX"))
                                                              (VarRef
                                                               ()
                                                               (Id
                                                                ()
                                                                "winHeight")))
                                                             (:
                                                              ((,)
                                                               (PropId
                                                                ()
                                                                (Id () "pageY"))
                                                               (IntLit () 0))
                                                              [])))
                                                           [])))
                                                        (:
                                                         (ExprStmt
                                                          ()
                                                          (AssignExpr
                                                           ()
                                                           OpAssign
                                                           (LVar () "$menu")
                                                           (CallExpr
                                                            ()
                                                            (DotRef
                                                             ()
                                                             (VarRef
                                                              ()
                                                              (Id
                                                               ()
                                                               "testWindow"))
                                                             (Id () "$"))
                                                            (:
                                                             (StringLit
                                                              ()
                                                              ".dropdown.open > ul")
                                                             []))))
                                                         (:
                                                          (ExprStmt
                                                           ()
                                                           (CallExpr
                                                            ()
                                                            (DotRef
                                                             ()
                                                             (CallExpr
                                                              ()
                                                              (VarRef
                                                               ()
                                                               (Id () "expect"))
                                                              (:
                                                               (CallExpr
                                                                ()
                                                                (VarRef
                                                                 ()
                                                                 (Id
                                                                  ()
                                                                  "boundsInsideWindow"))
                                                                (:
                                                                 (VarRef
                                                                  ()
                                                                  (Id
                                                                   ()
                                                                   "$menu"))
                                                                 []))
                                                               []))
                                                             (Id
                                                              ()
                                                              "toBeTruthy"))
                                                            []))
                                                          []))))))))))))))))))
                                        [])))
                                     []))
                                   []))))
                               (:
                                (ExprStmt
                                 ()
                                 (CallExpr
                                  ()
                                  (VarRef () (Id () "it"))
                                  (:
                                   (StringLit () "close context menu")
                                   (:
                                    (FuncExpr
                                     ()
                                     Nothing
                                     []
                                     (:
                                      (VarDeclStmt
                                       ()
                                       (:
                                        (VarDecl
                                         ()
                                         (Id () "cmenu")
                                         (Just
                                          (CallExpr
                                           ()
                                           (DotRef
                                            ()
                                            (VarRef () (Id () "Menus"))
                                            (Id () "registerContextMenu"))
                                           (:
                                            (StringLit () "test-cmenu53")
                                            []))))
                                        []))
                                      (:
                                       (ExprStmt
                                        ()
                                        (CallExpr
                                         ()
                                         (DotRef
                                          ()
                                          (VarRef () (Id () "CommandManager"))
                                          (Id () "register"))
                                         (:
                                          (StringLit
                                           ()
                                           "Brackets Test Command Custom 53")
                                          (:
                                           (StringLit () "Menu-test.command53")
                                           (:
                                            (FuncExpr () Nothing [] [])
                                            [])))))
                                       (:
                                        (VarDeclStmt
                                         ()
                                         (:
                                          (VarDecl
                                           ()
                                           (Id () "menuItem")
                                           (Just
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "cmenu"))
                                              (Id () "addMenuItem"))
                                             (:
                                              (StringLit
                                               ()
                                               "Menu-test.command53")
                                              []))))
                                          []))
                                        (:
                                         (VarDeclStmt
                                          ()
                                          (:
                                           (VarDecl
                                            ()
                                            (Id () "closeEvent")
                                            (Just (BoolLit () False)))
                                           []))
                                         (:
                                          (ExprStmt
                                           ()
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "testWindow"))
                                               (Id () "$"))
                                              (:
                                               (VarRef () (Id () "cmenu"))
                                               []))
                                             (Id () "on"))
                                            (:
                                             (StringLit () "contextMenuClose")
                                             (:
                                              (FuncExpr
                                               ()
                                               Nothing
                                               []
                                               (:
                                                (ExprStmt
                                                 ()
                                                 (AssignExpr
                                                  ()
                                                  OpAssign
                                                  (LVar () "closeEvent")
                                                  (BoolLit () True)))
                                                []))
                                              []))))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (VarRef () (Id () "cmenu"))
                                              (Id () "open"))
                                             (:
                                              (ObjectLit
                                               ()
                                               (:
                                                ((,)
                                                 (PropId () (Id () "pageX"))
                                                 (IntLit () 0))
                                                (:
                                                 ((,)
                                                  (PropId () (Id () "pageY"))
                                                  (IntLit () 0))
                                                 [])))
                                              [])))
                                           (:
                                            (ExprStmt
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "cmenu"))
                                               (Id () "close"))
                                              []))
                                            (:
                                             (ExprStmt
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (CallExpr
                                                 ()
                                                 (VarRef () (Id () "expect"))
                                                 (:
                                                  (VarRef
                                                   ()
                                                   (Id () "closeEvent"))
                                                  []))
                                                (Id () "toBeTruthy"))
                                               []))
                                             (:
                                              (VarDeclStmt
                                               ()
                                               (:
                                                (VarDecl
                                                 ()
                                                 (Id () "$menus")
                                                 (Just
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (VarRef
                                                     ()
                                                     (Id () "testWindow"))
                                                    (Id () "$"))
                                                   (:
                                                    (StringLit
                                                     ()
                                                     ".dropdown.open")
                                                    []))))
                                                []))
                                              (:
                                               (ExprStmt
                                                ()
                                                (CallExpr
                                                 ()
                                                 (DotRef
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (VarRef () (Id () "expect"))
                                                   (:
                                                    (DotRef
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "$menus"))
                                                     (Id () "length"))
                                                    []))
                                                  (Id () "toBe"))
                                                 (: (IntLit () 0) [])))
                                               [])))))))))))
                                    []))))
                                (:
                                 (ExprStmt
                                  ()
                                  (CallExpr
                                   ()
                                   (VarRef () (Id () "it"))
                                   (:
                                    (StringLit
                                     ()
                                     "close context menu using Esc key")
                                    (:
                                     (FuncExpr
                                      ()
                                      Nothing
                                      []
                                      (:
                                       (VarDeclStmt
                                        ()
                                        (:
                                         (VarDecl
                                          ()
                                          (Id () "cmenu")
                                          (Just
                                           (CallExpr
                                            ()
                                            (DotRef
                                             ()
                                             (VarRef () (Id () "Menus"))
                                             (Id () "registerContextMenu"))
                                            (:
                                             (StringLit () "test-cmenu54")
                                             []))))
                                         []))
                                       (:
                                        (ExprStmt
                                         ()
                                         (CallExpr
                                          ()
                                          (DotRef
                                           ()
                                           (VarRef () (Id () "CommandManager"))
                                           (Id () "register"))
                                          (:
                                           (StringLit
                                            ()
                                            "Brackets Test Command Custom 54")
                                           (:
                                            (StringLit () "Menu-test.command54")
                                            (:
                                             (FuncExpr () Nothing [] [])
                                             [])))))
                                        (:
                                         (VarDeclStmt
                                          ()
                                          (:
                                           (VarDecl
                                            ()
                                            (Id () "menuItem")
                                            (Just
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "cmenu"))
                                               (Id () "addMenuItem"))
                                              (:
                                               (StringLit
                                                ()
                                                "Menu-test.command54")
                                               []))))
                                           []))
                                         (:
                                          (VarDeclStmt
                                           ()
                                           (:
                                            (VarDecl
                                             ()
                                             (Id () "closeEvent")
                                             (Just (BoolLit () False)))
                                            []))
                                          (:
                                           (ExprStmt
                                            ()
                                            (CallExpr
                                             ()
                                             (DotRef
                                              ()
                                              (CallExpr
                                               ()
                                               (DotRef
                                                ()
                                                (VarRef () (Id () "testWindow"))
                                                (Id () "$"))
                                               (:
                                                (VarRef () (Id () "cmenu"))
                                                []))
                                              (Id () "on"))
                                             (:
                                              (StringLit () "contextMenuClose")
                                              (:
                                               (FuncExpr
                                                ()
                                                Nothing
                                                []
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (AssignExpr
                                                   ()
                                                   OpAssign
                                                   (LVar () "closeEvent")
                                                   (BoolLit () True)))
                                                 []))
                                               []))))
                                           (:
                                            (ExprStmt
                                             ()
                                             (CallExpr
                                              ()
                                              (DotRef
                                               ()
                                               (VarRef () (Id () "cmenu"))
                                               (Id () "open"))
                                              (:
                                               (ObjectLit
                                                ()
                                                (:
                                                 ((,)
                                                  (PropId () (Id () "pageX"))
                                                  (IntLit () 0))
                                                 (:
                                                  ((,)
                                                   (PropId () (Id () "pageY"))
                                                   (IntLit () 0))
                                                  [])))
                                               [])))
                                            (:
                                             (VarDeclStmt
                                              ()
                                              (:
                                               (VarDecl
                                                ()
                                                (Id () "$menus")
                                                (Just
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (VarRef
                                                    ()
                                                    (Id () "testWindow"))
                                                   (Id () "$"))
                                                  (:
                                                   (StringLit
                                                    ()
                                                    ".dropdown.open")
                                                   []))))
                                               []))
                                             (:
                                              (ExprStmt
                                               ()
                                               (CallExpr
                                                ()
                                                (DotRef
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (VarRef () (Id () "expect"))
                                                  (:
                                                   (DotRef
                                                    ()
                                                    (VarRef () (Id () "$menus"))
                                                    (Id () "length"))
                                                   []))
                                                 (Id () "toBe"))
                                                (: (IntLit () 1) [])))
                                              (:
                                               (VarDeclStmt
                                                ()
                                                (:
                                                 (VarDecl
                                                  ()
                                                  (Id () "key")
                                                  (Just (IntLit () 27)))
                                                 (:
                                                  (VarDecl
                                                   ()
                                                   (Id () "element")
                                                   (Just
                                                    (BracketRef
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "$menus"))
                                                     (IntLit () 0))))
                                                  [])))
                                               (:
                                                (ExprStmt
                                                 ()
                                                 (CallExpr
                                                  ()
                                                  (DotRef
                                                   ()
                                                   (VarRef
                                                    ()
                                                    (Id () "SpecRunnerUtils"))
                                                   (Id () "simulateKeyEvent"))
                                                  (:
                                                   (VarRef () (Id () "key"))
                                                   (:
                                                    (StringLit () "keydown")
                                                    (:
                                                     (VarRef
                                                      ()
                                                      (Id () "element"))
                                                     [])))))
                                                (:
                                                 (ExprStmt
                                                  ()
                                                  (CallExpr
                                                   ()
                                                   (DotRef
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (VarRef
                                                      ()
                                                      (Id () "expect"))
                                                     (:
                                                      (VarRef
                                                       ()
                                                       (Id () "closeEvent"))
                                                      []))
                                                    (Id () "toBeTruthy"))
                                                   []))
                                                 (:
                                                  (ExprStmt
                                                   ()
                                                   (AssignExpr
                                                    ()
                                                    OpAssign
                                                    (LVar () "$menus")
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (VarRef
                                                       ()
                                                       (Id () "testWindow"))
                                                      (Id () "$"))
                                                     (:
                                                      (StringLit
                                                       ()
                                                       ".dropdown.open")
                                                      []))))
                                                  (:
                                                   (ExprStmt
                                                    ()
                                                    (CallExpr
                                                     ()
                                                     (DotRef
                                                      ()
                                                      (CallExpr
                                                       ()
                                                       (VarRef
                                                        ()
                                                        (Id () "expect"))
                                                       (:
                                                        (DotRef
                                                         ()
                                                         (VarRef
                                                          ()
                                                          (Id () "$menus"))
                                                         (Id () "length"))
                                                        []))
                                                      (Id () "toBe"))
                                                     (: (IntLit () 0) [])))
                                                   []))))))))))))))
                                     []))))
                                 []))))))))
                         []))))
                     []))))))))
             []))))
         []))))
     [])))
  []))
