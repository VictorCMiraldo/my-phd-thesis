(Module
 (:
  (StmtExpr
   (Strings
    (:
     "\"\"\"An implementation of gates that act on qubits.\n\nGates are unitary operators that act on the space of qubits.\n\nMedium Term Todo:\n\n* Optimize Gate._apply_operators_Qubit to remove the creation of many\n  intermediate Qubit objects.\n* Add commutation relationships to all operators and use this in gate_sort.\n* Fix gate_sort and gate_simp.\n* Get multi-target UGates plotting properly.\n* Get UGate to work with either sympy/numpy matrices and output either\n  format. This should also use the matrix slots.\n\"\"\""
     [])
    ())
   ())
  (:
   (FromImport
    (ImportRelative 0 (Just (: (Ident "itertools" ()) [])) ())
    (FromItems (: (FromItem (Ident "chain" ()) Nothing ()) []) ())
    ())
   (:
    (Import (: (ImportItem (: (Ident "random" ()) []) Nothing ()) []) ())
    (:
     (FromImport
      (ImportRelative 0 (Just (: (Ident "sympy" ()) [])) ())
      (FromItems
       (:
        (FromItem (Ident "Add" ()) Nothing ())
        (:
         (FromItem (Ident "I" ()) Nothing ())
         (:
          (FromItem (Ident "Integer" ()) Nothing ())
          (:
           (FromItem (Ident "Matrix" ()) Nothing ())
           (:
            (FromItem (Ident "Mul" ()) Nothing ())
            (:
             (FromItem (Ident "Pow" ()) Nothing ())
             (:
              (FromItem (Ident "sqrt" ()) Nothing ())
              (: (FromItem (Ident "Tuple" ()) Nothing ()) []))))))))
       ())
      ())
     (:
      (FromImport
       (ImportRelative
        0
        (Just
         (:
          (Ident "sympy" ())
          (: (Ident "core" ()) (: (Ident "numbers" ()) []))))
        ())
       (FromItems (: (FromItem (Ident "Number" ()) Nothing ()) []) ())
       ())
      (:
       (FromImport
        (ImportRelative
         0
         (Just
          (:
           (Ident "sympy" ())
           (: (Ident "core" ()) (: (Ident "compatibility" ()) []))))
         ())
        (FromItems (: (FromItem (Ident "is_sequence" ()) Nothing ()) []) ())
        ())
       (:
        (FromImport
         (ImportRelative
          0
          (Just
           (:
            (Ident "sympy" ())
            (:
             (Ident "printing" ())
             (: (Ident "pretty" ()) (: (Ident "stringpict" ()) [])))))
          ())
         (FromItems
          (:
           (FromItem (Ident "prettyForm" ()) Nothing ())
           (: (FromItem (Ident "stringPict" ()) Nothing ()) []))
          ())
         ())
        (:
         (FromImport
          (ImportRelative
           0
           (Just
            (:
             (Ident "sympy" ())
             (:
              (Ident "physics" ())
              (: (Ident "quantum" ()) (: (Ident "anticommutator" ()) [])))))
           ())
          (FromItems
           (: (FromItem (Ident "AntiCommutator" ()) Nothing ()) [])
           ())
          ())
         (:
          (FromImport
           (ImportRelative
            0
            (Just
             (:
              (Ident "sympy" ())
              (:
               (Ident "physics" ())
               (: (Ident "quantum" ()) (: (Ident "commutator" ()) [])))))
            ())
           (FromItems (: (FromItem (Ident "Commutator" ()) Nothing ()) []) ())
           ())
          (:
           (FromImport
            (ImportRelative
             0
             (Just
              (:
               (Ident "sympy" ())
               (:
                (Ident "physics" ())
                (: (Ident "quantum" ()) (: (Ident "qexpr" ()) [])))))
             ())
            (FromItems
             (: (FromItem (Ident "QuantumError" ()) Nothing ()) [])
             ())
            ())
           (:
            (FromImport
             (ImportRelative
              0
              (Just
               (:
                (Ident "sympy" ())
                (:
                 (Ident "physics" ())
                 (: (Ident "quantum" ()) (: (Ident "hilbert" ()) [])))))
              ())
             (FromItems
              (: (FromItem (Ident "ComplexSpace" ()) Nothing ()) [])
              ())
             ())
            (:
             (FromImport
              (ImportRelative
               0
               (Just
                (:
                 (Ident "sympy" ())
                 (:
                  (Ident "physics" ())
                  (: (Ident "quantum" ()) (: (Ident "operator" ()) [])))))
               ())
              (FromItems
               (:
                (FromItem (Ident "UnitaryOperator" ()) Nothing ())
                (:
                 (FromItem (Ident "Operator" ()) Nothing ())
                 (: (FromItem (Ident "HermitianOperator" ()) Nothing ()) [])))
               ())
              ())
             (:
              (FromImport
               (ImportRelative
                0
                (Just
                 (:
                  (Ident "sympy" ())
                  (:
                   (Ident "physics" ())
                   (: (Ident "quantum" ()) (: (Ident "matrixutils" ()) [])))))
                ())
               (FromItems
                (:
                 (FromItem (Ident "matrix_tensor_product" ()) Nothing ())
                 (: (FromItem (Ident "matrix_eye" ()) Nothing ()) []))
                ())
               ())
              (:
               (FromImport
                (ImportRelative
                 0
                 (Just
                  (:
                   (Ident "sympy" ())
                   (:
                    (Ident "physics" ())
                    (: (Ident "quantum" ()) (: (Ident "matrixcache" ()) [])))))
                 ())
                (FromItems
                 (: (FromItem (Ident "matrix_cache" ()) Nothing ()) [])
                 ())
                ())
               (:
                (FromImport
                 (ImportRelative
                  0
                  (Just
                   (:
                    (Ident "sympy" ())
                    (:
                     (Ident "physics" ())
                     (: (Ident "quantum" ()) (: (Ident "dagger" ()) [])))))
                  ())
                 (FromItems (: (FromItem (Ident "Dagger" ()) Nothing ()) []) ())
                 ())
                (:
                 (FromImport
                  (ImportRelative
                   0
                   (Just
                    (:
                     (Ident "sympy" ())
                     (: (Ident "matrices" ()) (: (Ident "matrices" ()) []))))
                   ())
                  (FromItems
                   (: (FromItem (Ident "MatrixBase" ()) Nothing ()) [])
                   ())
                  ())
                 (:
                  (Assign
                   (: (Var (Ident "__all__" ()) ()) [])
                   (List
                    (:
                     (Strings (: "'Gate'" []) ())
                     (:
                      (Strings (: "'CGate'" []) ())
                      (:
                       (Strings (: "'UGate'" []) ())
                       (:
                        (Strings (: "'OneQubitGate'" []) ())
                        (:
                         (Strings (: "'TwoQubitGate'" []) ())
                         (:
                          (Strings (: "'IdentityGate'" []) ())
                          (:
                           (Strings (: "'HadamardGate'" []) ())
                           (:
                            (Strings (: "'XGate'" []) ())
                            (:
                             (Strings (: "'YGate'" []) ())
                             (:
                              (Strings (: "'ZGate'" []) ())
                              (:
                               (Strings (: "'TGate'" []) ())
                               (:
                                (Strings (: "'PhaseGate'" []) ())
                                (:
                                 (Strings (: "'SwapGate'" []) ())
                                 (:
                                  (Strings (: "'CNotGate'" []) ())
                                  (:
                                   (Strings (: "'CNOT'" []) ())
                                   (:
                                    (Strings (: "'SWAP'" []) ())
                                    (:
                                     (Strings (: "'H'" []) ())
                                     (:
                                      (Strings (: "'X'" []) ())
                                      (:
                                       (Strings (: "'Y'" []) ())
                                       (:
                                        (Strings (: "'Z'" []) ())
                                        (:
                                         (Strings (: "'T'" []) ())
                                         (:
                                          (Strings (: "'S'" []) ())
                                          (:
                                           (Strings (: "'Phase'" []) ())
                                           (:
                                            (Strings (: "'normalized'" []) ())
                                            (:
                                             (Strings (: "'gate_sort'" []) ())
                                             (:
                                              (Strings (: "'gate_simp'" []) ())
                                              (:
                                               (Strings
                                                (: "'random_circuit'" [])
                                                ())
                                               (:
                                                (Strings (: "'CPHASE'" []) ())
                                                (:
                                                 (Strings (: "'CGateS'" []) ())
                                                 [])))))))))))))))))))))))))))))
                    ())
                   ())
                  (:
                   (Assign
                    (: (Var (Ident "_normalized" ()) ()) [])
                    (Bool True ())
                    ())
                   (:
                    (Fun
                     (Ident "normalized" ())
                     (: (Param (Ident "normalize" ()) Nothing Nothing ()) [])
                     Nothing
                     (:
                      (StmtExpr
                       (Strings
                        (:
                         "\"\"\"Set flag controlling normalization of Hadamard gates by 1/sqrt(2).\n\n    This is a global setting that can be used to simplify the look of various\n    expressions, by leaving off the leading 1/sqrt(2) of the Hadamard gate.\n\n    Parameters\n    ----------\n    normalize : bool\n        Should the Hadamard gate include the 1/sqrt(2) normalization factor?\n        When True, the Hadamard gate will have the 1/sqrt(2). When False, the\n        Hadamard gate will not have this factor.\n    \"\"\""
                         [])
                        ())
                       ())
                      (:
                       (Global (: (Ident "_normalized" ()) []) ())
                       (:
                        (Assign
                         (: (Var (Ident "_normalized" ()) ()) [])
                         (Var (Ident "normalize" ()) ())
                         ())
                        [])))
                     ())
                    (:
                     (Fun
                      (Ident "_validate_targets_controls" ())
                      (: (Param (Ident "tandc" ()) Nothing Nothing ()) [])
                      Nothing
                      (:
                       (Assign
                        (: (Var (Ident "tandc" ()) ()) [])
                        (Call
                         (Var (Ident "list" ()) ())
                         (: (ArgExpr (Var (Ident "tandc" ()) ()) ()) [])
                         ())
                        ())
                       (:
                        (For
                         (: (Var (Ident "bit" ()) ()) [])
                         (Var (Ident "tandc" ()) ())
                         (:
                          (Conditional
                           (:
                            ((,)
                             (BinaryOp
                              (And ())
                              (UnaryOp
                               (Not ())
                               (Dot
                                (Var (Ident "bit" ()) ())
                                (Ident "is_Integer" ())
                                ())
                               ())
                              (UnaryOp
                               (Not ())
                               (Dot
                                (Var (Ident "bit" ()) ())
                                (Ident "is_Symbol" ())
                                ())
                               ())
                              ())
                             (:
                              (Raise
                               (RaiseV3
                                (Just
                                 ((,)
                                  (Call
                                   (Var (Ident "TypeError" ()) ())
                                   (:
                                    (ArgExpr
                                     (BinaryOp
                                      (Modulo ())
                                      (Strings
                                       (: "'Integer expected, got: %r'" [])
                                       ())
                                      (Subscript
                                       (Var (Ident "tandc" ()) ())
                                       (Var (Ident "bit" ()) ())
                                       ())
                                      ())
                                     ())
                                    [])
                                   ())
                                  Nothing)))
                               ())
                              []))
                            [])
                           []
                           ())
                          [])
                         []
                         ())
                        (:
                         (Conditional
                          (:
                           ((,)
                            (BinaryOp
                             (NotEquals ())
                             (Call
                              (Var (Ident "len" ()) ())
                              (:
                               (ArgExpr
                                (Call
                                 (Var (Ident "list" ()) ())
                                 (:
                                  (ArgExpr
                                   (Call
                                    (Var (Ident "set" ()) ())
                                    (:
                                     (ArgExpr (Var (Ident "tandc" ()) ()) ())
                                     [])
                                    ())
                                   ())
                                  [])
                                 ())
                                ())
                               [])
                              ())
                             (Call
                              (Var (Ident "len" ()) ())
                              (: (ArgExpr (Var (Ident "tandc" ()) ()) ()) [])
                              ())
                             ())
                            (:
                             (Raise
                              (RaiseV3
                               (Just
                                ((,)
                                 (Call
                                  (Var (Ident "QuantumError" ()) ())
                                  (:
                                   (ArgExpr
                                    (Strings
                                     (:
                                      "'Target/control qubits in a gate cannot be duplicated'"
                                      [])
                                     ())
                                    ())
                                   [])
                                  ())
                                 Nothing)))
                              ())
                             []))
                           [])
                          []
                          ())
                         [])))
                      ())
                     (:
                      (Class
                       (Ident "Gate" ())
                       (: (ArgExpr (Var (Ident "UnitaryOperator" ()) ()) ()) [])
                       (:
                        (StmtExpr
                         (Strings
                          (:
                           "\"\"\"Non-controlled unitary gate operator that acts on qubits.\n\n    This is a general abstract gate that needs to be subclassed to do anything\n    useful.\n\n    Parameters\n    ----------\n    label : tuple, int\n        A list of the target qubits (as ints) that the gate will apply to.\n\n    Examples\n    --------\n\n\n    \"\"\""
                           [])
                          ())
                         ())
                        (:
                         (Assign
                          (: (Var (Ident "_label_separator" ()) ()) [])
                          (Strings (: "','" []) ())
                          ())
                         (:
                          (Assign
                           (: (Var (Ident "gate_name" ()) ()) [])
                           (UnicodeStrings (: "u'G'" []) ())
                           ())
                          (:
                           (Assign
                            (: (Var (Ident "gate_name_latex" ()) ()) [])
                            (UnicodeStrings (: "u'G'" []) ())
                            ())
                           (:
                            (Decorated
                             (:
                              (Decorator (: (Ident "classmethod" ()) []) [] ())
                              [])
                             (Fun
                              (Ident "_eval_args" ())
                              (:
                               (Param (Ident "cls" ()) Nothing Nothing ())
                               (:
                                (Param (Ident "args" ()) Nothing Nothing ())
                                []))
                              Nothing
                              (:
                               (Assign
                                (: (Var (Ident "args" ()) ()) [])
                                (Call
                                 (Var (Ident "Tuple" ()) ())
                                 (:
                                  (ArgVarArgsPos
                                   (Call
                                    (Dot
                                     (Var (Ident "UnitaryOperator" ()) ())
                                     (Ident "_eval_args" ())
                                     ())
                                    (:
                                     (ArgExpr (Var (Ident "args" ()) ()) ())
                                     [])
                                    ())
                                   ())
                                  [])
                                 ())
                                ())
                               (:
                                (StmtExpr
                                 (Call
                                  (Var
                                   (Ident "_validate_targets_controls" ())
                                   ())
                                  (: (ArgExpr (Var (Ident "args" ()) ()) ()) [])
                                  ())
                                 ())
                                (:
                                 (Return (Just (Var (Ident "args" ()) ())) ())
                                 [])))
                              ())
                             ())
                            (:
                             (Decorated
                              (:
                               (Decorator (: (Ident "classmethod" ()) []) [] ())
                               [])
                              (Fun
                               (Ident "_eval_hilbert_space" ())
                               (:
                                (Param (Ident "cls" ()) Nothing Nothing ())
                                (:
                                 (Param (Ident "args" ()) Nothing Nothing ())
                                 []))
                               Nothing
                               (:
                                (StmtExpr
                                 (Strings
                                  (:
                                   "\"\"\"This returns the smallest possible Hilbert space.\"\"\""
                                   [])
                                  ())
                                 ())
                                (:
                                 (Return
                                  (Just
                                   (BinaryOp
                                    (Exponent ())
                                    (Call
                                     (Var (Ident "ComplexSpace" ()) ())
                                     (: (ArgExpr (Int 2 "2" ()) ()) [])
                                     ())
                                    (Paren
                                     (BinaryOp
                                      (Plus ())
                                      (Call
                                       (Var (Ident "max" ()) ())
                                       (:
                                        (ArgExpr (Var (Ident "args" ()) ()) ())
                                        [])
                                       ())
                                      (Int 1 "1" ())
                                      ())
                                     ())
                                    ()))
                                  ())
                                 []))
                               ())
                              ())
                             (:
                              (Decorated
                               (:
                                (Decorator (: (Ident "property" ()) []) [] ())
                                [])
                               (Fun
                                (Ident "nqubits" ())
                                (:
                                 (Param (Ident "self" ()) Nothing Nothing ())
                                 [])
                                Nothing
                                (:
                                 (StmtExpr
                                  (Strings
                                   (:
                                    "\"\"\"The total number of qubits this gate acts on.\n\n        For controlled gate subclasses this includes both target and control\n        qubits, so that, for examples the CNOT gate acts on 2 qubits.\n        \"\"\""
                                    [])
                                   ())
                                  ())
                                 (:
                                  (Return
                                   (Just
                                    (Call
                                     (Var (Ident "len" ()) ())
                                     (:
                                      (ArgExpr
                                       (Dot
                                        (Var (Ident "self" ()) ())
                                        (Ident "targets" ())
                                        ())
                                       ())
                                      [])
                                     ()))
                                   ())
                                  []))
                                ())
                               ())
                              (:
                               (Decorated
                                (:
                                 (Decorator (: (Ident "property" ()) []) [] ())
                                 [])
                                (Fun
                                 (Ident "min_qubits" ())
                                 (:
                                  (Param (Ident "self" ()) Nothing Nothing ())
                                  [])
                                 Nothing
                                 (:
                                  (StmtExpr
                                   (Strings
                                    (:
                                     "\"\"\"The minimum number of qubits this gate needs to act on.\"\"\""
                                     [])
                                    ())
                                   ())
                                  (:
                                   (Return
                                    (Just
                                     (BinaryOp
                                      (Plus ())
                                      (Call
                                       (Var (Ident "max" ()) ())
                                       (:
                                        (ArgExpr
                                         (Dot
                                          (Var (Ident "self" ()) ())
                                          (Ident "targets" ())
                                          ())
                                         ())
                                        [])
                                       ())
                                      (Int 1 "1" ())
                                      ()))
                                    ())
                                   []))
                                 ())
                                ())
                               (:
                                (Decorated
                                 (:
                                  (Decorator (: (Ident "property" ()) []) [] ())
                                  [])
                                 (Fun
                                  (Ident "targets" ())
                                  (:
                                   (Param (Ident "self" ()) Nothing Nothing ())
                                   [])
                                  Nothing
                                  (:
                                   (StmtExpr
                                    (Strings
                                     (:
                                      "\"\"\"A tuple of target qubits.\"\"\""
                                      [])
                                     ())
                                    ())
                                   (:
                                    (Return
                                     (Just
                                      (Dot
                                       (Var (Ident "self" ()) ())
                                       (Ident "label" ())
                                       ()))
                                     ())
                                    []))
                                  ())
                                 ())
                                (:
                                 (Decorated
                                  (:
                                   (Decorator
                                    (: (Ident "property" ()) [])
                                    []
                                    ())
                                   [])
                                  (Fun
                                   (Ident "gate_name_plot" ())
                                   (:
                                    (Param (Ident "self" ()) Nothing Nothing ())
                                    [])
                                   Nothing
                                   (:
                                    (Return
                                     (Just
                                      (BinaryOp
                                       (Modulo ())
                                       (Strings (: "r'$%s$'" []) ())
                                       (Dot
                                        (Var (Ident "self" ()) ())
                                        (Ident "gate_name_latex" ())
                                        ())
                                       ()))
                                     ())
                                    [])
                                   ())
                                  ())
                                 (:
                                  (Fun
                                   (Ident "get_target_matrix" ())
                                   (:
                                    (Param (Ident "self" ()) Nothing Nothing ())
                                    (:
                                     (Param
                                      (Ident "format" ())
                                      Nothing
                                      (Just (Strings (: "'sympy'" []) ()))
                                      ())
                                     []))
                                   Nothing
                                   (:
                                    (StmtExpr
                                     (Strings
                                      (:
                                       "\"\"\"The matrix rep. of the target part of the gate.\n\n        Parameters\n        ----------\n        format : str\n            The format string ('sympy','numpy', etc.)\n        \"\"\""
                                       [])
                                      ())
                                     ())
                                    (:
                                     (Raise
                                      (RaiseV3
                                       (Just
                                        ((,)
                                         (Call
                                          (Var
                                           (Ident "NotImplementedError" ())
                                           ())
                                          (:
                                           (ArgExpr
                                            (Strings
                                             (:
                                              "'get_target_matrix is not implemented in Gate.'"
                                              [])
                                             ())
                                            ())
                                           [])
                                          ())
                                         Nothing)))
                                      ())
                                     []))
                                   ())
                                  (:
                                   (Fun
                                    (Ident "_apply_operator_IntQubit" ())
                                    (:
                                     (Param
                                      (Ident "self" ())
                                      Nothing
                                      Nothing
                                      ())
                                     (:
                                      (Param
                                       (Ident "qubits" ())
                                       Nothing
                                       Nothing
                                       ())
                                      (:
                                       (VarArgsKeyword
                                        (Ident "options" ())
                                        Nothing
                                        ())
                                       [])))
                                    Nothing
                                    (:
                                     (StmtExpr
                                      (Strings
                                       (:
                                        "\"\"\"Redirect an apply from IntQubit to Qubit\"\"\""
                                        [])
                                       ())
                                      ())
                                     (:
                                      (Return
                                       (Just
                                        (Call
                                         (Dot
                                          (Var (Ident "self" ()) ())
                                          (Ident "_apply_operator_Qubit" ())
                                          ())
                                         (:
                                          (ArgExpr
                                           (Var (Ident "qubits" ()) ())
                                           ())
                                          (:
                                           (ArgVarArgsKeyword
                                            (Var (Ident "options" ()) ())
                                            ())
                                           []))
                                         ()))
                                       ())
                                      []))
                                    ())
                                   (:
                                    (Fun
                                     (Ident "_apply_operator_Qubit" ())
                                     (:
                                      (Param
                                       (Ident "self" ())
                                       Nothing
                                       Nothing
                                       ())
                                      (:
                                       (Param
                                        (Ident "qubits" ())
                                        Nothing
                                        Nothing
                                        ())
                                       (:
                                        (VarArgsKeyword
                                         (Ident "options" ())
                                         Nothing
                                         ())
                                        [])))
                                     Nothing
                                     (:
                                      (StmtExpr
                                       (Strings
                                        (:
                                         "\"\"\"Apply this gate to a Qubit.\"\"\""
                                         [])
                                        ())
                                       ())
                                      (:
                                       (Conditional
                                        (:
                                         ((,)
                                          (BinaryOp
                                           (LessThan ())
                                           (Dot
                                            (Var (Ident "qubits" ()) ())
                                            (Ident "nqubits" ())
                                            ())
                                           (Dot
                                            (Var (Ident "self" ()) ())
                                            (Ident "min_qubits" ())
                                            ())
                                           ())
                                          (:
                                           (Raise
                                            (RaiseV3
                                             (Just
                                              ((,)
                                               (Call
                                                (Var
                                                 (Ident "QuantumError" ())
                                                 ())
                                                (:
                                                 (ArgExpr
                                                  (BinaryOp
                                                   (Modulo ())
                                                   (Strings
                                                    (:
                                                     "'Gate needs a minimum of %r qubits to act on, got: %r'"
                                                     [])
                                                    ())
                                                   (Paren
                                                    (Tuple
                                                     (:
                                                      (Dot
                                                       (Var
                                                        (Ident "self" ())
                                                        ())
                                                       (Ident "min_qubits" ())
                                                       ())
                                                      (:
                                                       (Dot
                                                        (Var
                                                         (Ident "qubits" ())
                                                         ())
                                                        (Ident "nqubits" ())
                                                        ())
                                                       []))
                                                     ())
                                                    ())
                                                   ())
                                                  ())
                                                 [])
                                                ())
                                               Nothing)))
                                            ())
                                           []))
                                         [])
                                        []
                                        ())
                                       (:
                                        (Conditional
                                         (:
                                          ((,)
                                           (Call
                                            (Var (Ident "isinstance" ()) ())
                                            (:
                                             (ArgExpr
                                              (Var (Ident "self" ()) ())
                                              ())
                                             (:
                                              (ArgExpr
                                               (Var (Ident "CGate" ()) ())
                                               ())
                                              []))
                                            ())
                                           (:
                                            (Conditional
                                             (:
                                              ((,)
                                               (UnaryOp
                                                (Not ())
                                                (Call
                                                 (Dot
                                                  (Var (Ident "self" ()) ())
                                                  (Ident "eval_controls" ())
                                                  ())
                                                 (:
                                                  (ArgExpr
                                                   (Var (Ident "qubits" ()) ())
                                                   ())
                                                  [])
                                                 ())
                                                ())
                                               (:
                                                (Return
                                                 (Just
                                                  (Var (Ident "qubits" ()) ()))
                                                 ())
                                                []))
                                              [])
                                             []
                                             ())
                                            []))
                                          [])
                                         []
                                         ())
                                        (:
                                         (Assign
                                          (: (Var (Ident "targets" ()) ()) [])
                                          (Dot
                                           (Var (Ident "self" ()) ())
                                           (Ident "targets" ())
                                           ())
                                          ())
                                         (:
                                          (Assign
                                           (:
                                            (Var (Ident "target_matrix" ()) ())
                                            [])
                                           (Call
                                            (Dot
                                             (Var (Ident "self" ()) ())
                                             (Ident "get_target_matrix" ())
                                             ())
                                            (:
                                             (ArgKeyword
                                              (Ident "format" ())
                                              (Strings (: "'sympy'" []) ())
                                              ())
                                             [])
                                            ())
                                           ())
                                          (:
                                           (Assign
                                            (:
                                             (Var (Ident "column_index" ()) ())
                                             [])
                                            (Int 0 "0" ())
                                            ())
                                           (:
                                            (Assign
                                             (: (Var (Ident "n" ()) ()) [])
                                             (Int 1 "1" ())
                                             ())
                                            (:
                                             (For
                                              (:
                                               (Var (Ident "target" ()) ())
                                               [])
                                              (Var (Ident "targets" ()) ())
                                              (:
                                               (AugmentedAssign
                                                (Var
                                                 (Ident "column_index" ())
                                                 ())
                                                (PlusAssign ())
                                                (BinaryOp
                                                 (Multiply ())
                                                 (Var (Ident "n" ()) ())
                                                 (Subscript
                                                  (Var (Ident "qubits" ()) ())
                                                  (Var (Ident "target" ()) ())
                                                  ())
                                                 ())
                                                ())
                                               (:
                                                (Assign
                                                 (: (Var (Ident "n" ()) ()) [])
                                                 (BinaryOp
                                                  (ShiftLeft ())
                                                  (Var (Ident "n" ()) ())
                                                  (Int 1 "1" ())
                                                  ())
                                                 ())
                                                []))
                                              []
                                              ())
                                             (:
                                              (Assign
                                               (:
                                                (Var (Ident "column" ()) ())
                                                [])
                                               (SlicedExpr
                                                (Var
                                                 (Ident "target_matrix" ())
                                                 ())
                                                (:
                                                 (SliceProper
                                                  Nothing
                                                  Nothing
                                                  Nothing
                                                  ())
                                                 (:
                                                  (SliceExpr
                                                   (Call
                                                    (Var (Ident "int" ()) ())
                                                    (:
                                                     (ArgExpr
                                                      (Var
                                                       (Ident "column_index" ())
                                                       ())
                                                      ())
                                                     [])
                                                    ())
                                                   ())
                                                  []))
                                                ())
                                               ())
                                              (:
                                               (Assign
                                                (:
                                                 (Var (Ident "result" ()) ())
                                                 [])
                                                (Int 0 "0" ())
                                                ())
                                               (:
                                                (For
                                                 (:
                                                  (Var (Ident "index" ()) ())
                                                  [])
                                                 (Call
                                                  (Var (Ident "range" ()) ())
                                                  (:
                                                   (ArgExpr
                                                    (Dot
                                                     (Var
                                                      (Ident "column" ())
                                                      ())
                                                     (Ident "rows" ())
                                                     ())
                                                    ())
                                                   [])
                                                  ())
                                                 (:
                                                  (Assign
                                                   (:
                                                    (Var
                                                     (Ident "new_qubit" ())
                                                     ())
                                                    [])
                                                   (Call
                                                    (Dot
                                                     (Var
                                                      (Ident "qubits" ())
                                                      ())
                                                     (Ident "__class__" ())
                                                     ())
                                                    (:
                                                     (ArgVarArgsPos
                                                      (Dot
                                                       (Var
                                                        (Ident "qubits" ())
                                                        ())
                                                       (Ident "args" ())
                                                       ())
                                                      ())
                                                     [])
                                                    ())
                                                   ())
                                                  (:
                                                   (For
                                                    (:
                                                     (Var (Ident "bit" ()) ())
                                                     [])
                                                    (Call
                                                     (Var (Ident "range" ()) ())
                                                     (:
                                                      (ArgExpr
                                                       (Call
                                                        (Var
                                                         (Ident "len" ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "targets" ())
                                                           ())
                                                          ())
                                                         [])
                                                        ())
                                                       ())
                                                      [])
                                                     ())
                                                    (:
                                                     (Conditional
                                                      (:
                                                       ((,)
                                                        (BinaryOp
                                                         (NotEquals ())
                                                         (Subscript
                                                          (Var
                                                           (Ident
                                                            "new_qubit"
                                                            ())
                                                           ())
                                                          (Subscript
                                                           (Var
                                                            (Ident "targets" ())
                                                            ())
                                                           (Var
                                                            (Ident "bit" ())
                                                            ())
                                                           ())
                                                          ())
                                                         (BinaryOp
                                                          (BinaryAnd ())
                                                          (Paren
                                                           (BinaryOp
                                                            (ShiftRight ())
                                                            (Var
                                                             (Ident "index" ())
                                                             ())
                                                            (Var
                                                             (Ident "bit" ())
                                                             ())
                                                            ())
                                                           ())
                                                          (Int 1 "1" ())
                                                          ())
                                                         ())
                                                        (:
                                                         (Assign
                                                          (:
                                                           (Var
                                                            (Ident
                                                             "new_qubit"
                                                             ())
                                                            ())
                                                           [])
                                                          (Call
                                                           (Dot
                                                            (Var
                                                             (Ident
                                                              "new_qubit"
                                                              ())
                                                             ())
                                                            (Ident "flip" ())
                                                            ())
                                                           (:
                                                            (ArgExpr
                                                             (Subscript
                                                              (Var
                                                               (Ident
                                                                "targets"
                                                                ())
                                                               ())
                                                              (Var
                                                               (Ident "bit" ())
                                                               ())
                                                              ())
                                                             ())
                                                            [])
                                                           ())
                                                          ())
                                                         []))
                                                       [])
                                                      []
                                                      ())
                                                     [])
                                                    []
                                                    ())
                                                   (:
                                                    (AugmentedAssign
                                                     (Var
                                                      (Ident "result" ())
                                                      ())
                                                     (PlusAssign ())
                                                     (BinaryOp
                                                      (Multiply ())
                                                      (Subscript
                                                       (Var
                                                        (Ident "column" ())
                                                        ())
                                                       (Var
                                                        (Ident "index" ())
                                                        ())
                                                       ())
                                                      (Var
                                                       (Ident "new_qubit" ())
                                                       ())
                                                      ())
                                                     ())
                                                    [])))
                                                 []
                                                 ())
                                                (:
                                                 (Return
                                                  (Just
                                                   (Var (Ident "result" ()) ()))
                                                  ())
                                                 []))))))))))))
                                     ())
                                    (:
                                     (Fun
                                      (Ident "_represent_default_basis" ())
                                      (:
                                       (Param
                                        (Ident "self" ())
                                        Nothing
                                        Nothing
                                        ())
                                       (:
                                        (VarArgsKeyword
                                         (Ident "options" ())
                                         Nothing
                                         ())
                                        []))
                                      Nothing
                                      (:
                                       (Return
                                        (Just
                                         (Call
                                          (Dot
                                           (Var (Ident "self" ()) ())
                                           (Ident "_represent_ZGate" ())
                                           ())
                                          (:
                                           (ArgExpr (None ()) ())
                                           (:
                                            (ArgVarArgsKeyword
                                             (Var (Ident "options" ()) ())
                                             ())
                                            []))
                                          ()))
                                        ())
                                       [])
                                      ())
                                     (:
                                      (Fun
                                       (Ident "_represent_ZGate" ())
                                       (:
                                        (Param
                                         (Ident "self" ())
                                         Nothing
                                         Nothing
                                         ())
                                        (:
                                         (Param
                                          (Ident "basis" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (VarArgsKeyword
                                           (Ident "options" ())
                                           Nothing
                                           ())
                                          [])))
                                       Nothing
                                       (:
                                        (Assign
                                         (: (Var (Ident "format" ()) ()) [])
                                         (Call
                                          (Dot
                                           (Var (Ident "options" ()) ())
                                           (Ident "get" ())
                                           ())
                                          (:
                                           (ArgExpr
                                            (Strings (: "'format'" []) ())
                                            ())
                                           (:
                                            (ArgExpr
                                             (Strings (: "'sympy'" []) ())
                                             ())
                                            []))
                                          ())
                                         ())
                                        (:
                                         (Assign
                                          (: (Var (Ident "nqubits" ()) ()) [])
                                          (Call
                                           (Dot
                                            (Var (Ident "options" ()) ())
                                            (Ident "get" ())
                                            ())
                                           (:
                                            (ArgExpr
                                             (Strings (: "'nqubits'" []) ())
                                             ())
                                            (: (ArgExpr (Int 0 "0" ()) ()) []))
                                           ())
                                          ())
                                         (:
                                          (Conditional
                                           (:
                                            ((,)
                                             (BinaryOp
                                              (Equality ())
                                              (Var (Ident "nqubits" ()) ())
                                              (Int 0 "0" ())
                                              ())
                                             (:
                                              (Raise
                                               (RaiseV3
                                                (Just
                                                 ((,)
                                                  (Call
                                                   (Var
                                                    (Ident "QuantumError" ())
                                                    ())
                                                   (:
                                                    (ArgExpr
                                                     (Strings
                                                      (:
                                                       "'The number of qubits must be given as nqubits.'"
                                                       [])
                                                      ())
                                                     ())
                                                    [])
                                                   ())
                                                  Nothing)))
                                               ())
                                              []))
                                            [])
                                           []
                                           ())
                                          (:
                                           (Conditional
                                            (:
                                             ((,)
                                              (BinaryOp
                                               (LessThan ())
                                               (Var (Ident "nqubits" ()) ())
                                               (Dot
                                                (Var (Ident "self" ()) ())
                                                (Ident "min_qubits" ())
                                                ())
                                               ())
                                              (:
                                               (Raise
                                                (RaiseV3
                                                 (Just
                                                  ((,)
                                                   (Call
                                                    (Var
                                                     (Ident "QuantumError" ())
                                                     ())
                                                    (:
                                                     (ArgExpr
                                                      (BinaryOp
                                                       (Modulo ())
                                                       (Strings
                                                        (:
                                                         "'The number of qubits %r is too small for the gate.'"
                                                         [])
                                                        ())
                                                       (Var
                                                        (Ident "nqubits" ())
                                                        ())
                                                       ())
                                                      ())
                                                     [])
                                                    ())
                                                   Nothing)))
                                                ())
                                               []))
                                             [])
                                            []
                                            ())
                                           (:
                                            (Assign
                                             (:
                                              (Var
                                               (Ident "target_matrix" ())
                                               ())
                                              [])
                                             (Call
                                              (Dot
                                               (Var (Ident "self" ()) ())
                                               (Ident "get_target_matrix" ())
                                               ())
                                              (:
                                               (ArgExpr
                                                (Var (Ident "format" ()) ())
                                                ())
                                               [])
                                              ())
                                             ())
                                            (:
                                             (Assign
                                              (:
                                               (Var (Ident "targets" ()) ())
                                               [])
                                              (Dot
                                               (Var (Ident "self" ()) ())
                                               (Ident "targets" ())
                                               ())
                                              ())
                                             (:
                                              (Conditional
                                               (:
                                                ((,)
                                                 (Call
                                                  (Var
                                                   (Ident "isinstance" ())
                                                   ())
                                                  (:
                                                   (ArgExpr
                                                    (Var (Ident "self" ()) ())
                                                    ())
                                                   (:
                                                    (ArgExpr
                                                     (Var (Ident "CGate" ()) ())
                                                     ())
                                                    []))
                                                  ())
                                                 (:
                                                  (Assign
                                                   (:
                                                    (Var
                                                     (Ident "controls" ())
                                                     ())
                                                    [])
                                                   (Dot
                                                    (Var (Ident "self" ()) ())
                                                    (Ident "controls" ())
                                                    ())
                                                   ())
                                                  []))
                                                [])
                                               (:
                                                (Assign
                                                 (:
                                                  (Var (Ident "controls" ()) ())
                                                  [])
                                                 (List [] ())
                                                 ())
                                                [])
                                               ())
                                              (:
                                               (Assign
                                                (: (Var (Ident "m" ()) ()) [])
                                                (Call
                                                 (Var
                                                  (Ident "represent_zbasis" ())
                                                  ())
                                                 (:
                                                  (ArgExpr
                                                   (Var
                                                    (Ident "controls" ())
                                                    ())
                                                   ())
                                                  (:
                                                   (ArgExpr
                                                    (Var
                                                     (Ident "targets" ())
                                                     ())
                                                    ())
                                                   (:
                                                    (ArgExpr
                                                     (Var
                                                      (Ident "target_matrix" ())
                                                      ())
                                                     ())
                                                    (:
                                                     (ArgExpr
                                                      (Var
                                                       (Ident "nqubits" ())
                                                       ())
                                                      ())
                                                     (:
                                                      (ArgExpr
                                                       (Var
                                                        (Ident "format" ())
                                                        ())
                                                       ())
                                                      [])))))
                                                 ())
                                                ())
                                               (:
                                                (Return
                                                 (Just (Var (Ident "m" ()) ()))
                                                 ())
                                                [])))))))))
                                       ())
                                      (:
                                       (Fun
                                        (Ident "_sympystr" ())
                                        (:
                                         (Param
                                          (Ident "self" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (Param
                                           (Ident "printer" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (VarArgsPos
                                            (Ident "args" ())
                                            Nothing
                                            ())
                                           [])))
                                        Nothing
                                        (:
                                         (Assign
                                          (: (Var (Ident "label" ()) ()) [])
                                          (Call
                                           (Dot
                                            (Var (Ident "self" ()) ())
                                            (Ident "_print_label" ())
                                            ())
                                           (:
                                            (ArgExpr
                                             (Var (Ident "printer" ()) ())
                                             ())
                                            (:
                                             (ArgVarArgsPos
                                              (Var (Ident "args" ()) ())
                                              ())
                                             []))
                                           ())
                                          ())
                                         (:
                                          (Return
                                           (Just
                                            (BinaryOp
                                             (Modulo ())
                                             (Strings (: "'%s(%s)'" []) ())
                                             (Paren
                                              (Tuple
                                               (:
                                                (Dot
                                                 (Var (Ident "self" ()) ())
                                                 (Ident "gate_name" ())
                                                 ())
                                                (:
                                                 (Var (Ident "label" ()) ())
                                                 []))
                                               ())
                                              ())
                                             ()))
                                           ())
                                          []))
                                        ())
                                       (:
                                        (Fun
                                         (Ident "_pretty" ())
                                         (:
                                          (Param
                                           (Ident "self" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (Param
                                            (Ident "printer" ())
                                            Nothing
                                            Nothing
                                            ())
                                           (:
                                            (VarArgsPos
                                             (Ident "args" ())
                                             Nothing
                                             ())
                                            [])))
                                         Nothing
                                         (:
                                          (Assign
                                           (: (Var (Ident "a" ()) ()) [])
                                           (Call
                                            (Var (Ident "stringPict" ()) ())
                                            (:
                                             (ArgExpr
                                              (Call
                                               (Var (Ident "unicode" ()) ())
                                               (:
                                                (ArgExpr
                                                 (Dot
                                                  (Var (Ident "self" ()) ())
                                                  (Ident "gate_name" ())
                                                  ())
                                                 ())
                                                [])
                                               ())
                                              ())
                                             [])
                                            ())
                                           ())
                                          (:
                                           (Assign
                                            (: (Var (Ident "b" ()) ()) [])
                                            (Call
                                             (Dot
                                              (Var (Ident "self" ()) ())
                                              (Ident "_print_label_pretty" ())
                                              ())
                                             (:
                                              (ArgExpr
                                               (Var (Ident "printer" ()) ())
                                               ())
                                              (:
                                               (ArgVarArgsPos
                                                (Var (Ident "args" ()) ())
                                                ())
                                               []))
                                             ())
                                            ())
                                           (:
                                            (Return
                                             (Just
                                              (Call
                                               (Dot
                                                (Var (Ident "self" ()) ())
                                                (Ident
                                                 "_print_subscript_pretty"
                                                 ())
                                                ())
                                               (:
                                                (ArgExpr
                                                 (Var (Ident "a" ()) ())
                                                 ())
                                                (:
                                                 (ArgExpr
                                                  (Var (Ident "b" ()) ())
                                                  ())
                                                 []))
                                               ()))
                                             ())
                                            [])))
                                         ())
                                        (:
                                         (Fun
                                          (Ident "_latex" ())
                                          (:
                                           (Param
                                            (Ident "self" ())
                                            Nothing
                                            Nothing
                                            ())
                                           (:
                                            (Param
                                             (Ident "printer" ())
                                             Nothing
                                             Nothing
                                             ())
                                            (:
                                             (VarArgsPos
                                              (Ident "args" ())
                                              Nothing
                                              ())
                                             [])))
                                          Nothing
                                          (:
                                           (Assign
                                            (: (Var (Ident "label" ()) ()) [])
                                            (Call
                                             (Dot
                                              (Var (Ident "self" ()) ())
                                              (Ident "_print_label" ())
                                              ())
                                             (:
                                              (ArgExpr
                                               (Var (Ident "printer" ()) ())
                                               ())
                                              (:
                                               (ArgVarArgsPos
                                                (Var (Ident "args" ()) ())
                                                ())
                                               []))
                                             ())
                                            ())
                                           (:
                                            (Return
                                             (Just
                                              (BinaryOp
                                               (Modulo ())
                                               (Strings (: "'%s_{%s}'" []) ())
                                               (Paren
                                                (Tuple
                                                 (:
                                                  (Dot
                                                   (Var (Ident "self" ()) ())
                                                   (Ident "gate_name_latex" ())
                                                   ())
                                                  (:
                                                   (Var (Ident "label" ()) ())
                                                   []))
                                                 ())
                                                ())
                                               ()))
                                             ())
                                            []))
                                          ())
                                         (:
                                          (Fun
                                           (Ident "plot_gate" ())
                                           (:
                                            (Param
                                             (Ident "self" ())
                                             Nothing
                                             Nothing
                                             ())
                                            (:
                                             (Param
                                              (Ident "axes" ())
                                              Nothing
                                              Nothing
                                              ())
                                             (:
                                              (Param
                                               (Ident "gate_idx" ())
                                               Nothing
                                               Nothing
                                               ())
                                              (:
                                               (Param
                                                (Ident "gate_grid" ())
                                                Nothing
                                                Nothing
                                                ())
                                               (:
                                                (Param
                                                 (Ident "wire_grid" ())
                                                 Nothing
                                                 Nothing
                                                 ())
                                                [])))))
                                           Nothing
                                           (:
                                            (Raise
                                             (RaiseV3
                                              (Just
                                               ((,)
                                                (Call
                                                 (Var
                                                  (Ident
                                                   "NotImplementedError"
                                                   ())
                                                  ())
                                                 (:
                                                  (ArgExpr
                                                   (Strings
                                                    (:
                                                     "'plot_gate is not implemented.'"
                                                     [])
                                                    ())
                                                   ())
                                                  [])
                                                 ())
                                                Nothing)))
                                             ())
                                            [])
                                           ())
                                          [])))))))))))))))))))
                       ())
                      (:
                       (Class
                        (Ident "CGate" ())
                        (: (ArgExpr (Var (Ident "Gate" ()) ()) ()) [])
                        (:
                         (StmtExpr
                          (Strings
                           (:
                            "\"\"\"A general unitary gate with control qubits.\n\n    A general control gate applies a target gate to a set of targets if all\n    of the control qubits have a particular values (set by\n    ``CGate.control_value``).\n\n    Parameters\n    ----------\n    label : tuple\n        The label in this case has the form (controls, gate), where controls\n        is a tuple/list of control qubits (as ints) and gate is a ``Gate``\n        instance that is the target operator.\n\n    Examples\n    --------\n\n    \"\"\""
                            [])
                           ())
                          ())
                         (:
                          (Assign
                           (: (Var (Ident "gate_name" ()) ()) [])
                           (UnicodeStrings (: "u'C'" []) ())
                           ())
                          (:
                           (Assign
                            (: (Var (Ident "gate_name_latex" ()) ()) [])
                            (UnicodeStrings (: "u'C'" []) ())
                            ())
                           (:
                            (Assign
                             (: (Var (Ident "control_value" ()) ()) [])
                             (Call
                              (Var (Ident "Integer" ()) ())
                              (: (ArgExpr (Int 1 "1" ()) ()) [])
                              ())
                             ())
                            (:
                             (Assign
                              (: (Var (Ident "simplify_cgate" ()) ()) [])
                              (Bool False ())
                              ())
                             (:
                              (Decorated
                               (:
                                (Decorator
                                 (: (Ident "classmethod" ()) [])
                                 []
                                 ())
                                [])
                               (Fun
                                (Ident "_eval_args" ())
                                (:
                                 (Param (Ident "cls" ()) Nothing Nothing ())
                                 (:
                                  (Param (Ident "args" ()) Nothing Nothing ())
                                  []))
                                Nothing
                                (:
                                 (Assign
                                  (: (Var (Ident "controls" ()) ()) [])
                                  (Subscript
                                   (Var (Ident "args" ()) ())
                                   (Int 0 "0" ())
                                   ())
                                  ())
                                 (:
                                  (Assign
                                   (: (Var (Ident "gate" ()) ()) [])
                                   (Subscript
                                    (Var (Ident "args" ()) ())
                                    (Int 1 "1" ())
                                    ())
                                   ())
                                  (:
                                   (Conditional
                                    (:
                                     ((,)
                                      (UnaryOp
                                       (Not ())
                                       (Call
                                        (Var (Ident "is_sequence" ()) ())
                                        (:
                                         (ArgExpr
                                          (Var (Ident "controls" ()) ())
                                          ())
                                         [])
                                        ())
                                       ())
                                      (:
                                       (Assign
                                        (: (Var (Ident "controls" ()) ()) [])
                                        (Paren
                                         (Tuple
                                          (: (Var (Ident "controls" ()) ()) [])
                                          ())
                                         ())
                                        ())
                                       []))
                                     [])
                                    []
                                    ())
                                   (:
                                    (Assign
                                     (: (Var (Ident "controls" ()) ()) [])
                                     (Call
                                      (Dot
                                       (Var (Ident "UnitaryOperator" ()) ())
                                       (Ident "_eval_args" ())
                                       ())
                                      (:
                                       (ArgExpr
                                        (Var (Ident "controls" ()) ())
                                        ())
                                       [])
                                      ())
                                     ())
                                    (:
                                     (StmtExpr
                                      (Call
                                       (Var
                                        (Ident "_validate_targets_controls" ())
                                        ())
                                       (:
                                        (ArgExpr
                                         (Call
                                          (Var (Ident "chain" ()) ())
                                          (:
                                           (ArgExpr
                                            (Var (Ident "controls" ()) ())
                                            ())
                                           (:
                                            (ArgExpr
                                             (Dot
                                              (Var (Ident "gate" ()) ())
                                              (Ident "targets" ())
                                              ())
                                             ())
                                            []))
                                          ())
                                         ())
                                        [])
                                       ())
                                      ())
                                     (:
                                      (Return
                                       (Just
                                        (Paren
                                         (Tuple
                                          (:
                                           (Call
                                            (Var (Ident "Tuple" ()) ())
                                            (:
                                             (ArgVarArgsPos
                                              (Var (Ident "controls" ()) ())
                                              ())
                                             [])
                                            ())
                                           (: (Var (Ident "gate" ()) ()) []))
                                          ())
                                         ()))
                                       ())
                                      []))))))
                                ())
                               ())
                              (:
                               (Decorated
                                (:
                                 (Decorator
                                  (: (Ident "classmethod" ()) [])
                                  []
                                  ())
                                 [])
                                (Fun
                                 (Ident "_eval_hilbert_space" ())
                                 (:
                                  (Param (Ident "cls" ()) Nothing Nothing ())
                                  (:
                                   (Param (Ident "args" ()) Nothing Nothing ())
                                   []))
                                 Nothing
                                 (:
                                  (StmtExpr
                                   (Strings
                                    (:
                                     "\"\"\"This returns the smallest possible Hilbert space.\"\"\""
                                     [])
                                    ())
                                   ())
                                  (:
                                   (Return
                                    (Just
                                     (BinaryOp
                                      (Exponent ())
                                      (Call
                                       (Var (Ident "ComplexSpace" ()) ())
                                       (: (ArgExpr (Int 2 "2" ()) ()) [])
                                       ())
                                      (Call
                                       (Var (Ident "max" ()) ())
                                       (:
                                        (ArgExpr
                                         (BinaryOp
                                          (Plus ())
                                          (Call
                                           (Var (Ident "max" ()) ())
                                           (:
                                            (ArgExpr
                                             (Subscript
                                              (Var (Ident "args" ()) ())
                                              (Int 0 "0" ())
                                              ())
                                             ())
                                            [])
                                           ())
                                          (Int 1 "1" ())
                                          ())
                                         ())
                                        (:
                                         (ArgExpr
                                          (Dot
                                           (Subscript
                                            (Var (Ident "args" ()) ())
                                            (Int 1 "1" ())
                                            ())
                                           (Ident "min_qubits" ())
                                           ())
                                          ())
                                         []))
                                       ())
                                      ()))
                                    ())
                                   []))
                                 ())
                                ())
                               (:
                                (Decorated
                                 (:
                                  (Decorator (: (Ident "property" ()) []) [] ())
                                  [])
                                 (Fun
                                  (Ident "nqubits" ())
                                  (:
                                   (Param (Ident "self" ()) Nothing Nothing ())
                                   [])
                                  Nothing
                                  (:
                                   (StmtExpr
                                    (Strings
                                     (:
                                      "\"\"\"The total number of qubits this gate acts on.\n\n        For controlled gate subclasses this includes both target and control\n        qubits, so that, for examples the CNOT gate acts on 2 qubits.\n        \"\"\""
                                      [])
                                     ())
                                    ())
                                   (:
                                    (Return
                                     (Just
                                      (BinaryOp
                                       (Plus ())
                                       (Call
                                        (Var (Ident "len" ()) ())
                                        (:
                                         (ArgExpr
                                          (Dot
                                           (Var (Ident "self" ()) ())
                                           (Ident "targets" ())
                                           ())
                                          ())
                                         [])
                                        ())
                                       (Call
                                        (Var (Ident "len" ()) ())
                                        (:
                                         (ArgExpr
                                          (Dot
                                           (Var (Ident "self" ()) ())
                                           (Ident "controls" ())
                                           ())
                                          ())
                                         [])
                                        ())
                                       ()))
                                     ())
                                    []))
                                  ())
                                 ())
                                (:
                                 (Decorated
                                  (:
                                   (Decorator
                                    (: (Ident "property" ()) [])
                                    []
                                    ())
                                   [])
                                  (Fun
                                   (Ident "min_qubits" ())
                                   (:
                                    (Param (Ident "self" ()) Nothing Nothing ())
                                    [])
                                   Nothing
                                   (:
                                    (StmtExpr
                                     (Strings
                                      (:
                                       "\"\"\"The minimum number of qubits this gate needs to act on.\"\"\""
                                       [])
                                      ())
                                     ())
                                    (:
                                     (Return
                                      (Just
                                       (BinaryOp
                                        (Plus ())
                                        (Call
                                         (Var (Ident "max" ()) ())
                                         (:
                                          (ArgExpr
                                           (Call
                                            (Var (Ident "max" ()) ())
                                            (:
                                             (ArgExpr
                                              (Dot
                                               (Var (Ident "self" ()) ())
                                               (Ident "controls" ())
                                               ())
                                              ())
                                             [])
                                            ())
                                           ())
                                          (:
                                           (ArgExpr
                                            (Call
                                             (Var (Ident "max" ()) ())
                                             (:
                                              (ArgExpr
                                               (Dot
                                                (Var (Ident "self" ()) ())
                                                (Ident "targets" ())
                                                ())
                                               ())
                                              [])
                                             ())
                                            ())
                                           []))
                                         ())
                                        (Int 1 "1" ())
                                        ()))
                                      ())
                                     []))
                                   ())
                                  ())
                                 (:
                                  (Decorated
                                   (:
                                    (Decorator
                                     (: (Ident "property" ()) [])
                                     []
                                     ())
                                    [])
                                   (Fun
                                    (Ident "targets" ())
                                    (:
                                     (Param
                                      (Ident "self" ())
                                      Nothing
                                      Nothing
                                      ())
                                     [])
                                    Nothing
                                    (:
                                     (StmtExpr
                                      (Strings
                                       (:
                                        "\"\"\"A tuple of target qubits.\"\"\""
                                        [])
                                       ())
                                      ())
                                     (:
                                      (Return
                                       (Just
                                        (Dot
                                         (Dot
                                          (Var (Ident "self" ()) ())
                                          (Ident "gate" ())
                                          ())
                                         (Ident "targets" ())
                                         ()))
                                       ())
                                      []))
                                    ())
                                   ())
                                  (:
                                   (Decorated
                                    (:
                                     (Decorator
                                      (: (Ident "property" ()) [])
                                      []
                                      ())
                                     [])
                                    (Fun
                                     (Ident "controls" ())
                                     (:
                                      (Param
                                       (Ident "self" ())
                                       Nothing
                                       Nothing
                                       ())
                                      [])
                                     Nothing
                                     (:
                                      (StmtExpr
                                       (Strings
                                        (:
                                         "\"\"\"A tuple of control qubits.\"\"\""
                                         [])
                                        ())
                                       ())
                                      (:
                                       (Return
                                        (Just
                                         (Call
                                          (Var (Ident "tuple" ()) ())
                                          (:
                                           (ArgExpr
                                            (Subscript
                                             (Dot
                                              (Var (Ident "self" ()) ())
                                              (Ident "label" ())
                                              ())
                                             (Int 0 "0" ())
                                             ())
                                            ())
                                           [])
                                          ()))
                                        ())
                                       []))
                                     ())
                                    ())
                                   (:
                                    (Decorated
                                     (:
                                      (Decorator
                                       (: (Ident "property" ()) [])
                                       []
                                       ())
                                      [])
                                     (Fun
                                      (Ident "gate" ())
                                      (:
                                       (Param
                                        (Ident "self" ())
                                        Nothing
                                        Nothing
                                        ())
                                       [])
                                      Nothing
                                      (:
                                       (StmtExpr
                                        (Strings
                                         (:
                                          "\"\"\"The non-controlled gate that will be applied to the targets.\"\"\""
                                          [])
                                         ())
                                        ())
                                       (:
                                        (Return
                                         (Just
                                          (Subscript
                                           (Dot
                                            (Var (Ident "self" ()) ())
                                            (Ident "label" ())
                                            ())
                                           (Int 1 "1" ())
                                           ()))
                                         ())
                                        []))
                                      ())
                                     ())
                                    (:
                                     (Fun
                                      (Ident "get_target_matrix" ())
                                      (:
                                       (Param
                                        (Ident "self" ())
                                        Nothing
                                        Nothing
                                        ())
                                       (:
                                        (Param
                                         (Ident "format" ())
                                         Nothing
                                         (Just (Strings (: "'sympy'" []) ()))
                                         ())
                                        []))
                                      Nothing
                                      (:
                                       (Return
                                        (Just
                                         (Call
                                          (Dot
                                           (Dot
                                            (Var (Ident "self" ()) ())
                                            (Ident "gate" ())
                                            ())
                                           (Ident "get_target_matrix" ())
                                           ())
                                          (:
                                           (ArgExpr
                                            (Var (Ident "format" ()) ())
                                            ())
                                           [])
                                          ()))
                                        ())
                                       [])
                                      ())
                                     (:
                                      (Fun
                                       (Ident "eval_controls" ())
                                       (:
                                        (Param
                                         (Ident "self" ())
                                         Nothing
                                         Nothing
                                         ())
                                        (:
                                         (Param
                                          (Ident "qubit" ())
                                          Nothing
                                          Nothing
                                          ())
                                         []))
                                       Nothing
                                       (:
                                        (StmtExpr
                                         (Strings
                                          (:
                                           "\"\"\"Return True/False to indicate if the controls are satisfied.\"\"\""
                                           [])
                                          ())
                                         ())
                                        (:
                                         (Return
                                          (Just
                                           (Call
                                            (Var (Ident "all" ()) ())
                                            (:
                                             (ArgExpr
                                              (Generator
                                               (Comprehension
                                                (ComprehensionExpr
                                                 (BinaryOp
                                                  (Equality ())
                                                  (Subscript
                                                   (Var (Ident "qubit" ()) ())
                                                   (Var (Ident "bit" ()) ())
                                                   ())
                                                  (Dot
                                                   (Var (Ident "self" ()) ())
                                                   (Ident "control_value" ())
                                                   ())
                                                  ()))
                                                (CompFor
                                                 False
                                                 (:
                                                  (Var (Ident "bit" ()) ())
                                                  [])
                                                 (Dot
                                                  (Var (Ident "self" ()) ())
                                                  (Ident "controls" ())
                                                  ())
                                                 Nothing
                                                 ())
                                                ())
                                               ())
                                              ())
                                             [])
                                            ()))
                                          ())
                                         []))
                                       ())
                                      (:
                                       (Fun
                                        (Ident "decompose" ())
                                        (:
                                         (Param
                                          (Ident "self" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (VarArgsKeyword
                                           (Ident "options" ())
                                           Nothing
                                           ())
                                          []))
                                        Nothing
                                        (:
                                         (StmtExpr
                                          (Strings
                                           (:
                                            "\"\"\"Decompose the controlled gate into CNOT and single qubits gates.\"\"\""
                                            [])
                                           ())
                                          ())
                                         (:
                                          (Conditional
                                           (:
                                            ((,)
                                             (BinaryOp
                                              (Equality ())
                                              (Call
                                               (Var (Ident "len" ()) ())
                                               (:
                                                (ArgExpr
                                                 (Dot
                                                  (Var (Ident "self" ()) ())
                                                  (Ident "controls" ())
                                                  ())
                                                 ())
                                                [])
                                               ())
                                              (Int 1 "1" ())
                                              ())
                                             (:
                                              (Assign
                                               (: (Var (Ident "c" ()) ()) [])
                                               (Subscript
                                                (Dot
                                                 (Var (Ident "self" ()) ())
                                                 (Ident "controls" ())
                                                 ())
                                                (Int 0 "0" ())
                                                ())
                                               ())
                                              (:
                                               (Assign
                                                (: (Var (Ident "t" ()) ()) [])
                                                (Subscript
                                                 (Dot
                                                  (Dot
                                                   (Var (Ident "self" ()) ())
                                                   (Ident "gate" ())
                                                   ())
                                                  (Ident "targets" ())
                                                  ())
                                                 (Int 0 "0" ())
                                                 ())
                                                ())
                                               (:
                                                (Conditional
                                                 (:
                                                  ((,)
                                                   (Call
                                                    (Var
                                                     (Ident "isinstance" ())
                                                     ())
                                                    (:
                                                     (ArgExpr
                                                      (Dot
                                                       (Var
                                                        (Ident "self" ())
                                                        ())
                                                       (Ident "gate" ())
                                                       ())
                                                      ())
                                                     (:
                                                      (ArgExpr
                                                       (Var
                                                        (Ident "YGate" ())
                                                        ())
                                                       ())
                                                      []))
                                                    ())
                                                   (:
                                                    (Assign
                                                     (:
                                                      (Var (Ident "g1" ()) ())
                                                      [])
                                                     (Call
                                                      (Var
                                                       (Ident "PhaseGate" ())
                                                       ())
                                                      (:
                                                       (ArgExpr
                                                        (Var (Ident "t" ()) ())
                                                        ())
                                                       [])
                                                      ())
                                                     ())
                                                    (:
                                                     (Assign
                                                      (:
                                                       (Var (Ident "g2" ()) ())
                                                       [])
                                                      (Call
                                                       (Var
                                                        (Ident "CNotGate" ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Var (Ident "c" ()) ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "t" ())
                                                           ())
                                                          ())
                                                         []))
                                                       ())
                                                      ())
                                                     (:
                                                      (Assign
                                                       (:
                                                        (Var (Ident "g3" ()) ())
                                                        [])
                                                       (Call
                                                        (Var
                                                         (Ident "PhaseGate" ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "t" ())
                                                           ())
                                                          ())
                                                         [])
                                                        ())
                                                       ())
                                                      (:
                                                       (Assign
                                                        (:
                                                         (Var
                                                          (Ident "g4" ())
                                                          ())
                                                         [])
                                                        (Call
                                                         (Var
                                                          (Ident "ZGate" ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident "t" ())
                                                            ())
                                                           ())
                                                          [])
                                                         ())
                                                        ())
                                                       (:
                                                        (Return
                                                         (Just
                                                          (BinaryOp
                                                           (Multiply ())
                                                           (BinaryOp
                                                            (Multiply ())
                                                            (BinaryOp
                                                             (Multiply ())
                                                             (Var
                                                              (Ident "g1" ())
                                                              ())
                                                             (Var
                                                              (Ident "g2" ())
                                                              ())
                                                             ())
                                                            (Var
                                                             (Ident "g3" ())
                                                             ())
                                                            ())
                                                           (Var
                                                            (Ident "g4" ())
                                                            ())
                                                           ()))
                                                         ())
                                                        []))))))
                                                  [])
                                                 []
                                                 ())
                                                (:
                                                 (Conditional
                                                  (:
                                                   ((,)
                                                    (Call
                                                     (Var
                                                      (Ident "isinstance" ())
                                                      ())
                                                     (:
                                                      (ArgExpr
                                                       (Dot
                                                        (Var
                                                         (Ident "self" ())
                                                         ())
                                                        (Ident "gate" ())
                                                        ())
                                                       ())
                                                      (:
                                                       (ArgExpr
                                                        (Var
                                                         (Ident "ZGate" ())
                                                         ())
                                                        ())
                                                       []))
                                                     ())
                                                    (:
                                                     (Assign
                                                      (:
                                                       (Var (Ident "g1" ()) ())
                                                       [])
                                                      (Call
                                                       (Var
                                                        (Ident
                                                         "HadamardGate"
                                                         ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Var (Ident "t" ()) ())
                                                         ())
                                                        [])
                                                       ())
                                                      ())
                                                     (:
                                                      (Assign
                                                       (:
                                                        (Var (Ident "g2" ()) ())
                                                        [])
                                                       (Call
                                                        (Var
                                                         (Ident "CNotGate" ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "c" ())
                                                           ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident "t" ())
                                                            ())
                                                           ())
                                                          []))
                                                        ())
                                                       ())
                                                      (:
                                                       (Assign
                                                        (:
                                                         (Var
                                                          (Ident "g3" ())
                                                          ())
                                                         [])
                                                        (Call
                                                         (Var
                                                          (Ident
                                                           "HadamardGate"
                                                           ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident "t" ())
                                                            ())
                                                           ())
                                                          [])
                                                         ())
                                                        ())
                                                       (:
                                                        (Return
                                                         (Just
                                                          (BinaryOp
                                                           (Multiply ())
                                                           (BinaryOp
                                                            (Multiply ())
                                                            (Var
                                                             (Ident "g1" ())
                                                             ())
                                                            (Var
                                                             (Ident "g2" ())
                                                             ())
                                                            ())
                                                           (Var
                                                            (Ident "g3" ())
                                                            ())
                                                           ()))
                                                         ())
                                                        [])))))
                                                   [])
                                                  []
                                                  ())
                                                 [])))))
                                            [])
                                           (:
                                            (Return
                                             (Just (Var (Ident "self" ()) ()))
                                             ())
                                            [])
                                           ())
                                          []))
                                        ())
                                       (:
                                        (Fun
                                         (Ident "_print_label" ())
                                         (:
                                          (Param
                                           (Ident "self" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (Param
                                            (Ident "printer" ())
                                            Nothing
                                            Nothing
                                            ())
                                           (:
                                            (VarArgsPos
                                             (Ident "args" ())
                                             Nothing
                                             ())
                                            [])))
                                         Nothing
                                         (:
                                          (Assign
                                           (: (Var (Ident "controls" ()) ()) [])
                                           (Call
                                            (Dot
                                             (Var (Ident "self" ()) ())
                                             (Ident "_print_sequence" ())
                                             ())
                                            (:
                                             (ArgExpr
                                              (Dot
                                               (Var (Ident "self" ()) ())
                                               (Ident "controls" ())
                                               ())
                                              ())
                                             (:
                                              (ArgExpr
                                               (Strings (: "','" []) ())
                                               ())
                                              (:
                                               (ArgExpr
                                                (Var (Ident "printer" ()) ())
                                                ())
                                               (:
                                                (ArgVarArgsPos
                                                 (Var (Ident "args" ()) ())
                                                 ())
                                                []))))
                                            ())
                                           ())
                                          (:
                                           (Assign
                                            (: (Var (Ident "gate" ()) ()) [])
                                            (Call
                                             (Dot
                                              (Var (Ident "printer" ()) ())
                                              (Ident "_print" ())
                                              ())
                                             (:
                                              (ArgExpr
                                               (Dot
                                                (Var (Ident "self" ()) ())
                                                (Ident "gate" ())
                                                ())
                                               ())
                                              (:
                                               (ArgVarArgsPos
                                                (Var (Ident "args" ()) ())
                                                ())
                                               []))
                                             ())
                                            ())
                                           (:
                                            (Return
                                             (Just
                                              (BinaryOp
                                               (Modulo ())
                                               (Strings (: "'(%s),%s'" []) ())
                                               (Paren
                                                (Tuple
                                                 (:
                                                  (Var (Ident "controls" ()) ())
                                                  (:
                                                   (Var (Ident "gate" ()) ())
                                                   []))
                                                 ())
                                                ())
                                               ()))
                                             ())
                                            [])))
                                         ())
                                        (:
                                         (Fun
                                          (Ident "_pretty" ())
                                          (:
                                           (Param
                                            (Ident "self" ())
                                            Nothing
                                            Nothing
                                            ())
                                           (:
                                            (Param
                                             (Ident "printer" ())
                                             Nothing
                                             Nothing
                                             ())
                                            (:
                                             (VarArgsPos
                                              (Ident "args" ())
                                              Nothing
                                              ())
                                             [])))
                                          Nothing
                                          (:
                                           (Assign
                                            (:
                                             (Var (Ident "controls" ()) ())
                                             [])
                                            (Call
                                             (Dot
                                              (Var (Ident "self" ()) ())
                                              (Ident
                                               "_print_sequence_pretty"
                                               ())
                                              ())
                                             (:
                                              (ArgExpr
                                               (Dot
                                                (Var (Ident "self" ()) ())
                                                (Ident "controls" ())
                                                ())
                                               ())
                                              (:
                                               (ArgExpr
                                                (Strings (: "','" []) ())
                                                ())
                                               (:
                                                (ArgExpr
                                                 (Var (Ident "printer" ()) ())
                                                 ())
                                                (:
                                                 (ArgVarArgsPos
                                                  (Var (Ident "args" ()) ())
                                                  ())
                                                 []))))
                                             ())
                                            ())
                                           (:
                                            (Assign
                                             (: (Var (Ident "gate" ()) ()) [])
                                             (Call
                                              (Dot
                                               (Var (Ident "printer" ()) ())
                                               (Ident "_print" ())
                                               ())
                                              (:
                                               (ArgExpr
                                                (Dot
                                                 (Var (Ident "self" ()) ())
                                                 (Ident "gate" ())
                                                 ())
                                                ())
                                               [])
                                              ())
                                             ())
                                            (:
                                             (Assign
                                              (:
                                               (Var (Ident "gate_name" ()) ())
                                               [])
                                              (Call
                                               (Var (Ident "stringPict" ()) ())
                                               (:
                                                (ArgExpr
                                                 (Call
                                                  (Var (Ident "unicode" ()) ())
                                                  (:
                                                   (ArgExpr
                                                    (Dot
                                                     (Var (Ident "self" ()) ())
                                                     (Ident "gate_name" ())
                                                     ())
                                                    ())
                                                   [])
                                                  ())
                                                 ())
                                                [])
                                               ())
                                              ())
                                             (:
                                              (Assign
                                               (:
                                                (Var (Ident "first" ()) ())
                                                [])
                                               (Call
                                                (Dot
                                                 (Var (Ident "self" ()) ())
                                                 (Ident
                                                  "_print_subscript_pretty"
                                                  ())
                                                 ())
                                                (:
                                                 (ArgExpr
                                                  (Var
                                                   (Ident "gate_name" ())
                                                   ())
                                                  ())
                                                 (:
                                                  (ArgExpr
                                                   (Var
                                                    (Ident "controls" ())
                                                    ())
                                                   ())
                                                  []))
                                                ())
                                               ())
                                              (:
                                               (Assign
                                                (:
                                                 (Var (Ident "gate" ()) ())
                                                 [])
                                                (Call
                                                 (Dot
                                                  (Var (Ident "self" ()) ())
                                                  (Ident
                                                   "_print_parens_pretty"
                                                   ())
                                                  ())
                                                 (:
                                                  (ArgExpr
                                                   (Var (Ident "gate" ()) ())
                                                   ())
                                                  [])
                                                 ())
                                                ())
                                               (:
                                                (Assign
                                                 (:
                                                  (Var (Ident "final" ()) ())
                                                  [])
                                                 (Call
                                                  (Var
                                                   (Ident "prettyForm" ())
                                                   ())
                                                  (:
                                                   (ArgVarArgsPos
                                                    (Call
                                                     (Dot
                                                      (Var
                                                       (Ident "first" ())
                                                       ())
                                                      (Ident "right" ())
                                                      ())
                                                     (:
                                                      (ArgExpr
                                                       (Paren
                                                        (Var
                                                         (Ident "gate" ())
                                                         ())
                                                        ())
                                                       ())
                                                      [])
                                                     ())
                                                    ())
                                                   [])
                                                  ())
                                                 ())
                                                (:
                                                 (Return
                                                  (Just
                                                   (Var (Ident "final" ()) ()))
                                                  ())
                                                 [])))))))
                                          ())
                                         (:
                                          (Fun
                                           (Ident "_latex" ())
                                           (:
                                            (Param
                                             (Ident "self" ())
                                             Nothing
                                             Nothing
                                             ())
                                            (:
                                             (Param
                                              (Ident "printer" ())
                                              Nothing
                                              Nothing
                                              ())
                                             (:
                                              (VarArgsPos
                                               (Ident "args" ())
                                               Nothing
                                               ())
                                              [])))
                                           Nothing
                                           (:
                                            (Assign
                                             (:
                                              (Var (Ident "controls" ()) ())
                                              [])
                                             (Call
                                              (Dot
                                               (Var (Ident "self" ()) ())
                                               (Ident "_print_sequence" ())
                                               ())
                                              (:
                                               (ArgExpr
                                                (Dot
                                                 (Var (Ident "self" ()) ())
                                                 (Ident "controls" ())
                                                 ())
                                                ())
                                               (:
                                                (ArgExpr
                                                 (Strings (: "','" []) ())
                                                 ())
                                                (:
                                                 (ArgExpr
                                                  (Var (Ident "printer" ()) ())
                                                  ())
                                                 (:
                                                  (ArgVarArgsPos
                                                   (Var (Ident "args" ()) ())
                                                   ())
                                                  []))))
                                              ())
                                             ())
                                            (:
                                             (Assign
                                              (: (Var (Ident "gate" ()) ()) [])
                                              (Call
                                               (Dot
                                                (Var (Ident "printer" ()) ())
                                                (Ident "_print" ())
                                                ())
                                               (:
                                                (ArgExpr
                                                 (Dot
                                                  (Var (Ident "self" ()) ())
                                                  (Ident "gate" ())
                                                  ())
                                                 ())
                                                (:
                                                 (ArgVarArgsPos
                                                  (Var (Ident "args" ()) ())
                                                  ())
                                                 []))
                                               ())
                                              ())
                                             (:
                                              (Return
                                               (Just
                                                (BinaryOp
                                                 (Modulo ())
                                                 (Strings
                                                  (:
                                                   "r'%s_{%s}{\\left(%s\\right)}'"
                                                   [])
                                                  ())
                                                 (Paren
                                                  (Tuple
                                                   (:
                                                    (Dot
                                                     (Var (Ident "self" ()) ())
                                                     (Ident
                                                      "gate_name_latex"
                                                      ())
                                                     ())
                                                    (:
                                                     (Var
                                                      (Ident "controls" ())
                                                      ())
                                                     (:
                                                      (Var (Ident "gate" ()) ())
                                                      [])))
                                                   ())
                                                  ())
                                                 ()))
                                               ())
                                              [])))
                                           ())
                                          (:
                                           (Fun
                                            (Ident "plot_gate" ())
                                            (:
                                             (Param
                                              (Ident "self" ())
                                              Nothing
                                              Nothing
                                              ())
                                             (:
                                              (Param
                                               (Ident "circ_plot" ())
                                               Nothing
                                               Nothing
                                               ())
                                              (:
                                               (Param
                                                (Ident "gate_idx" ())
                                                Nothing
                                                Nothing
                                                ())
                                               [])))
                                            Nothing
                                            (:
                                             (StmtExpr
                                              (Strings
                                               (:
                                                "\"\"\"\n        Plot the controlled gate. If *simplify_cgate* is true, simplify\n        C-X and C-Z gates into their more familiar forms.\n        \"\"\""
                                                [])
                                               ())
                                              ())
                                             (:
                                              (Assign
                                               (:
                                                (Var (Ident "min_wire" ()) ())
                                                [])
                                               (Call
                                                (Var (Ident "int" ()) ())
                                                (:
                                                 (ArgExpr
                                                  (Call
                                                   (Var (Ident "min" ()) ())
                                                   (:
                                                    (ArgExpr
                                                     (Call
                                                      (Var
                                                       (Ident "chain" ())
                                                       ())
                                                      (:
                                                       (ArgExpr
                                                        (Dot
                                                         (Var
                                                          (Ident "self" ())
                                                          ())
                                                         (Ident "controls" ())
                                                         ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Dot
                                                          (Var
                                                           (Ident "self" ())
                                                           ())
                                                          (Ident "targets" ())
                                                          ())
                                                         ())
                                                        []))
                                                      ())
                                                     ())
                                                    [])
                                                   ())
                                                  ())
                                                 [])
                                                ())
                                               ())
                                              (:
                                               (Assign
                                                (:
                                                 (Var (Ident "max_wire" ()) ())
                                                 [])
                                                (Call
                                                 (Var (Ident "int" ()) ())
                                                 (:
                                                  (ArgExpr
                                                   (Call
                                                    (Var (Ident "max" ()) ())
                                                    (:
                                                     (ArgExpr
                                                      (Call
                                                       (Var
                                                        (Ident "chain" ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Dot
                                                          (Var
                                                           (Ident "self" ())
                                                           ())
                                                          (Ident "controls" ())
                                                          ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Dot
                                                           (Var
                                                            (Ident "self" ())
                                                            ())
                                                           (Ident "targets" ())
                                                           ())
                                                          ())
                                                         []))
                                                       ())
                                                      ())
                                                     [])
                                                    ())
                                                   ())
                                                  [])
                                                 ())
                                                ())
                                               (:
                                                (StmtExpr
                                                 (Call
                                                  (Dot
                                                   (Var
                                                    (Ident "circ_plot" ())
                                                    ())
                                                   (Ident "control_line" ())
                                                   ())
                                                  (:
                                                   (ArgExpr
                                                    (Var
                                                     (Ident "gate_idx" ())
                                                     ())
                                                    ())
                                                   (:
                                                    (ArgExpr
                                                     (Var
                                                      (Ident "min_wire" ())
                                                      ())
                                                     ())
                                                    (:
                                                     (ArgExpr
                                                      (Var
                                                       (Ident "max_wire" ())
                                                       ())
                                                      ())
                                                     [])))
                                                  ())
                                                 ())
                                                (:
                                                 (For
                                                  (: (Var (Ident "c" ()) ()) [])
                                                  (Dot
                                                   (Var (Ident "self" ()) ())
                                                   (Ident "controls" ())
                                                   ())
                                                  (:
                                                   (StmtExpr
                                                    (Call
                                                     (Dot
                                                      (Var
                                                       (Ident "circ_plot" ())
                                                       ())
                                                      (Ident "control_point" ())
                                                      ())
                                                     (:
                                                      (ArgExpr
                                                       (Var
                                                        (Ident "gate_idx" ())
                                                        ())
                                                       ())
                                                      (:
                                                       (ArgExpr
                                                        (Call
                                                         (Var
                                                          (Ident "int" ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident "c" ())
                                                            ())
                                                           ())
                                                          [])
                                                         ())
                                                        ())
                                                       []))
                                                     ())
                                                    ())
                                                   [])
                                                  []
                                                  ())
                                                 (:
                                                  (Conditional
                                                   (:
                                                    ((,)
                                                     (Dot
                                                      (Var (Ident "self" ()) ())
                                                      (Ident
                                                       "simplify_cgate"
                                                       ())
                                                      ())
                                                     (:
                                                      (Conditional
                                                       (:
                                                        ((,)
                                                         (BinaryOp
                                                          (Equality ())
                                                          (Dot
                                                           (Dot
                                                            (Var
                                                             (Ident "self" ())
                                                             ())
                                                            (Ident "gate" ())
                                                            ())
                                                           (Ident
                                                            "gate_name"
                                                            ())
                                                           ())
                                                          (UnicodeStrings
                                                           (: "u'X'" [])
                                                           ())
                                                          ())
                                                         (:
                                                          (StmtExpr
                                                           (Call
                                                            (Dot
                                                             (Dot
                                                              (Var
                                                               (Ident "self" ())
                                                               ())
                                                              (Ident "gate" ())
                                                              ())
                                                             (Ident
                                                              "plot_gate_plus"
                                                              ())
                                                             ())
                                                            (:
                                                             (ArgExpr
                                                              (Var
                                                               (Ident
                                                                "circ_plot"
                                                                ())
                                                               ())
                                                              ())
                                                             (:
                                                              (ArgExpr
                                                               (Var
                                                                (Ident
                                                                 "gate_idx"
                                                                 ())
                                                                ())
                                                               ())
                                                              []))
                                                            ())
                                                           ())
                                                          []))
                                                        (:
                                                         ((,)
                                                          (BinaryOp
                                                           (Equality ())
                                                           (Dot
                                                            (Dot
                                                             (Var
                                                              (Ident "self" ())
                                                              ())
                                                             (Ident "gate" ())
                                                             ())
                                                            (Ident
                                                             "gate_name"
                                                             ())
                                                            ())
                                                           (UnicodeStrings
                                                            (: "u'Z'" [])
                                                            ())
                                                           ())
                                                          (:
                                                           (StmtExpr
                                                            (Call
                                                             (Dot
                                                              (Var
                                                               (Ident
                                                                "circ_plot"
                                                                ())
                                                               ())
                                                              (Ident
                                                               "control_point"
                                                               ())
                                                              ())
                                                             (:
                                                              (ArgExpr
                                                               (Var
                                                                (Ident
                                                                 "gate_idx"
                                                                 ())
                                                                ())
                                                               ())
                                                              (:
                                                               (ArgExpr
                                                                (Subscript
                                                                 (Dot
                                                                  (Var
                                                                   (Ident
                                                                    "self"
                                                                    ())
                                                                   ())
                                                                  (Ident
                                                                   "targets"
                                                                   ())
                                                                  ())
                                                                 (Int 0 "0" ())
                                                                 ())
                                                                ())
                                                               []))
                                                             ())
                                                            ())
                                                           []))
                                                         []))
                                                       (:
                                                        (StmtExpr
                                                         (Call
                                                          (Dot
                                                           (Dot
                                                            (Var
                                                             (Ident "self" ())
                                                             ())
                                                            (Ident "gate" ())
                                                            ())
                                                           (Ident
                                                            "plot_gate"
                                                            ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Var
                                                             (Ident
                                                              "circ_plot"
                                                              ())
                                                             ())
                                                            ())
                                                           (:
                                                            (ArgExpr
                                                             (Var
                                                              (Ident
                                                               "gate_idx"
                                                               ())
                                                              ())
                                                             ())
                                                            []))
                                                          ())
                                                         ())
                                                        [])
                                                       ())
                                                      []))
                                                    [])
                                                   (:
                                                    (StmtExpr
                                                     (Call
                                                      (Dot
                                                       (Dot
                                                        (Var
                                                         (Ident "self" ())
                                                         ())
                                                        (Ident "gate" ())
                                                        ())
                                                       (Ident "plot_gate" ())
                                                       ())
                                                      (:
                                                       (ArgExpr
                                                        (Var
                                                         (Ident "circ_plot" ())
                                                         ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Var
                                                          (Ident "gate_idx" ())
                                                          ())
                                                         ())
                                                        []))
                                                      ())
                                                     ())
                                                    [])
                                                   ())
                                                  []))))))
                                            ())
                                           (:
                                            (Fun
                                             (Ident "_eval_dagger" ())
                                             (:
                                              (Param
                                               (Ident "self" ())
                                               Nothing
                                               Nothing
                                               ())
                                              [])
                                             Nothing
                                             (:
                                              (Conditional
                                               (:
                                                ((,)
                                                 (Call
                                                  (Var
                                                   (Ident "isinstance" ())
                                                   ())
                                                  (:
                                                   (ArgExpr
                                                    (Dot
                                                     (Var (Ident "self" ()) ())
                                                     (Ident "gate" ())
                                                     ())
                                                    ())
                                                   (:
                                                    (ArgExpr
                                                     (Var
                                                      (Ident
                                                       "HermitianOperator"
                                                       ())
                                                      ())
                                                     ())
                                                    []))
                                                  ())
                                                 (:
                                                  (Return
                                                   (Just
                                                    (Var (Ident "self" ()) ()))
                                                   ())
                                                  []))
                                                [])
                                               (:
                                                (Return
                                                 (Just
                                                  (Call
                                                   (Dot
                                                    (Var (Ident "Gate" ()) ())
                                                    (Ident "_eval_dagger" ())
                                                    ())
                                                   (:
                                                    (ArgExpr
                                                     (Var (Ident "self" ()) ())
                                                     ())
                                                    [])
                                                   ()))
                                                 ())
                                                [])
                                               ())
                                              [])
                                             ())
                                            (:
                                             (Fun
                                              (Ident "_eval_inverse" ())
                                              (:
                                               (Param
                                                (Ident "self" ())
                                                Nothing
                                                Nothing
                                                ())
                                               [])
                                              Nothing
                                              (:
                                               (Conditional
                                                (:
                                                 ((,)
                                                  (Call
                                                   (Var
                                                    (Ident "isinstance" ())
                                                    ())
                                                   (:
                                                    (ArgExpr
                                                     (Dot
                                                      (Var (Ident "self" ()) ())
                                                      (Ident "gate" ())
                                                      ())
                                                     ())
                                                    (:
                                                     (ArgExpr
                                                      (Var
                                                       (Ident
                                                        "HermitianOperator"
                                                        ())
                                                       ())
                                                      ())
                                                     []))
                                                   ())
                                                  (:
                                                   (Return
                                                    (Just
                                                     (Var (Ident "self" ()) ()))
                                                    ())
                                                   []))
                                                 [])
                                                (:
                                                 (Return
                                                  (Just
                                                   (Call
                                                    (Dot
                                                     (Var (Ident "Gate" ()) ())
                                                     (Ident "_eval_inverse" ())
                                                     ())
                                                    (:
                                                     (ArgExpr
                                                      (Var (Ident "self" ()) ())
                                                      ())
                                                     [])
                                                    ()))
                                                  ())
                                                 [])
                                                ())
                                               [])
                                              ())
                                             (:
                                              (Fun
                                               (Ident "_eval_power" ())
                                               (:
                                                (Param
                                                 (Ident "self" ())
                                                 Nothing
                                                 Nothing
                                                 ())
                                                (:
                                                 (Param
                                                  (Ident "exp" ())
                                                  Nothing
                                                  Nothing
                                                  ())
                                                 []))
                                               Nothing
                                               (:
                                                (Conditional
                                                 (:
                                                  ((,)
                                                   (Call
                                                    (Var
                                                     (Ident "isinstance" ())
                                                     ())
                                                    (:
                                                     (ArgExpr
                                                      (Dot
                                                       (Var
                                                        (Ident "self" ())
                                                        ())
                                                       (Ident "gate" ())
                                                       ())
                                                      ())
                                                     (:
                                                      (ArgExpr
                                                       (Var
                                                        (Ident
                                                         "HermitianOperator"
                                                         ())
                                                        ())
                                                       ())
                                                      []))
                                                    ())
                                                   (:
                                                    (Conditional
                                                     (:
                                                      ((,)
                                                       (BinaryOp
                                                        (Equality ())
                                                        (Var
                                                         (Ident "exp" ())
                                                         ())
                                                        (UnaryOp
                                                         (Minus ())
                                                         (Int 1 "1" ())
                                                         ())
                                                        ())
                                                       (:
                                                        (Return
                                                         (Just
                                                          (Call
                                                           (Dot
                                                            (Var
                                                             (Ident "Gate" ())
                                                             ())
                                                            (Ident
                                                             "_eval_power"
                                                             ())
                                                            ())
                                                           (:
                                                            (ArgExpr
                                                             (Var
                                                              (Ident "self" ())
                                                              ())
                                                             ())
                                                            (:
                                                             (ArgExpr
                                                              (Var
                                                               (Ident "exp" ())
                                                               ())
                                                              ())
                                                             []))
                                                           ()))
                                                         ())
                                                        []))
                                                      (:
                                                       ((,)
                                                        (BinaryOp
                                                         (Equality ())
                                                         (BinaryOp
                                                          (Modulo ())
                                                          (Call
                                                           (Var
                                                            (Ident "abs" ())
                                                            ())
                                                           (:
                                                            (ArgExpr
                                                             (Var
                                                              (Ident "exp" ())
                                                              ())
                                                             ())
                                                            [])
                                                           ())
                                                          (Int 2 "2" ())
                                                          ())
                                                         (Int 0 "0" ())
                                                         ())
                                                        (:
                                                         (Return
                                                          (Just
                                                           (BinaryOp
                                                            (Multiply ())
                                                            (Var
                                                             (Ident "self" ())
                                                             ())
                                                            (Paren
                                                             (Call
                                                              (Dot
                                                               (Var
                                                                (Ident
                                                                 "Gate"
                                                                 ())
                                                                ())
                                                               (Ident
                                                                "_eval_inverse"
                                                                ())
                                                               ())
                                                              (:
                                                               (ArgExpr
                                                                (Var
                                                                 (Ident
                                                                  "self"
                                                                  ())
                                                                 ())
                                                                ())
                                                               [])
                                                              ())
                                                             ())
                                                            ()))
                                                          ())
                                                         []))
                                                       []))
                                                     (:
                                                      (Return
                                                       (Just
                                                        (Var
                                                         (Ident "self" ())
                                                         ()))
                                                       ())
                                                      [])
                                                     ())
                                                    []))
                                                  [])
                                                 (:
                                                  (Return
                                                   (Just
                                                    (Call
                                                     (Dot
                                                      (Var (Ident "Gate" ()) ())
                                                      (Ident "_eval_power" ())
                                                      ())
                                                     (:
                                                      (ArgExpr
                                                       (Var
                                                        (Ident "self" ())
                                                        ())
                                                       ())
                                                      (:
                                                       (ArgExpr
                                                        (Var
                                                         (Ident "exp" ())
                                                         ())
                                                        ())
                                                       []))
                                                     ()))
                                                   ())
                                                  [])
                                                 ())
                                                [])
                                               ())
                                              []))))))))))))))))))))))
                        ())
                       (:
                        (Class
                         (Ident "CGateS" ())
                         (: (ArgExpr (Var (Ident "CGate" ()) ()) ()) [])
                         (:
                          (StmtExpr
                           (Strings
                            (:
                             "\"\"\"Version of CGate that allows gate simplifications.\n    I.e. cnot looks like an oplus, cphase has dots, etc.\n    \"\"\""
                             [])
                            ())
                           ())
                          (:
                           (Assign
                            (: (Var (Ident "simplify_cgate" ()) ()) [])
                            (Bool True ())
                            ())
                           []))
                         ())
                        (:
                         (Class
                          (Ident "UGate" ())
                          (: (ArgExpr (Var (Ident "Gate" ()) ()) ()) [])
                          (:
                           (StmtExpr
                            (Strings
                             (:
                              "\"\"\"General gate specified by a set of targets and a target matrix.\n\n    Parameters\n    ----------\n    label : tuple\n        A tuple of the form (targets, U), where targets is a tuple of the\n        target qubits and U is a unitary matrix with dimension of\n        len(targets).\n    \"\"\""
                              [])
                             ())
                            ())
                           (:
                            (Assign
                             (: (Var (Ident "gate_name" ()) ()) [])
                             (UnicodeStrings (: "u'U'" []) ())
                             ())
                            (:
                             (Assign
                              (: (Var (Ident "gate_name_latex" ()) ()) [])
                              (UnicodeStrings (: "u'U'" []) ())
                              ())
                             (:
                              (Decorated
                               (:
                                (Decorator
                                 (: (Ident "classmethod" ()) [])
                                 []
                                 ())
                                [])
                               (Fun
                                (Ident "_eval_args" ())
                                (:
                                 (Param (Ident "cls" ()) Nothing Nothing ())
                                 (:
                                  (Param (Ident "args" ()) Nothing Nothing ())
                                  []))
                                Nothing
                                (:
                                 (Assign
                                  (: (Var (Ident "targets" ()) ()) [])
                                  (Subscript
                                   (Var (Ident "args" ()) ())
                                   (Int 0 "0" ())
                                   ())
                                  ())
                                 (:
                                  (Conditional
                                   (:
                                    ((,)
                                     (UnaryOp
                                      (Not ())
                                      (Call
                                       (Var (Ident "is_sequence" ()) ())
                                       (:
                                        (ArgExpr
                                         (Var (Ident "targets" ()) ())
                                         ())
                                        [])
                                       ())
                                      ())
                                     (:
                                      (Assign
                                       (: (Var (Ident "targets" ()) ()) [])
                                       (Paren
                                        (Tuple
                                         (: (Var (Ident "targets" ()) ()) [])
                                         ())
                                        ())
                                       ())
                                      []))
                                    [])
                                   []
                                   ())
                                  (:
                                   (Assign
                                    (: (Var (Ident "targets" ()) ()) [])
                                    (Call
                                     (Dot
                                      (Var (Ident "Gate" ()) ())
                                      (Ident "_eval_args" ())
                                      ())
                                     (:
                                      (ArgExpr (Var (Ident "targets" ()) ()) ())
                                      [])
                                     ())
                                    ())
                                   (:
                                    (StmtExpr
                                     (Call
                                      (Var
                                       (Ident "_validate_targets_controls" ())
                                       ())
                                      (:
                                       (ArgExpr
                                        (Var (Ident "targets" ()) ())
                                        ())
                                       [])
                                      ())
                                     ())
                                    (:
                                     (Assign
                                      (: (Var (Ident "mat" ()) ()) [])
                                      (Subscript
                                       (Var (Ident "args" ()) ())
                                       (Int 1 "1" ())
                                       ())
                                      ())
                                     (:
                                      (Conditional
                                       (:
                                        ((,)
                                         (UnaryOp
                                          (Not ())
                                          (Call
                                           (Var (Ident "isinstance" ()) ())
                                           (:
                                            (ArgExpr
                                             (Var (Ident "mat" ()) ())
                                             ())
                                            (:
                                             (ArgExpr
                                              (Var (Ident "MatrixBase" ()) ())
                                              ())
                                             []))
                                           ())
                                          ())
                                         (:
                                          (Raise
                                           (RaiseV3
                                            (Just
                                             ((,)
                                              (Call
                                               (Var (Ident "TypeError" ()) ())
                                               (:
                                                (ArgExpr
                                                 (BinaryOp
                                                  (Modulo ())
                                                  (Strings
                                                   (:
                                                    "'Matrix expected, got: %r'"
                                                    [])
                                                   ())
                                                  (Var (Ident "mat" ()) ())
                                                  ())
                                                 ())
                                                [])
                                               ())
                                              Nothing)))
                                           ())
                                          []))
                                        [])
                                       []
                                       ())
                                      (:
                                       (Assign
                                        (: (Var (Ident "dim" ()) ()) [])
                                        (BinaryOp
                                         (Exponent ())
                                         (Int 2 "2" ())
                                         (Call
                                          (Var (Ident "len" ()) ())
                                          (:
                                           (ArgExpr
                                            (Var (Ident "targets" ()) ())
                                            ())
                                           [])
                                          ())
                                         ())
                                        ())
                                       (:
                                        (Conditional
                                         (:
                                          ((,)
                                           (UnaryOp
                                            (Not ())
                                            (Call
                                             (Var (Ident "all" ()) ())
                                             (:
                                              (ArgExpr
                                               (Generator
                                                (Comprehension
                                                 (ComprehensionExpr
                                                  (BinaryOp
                                                   (Equality ())
                                                   (Var (Ident "dim" ()) ())
                                                   (Var (Ident "shape" ()) ())
                                                   ()))
                                                 (CompFor
                                                  False
                                                  (:
                                                   (Var (Ident "shape" ()) ())
                                                   [])
                                                  (Dot
                                                   (Var (Ident "mat" ()) ())
                                                   (Ident "shape" ())
                                                   ())
                                                  Nothing
                                                  ())
                                                 ())
                                                ())
                                               ())
                                              [])
                                             ())
                                            ())
                                           (:
                                            (Raise
                                             (RaiseV3
                                              (Just
                                               ((,)
                                                (Call
                                                 (Var
                                                  (Ident "IndexError" ())
                                                  ())
                                                 (:
                                                  (ArgExpr
                                                   (BinaryOp
                                                    (Modulo ())
                                                    (Strings
                                                     (:
                                                      "'Number of targets must match the matrix size: %r %r'"
                                                      [])
                                                     ())
                                                    (Paren
                                                     (Tuple
                                                      (:
                                                       (Var
                                                        (Ident "targets" ())
                                                        ())
                                                       (:
                                                        (Var
                                                         (Ident "mat" ())
                                                         ())
                                                        []))
                                                      ())
                                                     ())
                                                    ())
                                                   ())
                                                  [])
                                                 ())
                                                Nothing)))
                                             ())
                                            []))
                                          [])
                                         []
                                         ())
                                        (:
                                         (Return
                                          (Just
                                           (Paren
                                            (Tuple
                                             (:
                                              (Var (Ident "targets" ()) ())
                                              (: (Var (Ident "mat" ()) ()) []))
                                             ())
                                            ()))
                                          ())
                                         [])))))))))
                                ())
                               ())
                              (:
                               (Decorated
                                (:
                                 (Decorator
                                  (: (Ident "classmethod" ()) [])
                                  []
                                  ())
                                 [])
                                (Fun
                                 (Ident "_eval_hilbert_space" ())
                                 (:
                                  (Param (Ident "cls" ()) Nothing Nothing ())
                                  (:
                                   (Param (Ident "args" ()) Nothing Nothing ())
                                   []))
                                 Nothing
                                 (:
                                  (StmtExpr
                                   (Strings
                                    (:
                                     "\"\"\"This returns the smallest possible Hilbert space.\"\"\""
                                     [])
                                    ())
                                   ())
                                  (:
                                   (Return
                                    (Just
                                     (BinaryOp
                                      (Exponent ())
                                      (Call
                                       (Var (Ident "ComplexSpace" ()) ())
                                       (: (ArgExpr (Int 2 "2" ()) ()) [])
                                       ())
                                      (Paren
                                       (BinaryOp
                                        (Plus ())
                                        (Call
                                         (Var (Ident "max" ()) ())
                                         (:
                                          (ArgExpr
                                           (Subscript
                                            (Var (Ident "args" ()) ())
                                            (Int 0 "0" ())
                                            ())
                                           ())
                                          [])
                                         ())
                                        (Int 1 "1" ())
                                        ())
                                       ())
                                      ()))
                                    ())
                                   []))
                                 ())
                                ())
                               (:
                                (Decorated
                                 (:
                                  (Decorator (: (Ident "property" ()) []) [] ())
                                  [])
                                 (Fun
                                  (Ident "targets" ())
                                  (:
                                   (Param (Ident "self" ()) Nothing Nothing ())
                                   [])
                                  Nothing
                                  (:
                                   (StmtExpr
                                    (Strings
                                     (:
                                      "\"\"\"A tuple of target qubits.\"\"\""
                                      [])
                                     ())
                                    ())
                                   (:
                                    (Return
                                     (Just
                                      (Call
                                       (Var (Ident "tuple" ()) ())
                                       (:
                                        (ArgExpr
                                         (Subscript
                                          (Dot
                                           (Var (Ident "self" ()) ())
                                           (Ident "label" ())
                                           ())
                                          (Int 0 "0" ())
                                          ())
                                         ())
                                        [])
                                       ()))
                                     ())
                                    []))
                                  ())
                                 ())
                                (:
                                 (Fun
                                  (Ident "get_target_matrix" ())
                                  (:
                                   (Param (Ident "self" ()) Nothing Nothing ())
                                   (:
                                    (Param
                                     (Ident "format" ())
                                     Nothing
                                     (Just (Strings (: "'sympy'" []) ()))
                                     ())
                                    []))
                                  Nothing
                                  (:
                                   (StmtExpr
                                    (Strings
                                     (:
                                      "\"\"\"The matrix rep. of the target part of the gate.\n\n        Parameters\n        ----------\n        format : str\n            The format string ('sympy','numpy', etc.)\n        \"\"\""
                                      [])
                                     ())
                                    ())
                                   (:
                                    (Return
                                     (Just
                                      (Subscript
                                       (Dot
                                        (Var (Ident "self" ()) ())
                                        (Ident "label" ())
                                        ())
                                       (Int 1 "1" ())
                                       ()))
                                     ())
                                    []))
                                  ())
                                 (:
                                  (Fun
                                   (Ident "_pretty" ())
                                   (:
                                    (Param (Ident "self" ()) Nothing Nothing ())
                                    (:
                                     (Param
                                      (Ident "printer" ())
                                      Nothing
                                      Nothing
                                      ())
                                     (:
                                      (VarArgsPos (Ident "args" ()) Nothing ())
                                      [])))
                                   Nothing
                                   (:
                                    (Assign
                                     (: (Var (Ident "targets" ()) ()) [])
                                     (Call
                                      (Dot
                                       (Var (Ident "self" ()) ())
                                       (Ident "_print_sequence_pretty" ())
                                       ())
                                      (:
                                       (ArgExpr
                                        (Dot
                                         (Var (Ident "self" ()) ())
                                         (Ident "targets" ())
                                         ())
                                        ())
                                       (:
                                        (ArgExpr (Strings (: "','" []) ()) ())
                                        (:
                                         (ArgExpr
                                          (Var (Ident "printer" ()) ())
                                          ())
                                         (:
                                          (ArgVarArgsPos
                                           (Var (Ident "args" ()) ())
                                           ())
                                          []))))
                                      ())
                                     ())
                                    (:
                                     (Assign
                                      (: (Var (Ident "gate_name" ()) ()) [])
                                      (Call
                                       (Var (Ident "stringPict" ()) ())
                                       (:
                                        (ArgExpr
                                         (Call
                                          (Var (Ident "unicode" ()) ())
                                          (:
                                           (ArgExpr
                                            (Dot
                                             (Var (Ident "self" ()) ())
                                             (Ident "gate_name" ())
                                             ())
                                            ())
                                           [])
                                          ())
                                         ())
                                        [])
                                       ())
                                      ())
                                     (:
                                      (Return
                                       (Just
                                        (Call
                                         (Dot
                                          (Var (Ident "self" ()) ())
                                          (Ident "_print_subscript_pretty" ())
                                          ())
                                         (:
                                          (ArgExpr
                                           (Var (Ident "gate_name" ()) ())
                                           ())
                                          (:
                                           (ArgExpr
                                            (Var (Ident "targets" ()) ())
                                            ())
                                           []))
                                         ()))
                                       ())
                                      [])))
                                   ())
                                  (:
                                   (Fun
                                    (Ident "_latex" ())
                                    (:
                                     (Param
                                      (Ident "self" ())
                                      Nothing
                                      Nothing
                                      ())
                                     (:
                                      (Param
                                       (Ident "printer" ())
                                       Nothing
                                       Nothing
                                       ())
                                      (:
                                       (VarArgsPos (Ident "args" ()) Nothing ())
                                       [])))
                                    Nothing
                                    (:
                                     (Assign
                                      (: (Var (Ident "targets" ()) ()) [])
                                      (Call
                                       (Dot
                                        (Var (Ident "self" ()) ())
                                        (Ident "_print_sequence" ())
                                        ())
                                       (:
                                        (ArgExpr
                                         (Dot
                                          (Var (Ident "self" ()) ())
                                          (Ident "targets" ())
                                          ())
                                         ())
                                        (:
                                         (ArgExpr (Strings (: "','" []) ()) ())
                                         (:
                                          (ArgExpr
                                           (Var (Ident "printer" ()) ())
                                           ())
                                          (:
                                           (ArgVarArgsPos
                                            (Var (Ident "args" ()) ())
                                            ())
                                           []))))
                                       ())
                                      ())
                                     (:
                                      (Return
                                       (Just
                                        (BinaryOp
                                         (Modulo ())
                                         (Strings (: "r'%s_{%s}'" []) ())
                                         (Paren
                                          (Tuple
                                           (:
                                            (Dot
                                             (Var (Ident "self" ()) ())
                                             (Ident "gate_name_latex" ())
                                             ())
                                            (:
                                             (Var (Ident "targets" ()) ())
                                             []))
                                           ())
                                          ())
                                         ()))
                                       ())
                                      []))
                                    ())
                                   (:
                                    (Fun
                                     (Ident "plot_gate" ())
                                     (:
                                      (Param
                                       (Ident "self" ())
                                       Nothing
                                       Nothing
                                       ())
                                      (:
                                       (Param
                                        (Ident "circ_plot" ())
                                        Nothing
                                        Nothing
                                        ())
                                       (:
                                        (Param
                                         (Ident "gate_idx" ())
                                         Nothing
                                         Nothing
                                         ())
                                        [])))
                                     Nothing
                                     (:
                                      (StmtExpr
                                       (Call
                                        (Dot
                                         (Var (Ident "circ_plot" ()) ())
                                         (Ident "one_qubit_box" ())
                                         ())
                                        (:
                                         (ArgExpr
                                          (Dot
                                           (Var (Ident "self" ()) ())
                                           (Ident "gate_name_plot" ())
                                           ())
                                          ())
                                         (:
                                          (ArgExpr
                                           (Var (Ident "gate_idx" ()) ())
                                           ())
                                          (:
                                           (ArgExpr
                                            (Call
                                             (Var (Ident "int" ()) ())
                                             (:
                                              (ArgExpr
                                               (Subscript
                                                (Dot
                                                 (Var (Ident "self" ()) ())
                                                 (Ident "targets" ())
                                                 ())
                                                (Int 0 "0" ())
                                                ())
                                               ())
                                              [])
                                             ())
                                            ())
                                           [])))
                                        ())
                                       ())
                                      [])
                                     ())
                                    []))))))))))
                          ())
                         (:
                          (Class
                           (Ident "OneQubitGate" ())
                           (: (ArgExpr (Var (Ident "Gate" ()) ()) ()) [])
                           (:
                            (StmtExpr
                             (Strings
                              (:
                               "\"\"\"A single qubit unitary gate base class.\"\"\""
                               [])
                              ())
                             ())
                            (:
                             (Assign
                              (: (Var (Ident "nqubits" ()) ()) [])
                              (Call
                               (Var (Ident "Integer" ()) ())
                               (: (ArgExpr (Int 1 "1" ()) ()) [])
                               ())
                              ())
                             (:
                              (Fun
                               (Ident "plot_gate" ())
                               (:
                                (Param (Ident "self" ()) Nothing Nothing ())
                                (:
                                 (Param
                                  (Ident "circ_plot" ())
                                  Nothing
                                  Nothing
                                  ())
                                 (:
                                  (Param
                                   (Ident "gate_idx" ())
                                   Nothing
                                   Nothing
                                   ())
                                  [])))
                               Nothing
                               (:
                                (StmtExpr
                                 (Call
                                  (Dot
                                   (Var (Ident "circ_plot" ()) ())
                                   (Ident "one_qubit_box" ())
                                   ())
                                  (:
                                   (ArgExpr
                                    (Dot
                                     (Var (Ident "self" ()) ())
                                     (Ident "gate_name_plot" ())
                                     ())
                                    ())
                                   (:
                                    (ArgExpr (Var (Ident "gate_idx" ()) ()) ())
                                    (:
                                     (ArgExpr
                                      (Call
                                       (Var (Ident "int" ()) ())
                                       (:
                                        (ArgExpr
                                         (Subscript
                                          (Dot
                                           (Var (Ident "self" ()) ())
                                           (Ident "targets" ())
                                           ())
                                          (Int 0 "0" ())
                                          ())
                                         ())
                                        [])
                                       ())
                                      ())
                                     [])))
                                  ())
                                 ())
                                [])
                               ())
                              (:
                               (Fun
                                (Ident "_eval_commutator" ())
                                (:
                                 (Param (Ident "self" ()) Nothing Nothing ())
                                 (:
                                  (Param (Ident "other" ()) Nothing Nothing ())
                                  (:
                                   (VarArgsKeyword
                                    (Ident "hints" ())
                                    Nothing
                                    ())
                                   [])))
                                Nothing
                                (:
                                 (Conditional
                                  (:
                                   ((,)
                                    (Call
                                     (Var (Ident "isinstance" ()) ())
                                     (:
                                      (ArgExpr (Var (Ident "other" ()) ()) ())
                                      (:
                                       (ArgExpr
                                        (Var (Ident "OneQubitGate" ()) ())
                                        ())
                                       []))
                                     ())
                                    (:
                                     (Conditional
                                      (:
                                       ((,)
                                        (BinaryOp
                                         (Or ())
                                         (BinaryOp
                                          (NotEquals ())
                                          (Dot
                                           (Var (Ident "self" ()) ())
                                           (Ident "targets" ())
                                           ())
                                          (Dot
                                           (Var (Ident "other" ()) ())
                                           (Ident "targets" ())
                                           ())
                                          ())
                                         (BinaryOp
                                          (Equality ())
                                          (Dot
                                           (Var (Ident "self" ()) ())
                                           (Ident "__class__" ())
                                           ())
                                          (Dot
                                           (Var (Ident "other" ()) ())
                                           (Ident "__class__" ())
                                           ())
                                          ())
                                         ())
                                        (:
                                         (Return
                                          (Just
                                           (Call
                                            (Var (Ident "Integer" ()) ())
                                            (: (ArgExpr (Int 0 "0" ()) ()) [])
                                            ()))
                                          ())
                                         []))
                                       [])
                                      []
                                      ())
                                     []))
                                   [])
                                  []
                                  ())
                                 (:
                                  (Return
                                   (Just
                                    (Call
                                     (Dot
                                      (Var (Ident "Operator" ()) ())
                                      (Ident "_eval_commutator" ())
                                      ())
                                     (:
                                      (ArgExpr (Var (Ident "self" ()) ()) ())
                                      (:
                                       (ArgExpr (Var (Ident "other" ()) ()) ())
                                       (:
                                        (ArgVarArgsKeyword
                                         (Var (Ident "hints" ()) ())
                                         ())
                                        [])))
                                     ()))
                                   ())
                                  []))
                                ())
                               (:
                                (Fun
                                 (Ident "_eval_anticommutator" ())
                                 (:
                                  (Param (Ident "self" ()) Nothing Nothing ())
                                  (:
                                   (Param (Ident "other" ()) Nothing Nothing ())
                                   (:
                                    (VarArgsKeyword
                                     (Ident "hints" ())
                                     Nothing
                                     ())
                                    [])))
                                 Nothing
                                 (:
                                  (Conditional
                                   (:
                                    ((,)
                                     (Call
                                      (Var (Ident "isinstance" ()) ())
                                      (:
                                       (ArgExpr (Var (Ident "other" ()) ()) ())
                                       (:
                                        (ArgExpr
                                         (Var (Ident "OneQubitGate" ()) ())
                                         ())
                                        []))
                                      ())
                                     (:
                                      (Conditional
                                       (:
                                        ((,)
                                         (BinaryOp
                                          (Or ())
                                          (BinaryOp
                                           (NotEquals ())
                                           (Dot
                                            (Var (Ident "self" ()) ())
                                            (Ident "targets" ())
                                            ())
                                           (Dot
                                            (Var (Ident "other" ()) ())
                                            (Ident "targets" ())
                                            ())
                                           ())
                                          (BinaryOp
                                           (Equality ())
                                           (Dot
                                            (Var (Ident "self" ()) ())
                                            (Ident "__class__" ())
                                            ())
                                           (Dot
                                            (Var (Ident "other" ()) ())
                                            (Ident "__class__" ())
                                            ())
                                           ())
                                          ())
                                         (:
                                          (Return
                                           (Just
                                            (BinaryOp
                                             (Multiply ())
                                             (BinaryOp
                                              (Multiply ())
                                              (Call
                                               (Var (Ident "Integer" ()) ())
                                               (:
                                                (ArgExpr (Int 2 "2" ()) ())
                                                [])
                                               ())
                                              (Var (Ident "self" ()) ())
                                              ())
                                             (Var (Ident "other" ()) ())
                                             ()))
                                           ())
                                          []))
                                        [])
                                       []
                                       ())
                                      []))
                                    [])
                                   []
                                   ())
                                  (:
                                   (Return
                                    (Just
                                     (Call
                                      (Dot
                                       (Var (Ident "Operator" ()) ())
                                       (Ident "_eval_anticommutator" ())
                                       ())
                                      (:
                                       (ArgExpr (Var (Ident "self" ()) ()) ())
                                       (:
                                        (ArgExpr (Var (Ident "other" ()) ()) ())
                                        (:
                                         (ArgVarArgsKeyword
                                          (Var (Ident "hints" ()) ())
                                          ())
                                         [])))
                                      ()))
                                    ())
                                   []))
                                 ())
                                [])))))
                           ())
                          (:
                           (Class
                            (Ident "TwoQubitGate" ())
                            (: (ArgExpr (Var (Ident "Gate" ()) ()) ()) [])
                            (:
                             (StmtExpr
                              (Strings
                               (:
                                "\"\"\"A two qubit unitary gate base class.\"\"\""
                                [])
                               ())
                              ())
                             (:
                              (Assign
                               (: (Var (Ident "nqubits" ()) ()) [])
                               (Call
                                (Var (Ident "Integer" ()) ())
                                (: (ArgExpr (Int 2 "2" ()) ()) [])
                                ())
                               ())
                              []))
                            ())
                           (:
                            (Class
                             (Ident "IdentityGate" ())
                             (:
                              (ArgExpr (Var (Ident "OneQubitGate" ()) ()) ())
                              [])
                             (:
                              (StmtExpr
                               (Strings
                                (:
                                 "\"\"\"The single qubit identity gate.\n\n    Parameters\n    ----------\n    target : int\n        The target qubit this gate will apply to.\n\n    Examples\n    --------\n\n    \"\"\""
                                 [])
                                ())
                               ())
                              (:
                               (Assign
                                (: (Var (Ident "gate_name" ()) ()) [])
                                (UnicodeStrings (: "u'1'" []) ())
                                ())
                               (:
                                (Assign
                                 (: (Var (Ident "gate_name_latex" ()) ()) [])
                                 (UnicodeStrings (: "u'1'" []) ())
                                 ())
                                (:
                                 (Fun
                                  (Ident "get_target_matrix" ())
                                  (:
                                   (Param (Ident "self" ()) Nothing Nothing ())
                                   (:
                                    (Param
                                     (Ident "format" ())
                                     Nothing
                                     (Just (Strings (: "'sympy'" []) ()))
                                     ())
                                    []))
                                  Nothing
                                  (:
                                   (Return
                                    (Just
                                     (Call
                                      (Dot
                                       (Var (Ident "matrix_cache" ()) ())
                                       (Ident "get_matrix" ())
                                       ())
                                      (:
                                       (ArgExpr (Strings (: "'eye2'" []) ()) ())
                                       (:
                                        (ArgExpr
                                         (Var (Ident "format" ()) ())
                                         ())
                                        []))
                                      ()))
                                    ())
                                   [])
                                  ())
                                 (:
                                  (Fun
                                   (Ident "_eval_commutator" ())
                                   (:
                                    (Param (Ident "self" ()) Nothing Nothing ())
                                    (:
                                     (Param
                                      (Ident "other" ())
                                      Nothing
                                      Nothing
                                      ())
                                     (:
                                      (VarArgsKeyword
                                       (Ident "hints" ())
                                       Nothing
                                       ())
                                      [])))
                                   Nothing
                                   (:
                                    (Return
                                     (Just
                                      (Call
                                       (Var (Ident "Integer" ()) ())
                                       (: (ArgExpr (Int 0 "0" ()) ()) [])
                                       ()))
                                     ())
                                    [])
                                   ())
                                  (:
                                   (Fun
                                    (Ident "_eval_anticommutator" ())
                                    (:
                                     (Param
                                      (Ident "self" ())
                                      Nothing
                                      Nothing
                                      ())
                                     (:
                                      (Param
                                       (Ident "other" ())
                                       Nothing
                                       Nothing
                                       ())
                                      (:
                                       (VarArgsKeyword
                                        (Ident "hints" ())
                                        Nothing
                                        ())
                                       [])))
                                    Nothing
                                    (:
                                     (Return
                                      (Just
                                       (BinaryOp
                                        (Multiply ())
                                        (Call
                                         (Var (Ident "Integer" ()) ())
                                         (: (ArgExpr (Int 2 "2" ()) ()) [])
                                         ())
                                        (Var (Ident "other" ()) ())
                                        ()))
                                      ())
                                     [])
                                    ())
                                   []))))))
                             ())
                            (:
                             (Class
                              (Ident "HadamardGate" ())
                              (:
                               (ArgExpr
                                (Var (Ident "HermitianOperator" ()) ())
                                ())
                               (:
                                (ArgExpr (Var (Ident "OneQubitGate" ()) ()) ())
                                []))
                              (:
                               (StmtExpr
                                (Strings
                                 (:
                                  "\"\"\"The single qubit Hadamard gate.\n\n    Parameters\n    ----------\n    target : int\n        The target qubit this gate will apply to.\n\n    Examples\n    --------\n\n    >>> from sympy import sqrt\n    >>> from sympy.physics.quantum.qubit import Qubit\n    >>> from sympy.physics.quantum.gate import HadamardGate\n    >>> from sympy.physics.quantum.qapply import qapply\n    >>> qapply(HadamardGate(0)*Qubit('1'))\n    sqrt(2)*|0>/2 - sqrt(2)*|1>/2\n    >>> # Hadamard on bell state, applied on 2 qubits.\n    >>> psi = 1/sqrt(2)*(Qubit('00')+Qubit('11'))\n    >>> qapply(HadamardGate(0)*HadamardGate(1)*psi)\n    sqrt(2)*|00>/2 + sqrt(2)*|11>/2\n\n    \"\"\""
                                  [])
                                 ())
                                ())
                               (:
                                (Assign
                                 (: (Var (Ident "gate_name" ()) ()) [])
                                 (UnicodeStrings (: "u'H'" []) ())
                                 ())
                                (:
                                 (Assign
                                  (: (Var (Ident "gate_name_latex" ()) ()) [])
                                  (UnicodeStrings (: "u'H'" []) ())
                                  ())
                                 (:
                                  (Fun
                                   (Ident "get_target_matrix" ())
                                   (:
                                    (Param (Ident "self" ()) Nothing Nothing ())
                                    (:
                                     (Param
                                      (Ident "format" ())
                                      Nothing
                                      (Just (Strings (: "'sympy'" []) ()))
                                      ())
                                     []))
                                   Nothing
                                   (:
                                    (Conditional
                                     (:
                                      ((,)
                                       (Var (Ident "_normalized" ()) ())
                                       (:
                                        (Return
                                         (Just
                                          (Call
                                           (Dot
                                            (Var (Ident "matrix_cache" ()) ())
                                            (Ident "get_matrix" ())
                                            ())
                                           (:
                                            (ArgExpr
                                             (Strings (: "'H'" []) ())
                                             ())
                                            (:
                                             (ArgExpr
                                              (Var (Ident "format" ()) ())
                                              ())
                                             []))
                                           ()))
                                         ())
                                        []))
                                      [])
                                     (:
                                      (Return
                                       (Just
                                        (Call
                                         (Dot
                                          (Var (Ident "matrix_cache" ()) ())
                                          (Ident "get_matrix" ())
                                          ())
                                         (:
                                          (ArgExpr
                                           (Strings (: "'Hsqrt2'" []) ())
                                           ())
                                          (:
                                           (ArgExpr
                                            (Var (Ident "format" ()) ())
                                            ())
                                           []))
                                         ()))
                                       ())
                                      [])
                                     ())
                                    [])
                                   ())
                                  (:
                                   (Fun
                                    (Ident "_eval_commutator_XGate" ())
                                    (:
                                     (Param
                                      (Ident "self" ())
                                      Nothing
                                      Nothing
                                      ())
                                     (:
                                      (Param
                                       (Ident "other" ())
                                       Nothing
                                       Nothing
                                       ())
                                      (:
                                       (VarArgsKeyword
                                        (Ident "hints" ())
                                        Nothing
                                        ())
                                       [])))
                                    Nothing
                                    (:
                                     (Return
                                      (Just
                                       (BinaryOp
                                        (Multiply ())
                                        (BinaryOp
                                         (Multiply ())
                                         (Var (Ident "I" ()) ())
                                         (Call
                                          (Var (Ident "sqrt" ()) ())
                                          (: (ArgExpr (Int 2 "2" ()) ()) [])
                                          ())
                                         ())
                                        (Call
                                         (Var (Ident "YGate" ()) ())
                                         (:
                                          (ArgExpr
                                           (Subscript
                                            (Dot
                                             (Var (Ident "self" ()) ())
                                             (Ident "targets" ())
                                             ())
                                            (Int 0 "0" ())
                                            ())
                                           ())
                                          [])
                                         ())
                                        ()))
                                      ())
                                     [])
                                    ())
                                   (:
                                    (Fun
                                     (Ident "_eval_commutator_YGate" ())
                                     (:
                                      (Param
                                       (Ident "self" ())
                                       Nothing
                                       Nothing
                                       ())
                                      (:
                                       (Param
                                        (Ident "other" ())
                                        Nothing
                                        Nothing
                                        ())
                                       (:
                                        (VarArgsKeyword
                                         (Ident "hints" ())
                                         Nothing
                                         ())
                                        [])))
                                     Nothing
                                     (:
                                      (Return
                                       (Just
                                        (BinaryOp
                                         (Multiply ())
                                         (BinaryOp
                                          (Multiply ())
                                          (Var (Ident "I" ()) ())
                                          (Call
                                           (Var (Ident "sqrt" ()) ())
                                           (: (ArgExpr (Int 2 "2" ()) ()) [])
                                           ())
                                          ())
                                         (Paren
                                          (BinaryOp
                                           (Minus ())
                                           (Call
                                            (Var (Ident "ZGate" ()) ())
                                            (:
                                             (ArgExpr
                                              (Subscript
                                               (Dot
                                                (Var (Ident "self" ()) ())
                                                (Ident "targets" ())
                                                ())
                                               (Int 0 "0" ())
                                               ())
                                              ())
                                             [])
                                            ())
                                           (Call
                                            (Var (Ident "XGate" ()) ())
                                            (:
                                             (ArgExpr
                                              (Subscript
                                               (Dot
                                                (Var (Ident "self" ()) ())
                                                (Ident "targets" ())
                                                ())
                                               (Int 0 "0" ())
                                               ())
                                              ())
                                             [])
                                            ())
                                           ())
                                          ())
                                         ()))
                                       ())
                                      [])
                                     ())
                                    (:
                                     (Fun
                                      (Ident "_eval_commutator_ZGate" ())
                                      (:
                                       (Param
                                        (Ident "self" ())
                                        Nothing
                                        Nothing
                                        ())
                                       (:
                                        (Param
                                         (Ident "other" ())
                                         Nothing
                                         Nothing
                                         ())
                                        (:
                                         (VarArgsKeyword
                                          (Ident "hints" ())
                                          Nothing
                                          ())
                                         [])))
                                      Nothing
                                      (:
                                       (Return
                                        (Just
                                         (BinaryOp
                                          (Multiply ())
                                          (BinaryOp
                                           (Multiply ())
                                           (UnaryOp
                                            (Minus ())
                                            (Var (Ident "I" ()) ())
                                            ())
                                           (Call
                                            (Var (Ident "sqrt" ()) ())
                                            (: (ArgExpr (Int 2 "2" ()) ()) [])
                                            ())
                                           ())
                                          (Call
                                           (Var (Ident "YGate" ()) ())
                                           (:
                                            (ArgExpr
                                             (Subscript
                                              (Dot
                                               (Var (Ident "self" ()) ())
                                               (Ident "targets" ())
                                               ())
                                              (Int 0 "0" ())
                                              ())
                                             ())
                                            [])
                                           ())
                                          ()))
                                        ())
                                       [])
                                      ())
                                     (:
                                      (Fun
                                       (Ident "_eval_anticommutator_XGate" ())
                                       (:
                                        (Param
                                         (Ident "self" ())
                                         Nothing
                                         Nothing
                                         ())
                                        (:
                                         (Param
                                          (Ident "other" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (VarArgsKeyword
                                           (Ident "hints" ())
                                           Nothing
                                           ())
                                          [])))
                                       Nothing
                                       (:
                                        (Return
                                         (Just
                                          (BinaryOp
                                           (Multiply ())
                                           (Call
                                            (Var (Ident "sqrt" ()) ())
                                            (: (ArgExpr (Int 2 "2" ()) ()) [])
                                            ())
                                           (Call
                                            (Var (Ident "IdentityGate" ()) ())
                                            (:
                                             (ArgExpr
                                              (Subscript
                                               (Dot
                                                (Var (Ident "self" ()) ())
                                                (Ident "targets" ())
                                                ())
                                               (Int 0 "0" ())
                                               ())
                                              ())
                                             [])
                                            ())
                                           ()))
                                         ())
                                        [])
                                       ())
                                      (:
                                       (Fun
                                        (Ident "_eval_anticommutator_YGate" ())
                                        (:
                                         (Param
                                          (Ident "self" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (Param
                                           (Ident "other" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (VarArgsKeyword
                                            (Ident "hints" ())
                                            Nothing
                                            ())
                                           [])))
                                        Nothing
                                        (:
                                         (Return
                                          (Just
                                           (Call
                                            (Var (Ident "Integer" ()) ())
                                            (: (ArgExpr (Int 0 "0" ()) ()) [])
                                            ()))
                                          ())
                                         [])
                                        ())
                                       (:
                                        (Fun
                                         (Ident "_eval_anticommutator_ZGate" ())
                                         (:
                                          (Param
                                           (Ident "self" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (Param
                                            (Ident "other" ())
                                            Nothing
                                            Nothing
                                            ())
                                           (:
                                            (VarArgsKeyword
                                             (Ident "hints" ())
                                             Nothing
                                             ())
                                            [])))
                                         Nothing
                                         (:
                                          (Return
                                           (Just
                                            (BinaryOp
                                             (Multiply ())
                                             (Call
                                              (Var (Ident "sqrt" ()) ())
                                              (: (ArgExpr (Int 2 "2" ()) ()) [])
                                              ())
                                             (Call
                                              (Var (Ident "IdentityGate" ()) ())
                                              (:
                                               (ArgExpr
                                                (Subscript
                                                 (Dot
                                                  (Var (Ident "self" ()) ())
                                                  (Ident "targets" ())
                                                  ())
                                                 (Int 0 "0" ())
                                                 ())
                                                ())
                                               [])
                                              ())
                                             ()))
                                           ())
                                          [])
                                         ())
                                        []))))))))))
                              ())
                             (:
                              (Class
                               (Ident "XGate" ())
                               (:
                                (ArgExpr
                                 (Var (Ident "HermitianOperator" ()) ())
                                 ())
                                (:
                                 (ArgExpr (Var (Ident "OneQubitGate" ()) ()) ())
                                 []))
                               (:
                                (StmtExpr
                                 (Strings
                                  (:
                                   "\"\"\"The single qubit X, or NOT, gate.\n\n    Parameters\n    ----------\n    target : int\n        The target qubit this gate will apply to.\n\n    Examples\n    --------\n\n    \"\"\""
                                   [])
                                  ())
                                 ())
                                (:
                                 (Assign
                                  (: (Var (Ident "gate_name" ()) ()) [])
                                  (UnicodeStrings (: "u'X'" []) ())
                                  ())
                                 (:
                                  (Assign
                                   (: (Var (Ident "gate_name_latex" ()) ()) [])
                                   (UnicodeStrings (: "u'X'" []) ())
                                   ())
                                  (:
                                   (Fun
                                    (Ident "get_target_matrix" ())
                                    (:
                                     (Param
                                      (Ident "self" ())
                                      Nothing
                                      Nothing
                                      ())
                                     (:
                                      (Param
                                       (Ident "format" ())
                                       Nothing
                                       (Just (Strings (: "'sympy'" []) ()))
                                       ())
                                      []))
                                    Nothing
                                    (:
                                     (Return
                                      (Just
                                       (Call
                                        (Dot
                                         (Var (Ident "matrix_cache" ()) ())
                                         (Ident "get_matrix" ())
                                         ())
                                        (:
                                         (ArgExpr (Strings (: "'X'" []) ()) ())
                                         (:
                                          (ArgExpr
                                           (Var (Ident "format" ()) ())
                                           ())
                                          []))
                                        ()))
                                      ())
                                     [])
                                    ())
                                   (:
                                    (Fun
                                     (Ident "plot_gate" ())
                                     (:
                                      (Param
                                       (Ident "self" ())
                                       Nothing
                                       Nothing
                                       ())
                                      (:
                                       (Param
                                        (Ident "circ_plot" ())
                                        Nothing
                                        Nothing
                                        ())
                                       (:
                                        (Param
                                         (Ident "gate_idx" ())
                                         Nothing
                                         Nothing
                                         ())
                                        [])))
                                     Nothing
                                     (:
                                      (StmtExpr
                                       (Call
                                        (Dot
                                         (Var (Ident "OneQubitGate" ()) ())
                                         (Ident "plot_gate" ())
                                         ())
                                        (:
                                         (ArgExpr (Var (Ident "self" ()) ()) ())
                                         (:
                                          (ArgExpr
                                           (Var (Ident "circ_plot" ()) ())
                                           ())
                                          (:
                                           (ArgExpr
                                            (Var (Ident "gate_idx" ()) ())
                                            ())
                                           [])))
                                        ())
                                       ())
                                      [])
                                     ())
                                    (:
                                     (Fun
                                      (Ident "plot_gate_plus" ())
                                      (:
                                       (Param
                                        (Ident "self" ())
                                        Nothing
                                        Nothing
                                        ())
                                       (:
                                        (Param
                                         (Ident "circ_plot" ())
                                         Nothing
                                         Nothing
                                         ())
                                        (:
                                         (Param
                                          (Ident "gate_idx" ())
                                          Nothing
                                          Nothing
                                          ())
                                         [])))
                                      Nothing
                                      (:
                                       (StmtExpr
                                        (Call
                                         (Dot
                                          (Var (Ident "circ_plot" ()) ())
                                          (Ident "not_point" ())
                                          ())
                                         (:
                                          (ArgExpr
                                           (Var (Ident "gate_idx" ()) ())
                                           ())
                                          (:
                                           (ArgExpr
                                            (Call
                                             (Var (Ident "int" ()) ())
                                             (:
                                              (ArgExpr
                                               (Subscript
                                                (Dot
                                                 (Var (Ident "self" ()) ())
                                                 (Ident "label" ())
                                                 ())
                                                (Int 0 "0" ())
                                                ())
                                               ())
                                              [])
                                             ())
                                            ())
                                           []))
                                         ())
                                        ())
                                       [])
                                      ())
                                     (:
                                      (Fun
                                       (Ident "_eval_commutator_YGate" ())
                                       (:
                                        (Param
                                         (Ident "self" ())
                                         Nothing
                                         Nothing
                                         ())
                                        (:
                                         (Param
                                          (Ident "other" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (VarArgsKeyword
                                           (Ident "hints" ())
                                           Nothing
                                           ())
                                          [])))
                                       Nothing
                                       (:
                                        (Return
                                         (Just
                                          (BinaryOp
                                           (Multiply ())
                                           (BinaryOp
                                            (Multiply ())
                                            (Call
                                             (Var (Ident "Integer" ()) ())
                                             (: (ArgExpr (Int 2 "2" ()) ()) [])
                                             ())
                                            (Var (Ident "I" ()) ())
                                            ())
                                           (Call
                                            (Var (Ident "ZGate" ()) ())
                                            (:
                                             (ArgExpr
                                              (Subscript
                                               (Dot
                                                (Var (Ident "self" ()) ())
                                                (Ident "targets" ())
                                                ())
                                               (Int 0 "0" ())
                                               ())
                                              ())
                                             [])
                                            ())
                                           ()))
                                         ())
                                        [])
                                       ())
                                      (:
                                       (Fun
                                        (Ident "_eval_anticommutator_XGate" ())
                                        (:
                                         (Param
                                          (Ident "self" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (Param
                                           (Ident "other" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (VarArgsKeyword
                                            (Ident "hints" ())
                                            Nothing
                                            ())
                                           [])))
                                        Nothing
                                        (:
                                         (Return
                                          (Just
                                           (BinaryOp
                                            (Multiply ())
                                            (Call
                                             (Var (Ident "Integer" ()) ())
                                             (: (ArgExpr (Int 2 "2" ()) ()) [])
                                             ())
                                            (Call
                                             (Var (Ident "IdentityGate" ()) ())
                                             (:
                                              (ArgExpr
                                               (Subscript
                                                (Dot
                                                 (Var (Ident "self" ()) ())
                                                 (Ident "targets" ())
                                                 ())
                                                (Int 0 "0" ())
                                                ())
                                               ())
                                              [])
                                             ())
                                            ()))
                                          ())
                                         [])
                                        ())
                                       (:
                                        (Fun
                                         (Ident "_eval_anticommutator_YGate" ())
                                         (:
                                          (Param
                                           (Ident "self" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (Param
                                            (Ident "other" ())
                                            Nothing
                                            Nothing
                                            ())
                                           (:
                                            (VarArgsKeyword
                                             (Ident "hints" ())
                                             Nothing
                                             ())
                                            [])))
                                         Nothing
                                         (:
                                          (Return
                                           (Just
                                            (Call
                                             (Var (Ident "Integer" ()) ())
                                             (: (ArgExpr (Int 0 "0" ()) ()) [])
                                             ()))
                                           ())
                                          [])
                                         ())
                                        (:
                                         (Fun
                                          (Ident
                                           "_eval_anticommutator_ZGate"
                                           ())
                                          (:
                                           (Param
                                            (Ident "self" ())
                                            Nothing
                                            Nothing
                                            ())
                                           (:
                                            (Param
                                             (Ident "other" ())
                                             Nothing
                                             Nothing
                                             ())
                                            (:
                                             (VarArgsKeyword
                                              (Ident "hints" ())
                                              Nothing
                                              ())
                                             [])))
                                          Nothing
                                          (:
                                           (Return
                                            (Just
                                             (Call
                                              (Var (Ident "Integer" ()) ())
                                              (: (ArgExpr (Int 0 "0" ()) ()) [])
                                              ()))
                                            ())
                                           [])
                                          ())
                                         []))))))))))
                               ())
                              (:
                               (Class
                                (Ident "YGate" ())
                                (:
                                 (ArgExpr
                                  (Var (Ident "HermitianOperator" ()) ())
                                  ())
                                 (:
                                  (ArgExpr
                                   (Var (Ident "OneQubitGate" ()) ())
                                   ())
                                  []))
                                (:
                                 (StmtExpr
                                  (Strings
                                   (:
                                    "\"\"\"The single qubit Y gate.\n\n    Parameters\n    ----------\n    target : int\n        The target qubit this gate will apply to.\n\n    Examples\n    --------\n\n    \"\"\""
                                    [])
                                   ())
                                  ())
                                 (:
                                  (Assign
                                   (: (Var (Ident "gate_name" ()) ()) [])
                                   (UnicodeStrings (: "u'Y'" []) ())
                                   ())
                                  (:
                                   (Assign
                                    (: (Var (Ident "gate_name_latex" ()) ()) [])
                                    (UnicodeStrings (: "u'Y'" []) ())
                                    ())
                                   (:
                                    (Fun
                                     (Ident "get_target_matrix" ())
                                     (:
                                      (Param
                                       (Ident "self" ())
                                       Nothing
                                       Nothing
                                       ())
                                      (:
                                       (Param
                                        (Ident "format" ())
                                        Nothing
                                        (Just (Strings (: "'sympy'" []) ()))
                                        ())
                                       []))
                                     Nothing
                                     (:
                                      (Return
                                       (Just
                                        (Call
                                         (Dot
                                          (Var (Ident "matrix_cache" ()) ())
                                          (Ident "get_matrix" ())
                                          ())
                                         (:
                                          (ArgExpr (Strings (: "'Y'" []) ()) ())
                                          (:
                                           (ArgExpr
                                            (Var (Ident "format" ()) ())
                                            ())
                                           []))
                                         ()))
                                       ())
                                      [])
                                     ())
                                    (:
                                     (Fun
                                      (Ident "_eval_commutator_ZGate" ())
                                      (:
                                       (Param
                                        (Ident "self" ())
                                        Nothing
                                        Nothing
                                        ())
                                       (:
                                        (Param
                                         (Ident "other" ())
                                         Nothing
                                         Nothing
                                         ())
                                        (:
                                         (VarArgsKeyword
                                          (Ident "hints" ())
                                          Nothing
                                          ())
                                         [])))
                                      Nothing
                                      (:
                                       (Return
                                        (Just
                                         (BinaryOp
                                          (Multiply ())
                                          (BinaryOp
                                           (Multiply ())
                                           (Call
                                            (Var (Ident "Integer" ()) ())
                                            (: (ArgExpr (Int 2 "2" ()) ()) [])
                                            ())
                                           (Var (Ident "I" ()) ())
                                           ())
                                          (Call
                                           (Var (Ident "XGate" ()) ())
                                           (:
                                            (ArgExpr
                                             (Subscript
                                              (Dot
                                               (Var (Ident "self" ()) ())
                                               (Ident "targets" ())
                                               ())
                                              (Int 0 "0" ())
                                              ())
                                             ())
                                            [])
                                           ())
                                          ()))
                                        ())
                                       [])
                                      ())
                                     (:
                                      (Fun
                                       (Ident "_eval_anticommutator_YGate" ())
                                       (:
                                        (Param
                                         (Ident "self" ())
                                         Nothing
                                         Nothing
                                         ())
                                        (:
                                         (Param
                                          (Ident "other" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (VarArgsKeyword
                                           (Ident "hints" ())
                                           Nothing
                                           ())
                                          [])))
                                       Nothing
                                       (:
                                        (Return
                                         (Just
                                          (BinaryOp
                                           (Multiply ())
                                           (Call
                                            (Var (Ident "Integer" ()) ())
                                            (: (ArgExpr (Int 2 "2" ()) ()) [])
                                            ())
                                           (Call
                                            (Var (Ident "IdentityGate" ()) ())
                                            (:
                                             (ArgExpr
                                              (Subscript
                                               (Dot
                                                (Var (Ident "self" ()) ())
                                                (Ident "targets" ())
                                                ())
                                               (Int 0 "0" ())
                                               ())
                                              ())
                                             [])
                                            ())
                                           ()))
                                         ())
                                        [])
                                       ())
                                      (:
                                       (Fun
                                        (Ident "_eval_anticommutator_ZGate" ())
                                        (:
                                         (Param
                                          (Ident "self" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (Param
                                           (Ident "other" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (VarArgsKeyword
                                            (Ident "hints" ())
                                            Nothing
                                            ())
                                           [])))
                                        Nothing
                                        (:
                                         (Return
                                          (Just
                                           (Call
                                            (Var (Ident "Integer" ()) ())
                                            (: (ArgExpr (Int 0 "0" ()) ()) [])
                                            ()))
                                          ())
                                         [])
                                        ())
                                       [])))))))
                                ())
                               (:
                                (Class
                                 (Ident "ZGate" ())
                                 (:
                                  (ArgExpr
                                   (Var (Ident "HermitianOperator" ()) ())
                                   ())
                                  (:
                                   (ArgExpr
                                    (Var (Ident "OneQubitGate" ()) ())
                                    ())
                                   []))
                                 (:
                                  (StmtExpr
                                   (Strings
                                    (:
                                     "\"\"\"The single qubit Z gate.\n\n    Parameters\n    ----------\n    target : int\n        The target qubit this gate will apply to.\n\n    Examples\n    --------\n\n    \"\"\""
                                     [])
                                    ())
                                   ())
                                  (:
                                   (Assign
                                    (: (Var (Ident "gate_name" ()) ()) [])
                                    (UnicodeStrings (: "u'Z'" []) ())
                                    ())
                                   (:
                                    (Assign
                                     (:
                                      (Var (Ident "gate_name_latex" ()) ())
                                      [])
                                     (UnicodeStrings (: "u'Z'" []) ())
                                     ())
                                    (:
                                     (Fun
                                      (Ident "get_target_matrix" ())
                                      (:
                                       (Param
                                        (Ident "self" ())
                                        Nothing
                                        Nothing
                                        ())
                                       (:
                                        (Param
                                         (Ident "format" ())
                                         Nothing
                                         (Just (Strings (: "'sympy'" []) ()))
                                         ())
                                        []))
                                      Nothing
                                      (:
                                       (Return
                                        (Just
                                         (Call
                                          (Dot
                                           (Var (Ident "matrix_cache" ()) ())
                                           (Ident "get_matrix" ())
                                           ())
                                          (:
                                           (ArgExpr
                                            (Strings (: "'Z'" []) ())
                                            ())
                                           (:
                                            (ArgExpr
                                             (Var (Ident "format" ()) ())
                                             ())
                                            []))
                                          ()))
                                        ())
                                       [])
                                      ())
                                     (:
                                      (Fun
                                       (Ident "_eval_commutator_XGate" ())
                                       (:
                                        (Param
                                         (Ident "self" ())
                                         Nothing
                                         Nothing
                                         ())
                                        (:
                                         (Param
                                          (Ident "other" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (VarArgsKeyword
                                           (Ident "hints" ())
                                           Nothing
                                           ())
                                          [])))
                                       Nothing
                                       (:
                                        (Return
                                         (Just
                                          (BinaryOp
                                           (Multiply ())
                                           (BinaryOp
                                            (Multiply ())
                                            (Call
                                             (Var (Ident "Integer" ()) ())
                                             (: (ArgExpr (Int 2 "2" ()) ()) [])
                                             ())
                                            (Var (Ident "I" ()) ())
                                            ())
                                           (Call
                                            (Var (Ident "YGate" ()) ())
                                            (:
                                             (ArgExpr
                                              (Subscript
                                               (Dot
                                                (Var (Ident "self" ()) ())
                                                (Ident "targets" ())
                                                ())
                                               (Int 0 "0" ())
                                               ())
                                              ())
                                             [])
                                            ())
                                           ()))
                                         ())
                                        [])
                                       ())
                                      (:
                                       (Fun
                                        (Ident "_eval_anticommutator_YGate" ())
                                        (:
                                         (Param
                                          (Ident "self" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (Param
                                           (Ident "other" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (VarArgsKeyword
                                            (Ident "hints" ())
                                            Nothing
                                            ())
                                           [])))
                                        Nothing
                                        (:
                                         (Return
                                          (Just
                                           (Call
                                            (Var (Ident "Integer" ()) ())
                                            (: (ArgExpr (Int 0 "0" ()) ()) [])
                                            ()))
                                          ())
                                         [])
                                        ())
                                       []))))))
                                 ())
                                (:
                                 (Class
                                  (Ident "PhaseGate" ())
                                  (:
                                   (ArgExpr
                                    (Var (Ident "OneQubitGate" ()) ())
                                    ())
                                   [])
                                  (:
                                   (StmtExpr
                                    (Strings
                                     (:
                                      "\"\"\"The single qubit phase, or S, gate.\n\n    This gate rotates the phase of the state by pi/2 if the state is ``|1>`` and\n    does nothing if the state is ``|0>``.\n\n    Parameters\n    ----------\n    target : int\n        The target qubit this gate will apply to.\n\n    Examples\n    --------\n\n    \"\"\""
                                      [])
                                     ())
                                    ())
                                   (:
                                    (Assign
                                     (: (Var (Ident "gate_name" ()) ()) [])
                                     (UnicodeStrings (: "u'S'" []) ())
                                     ())
                                    (:
                                     (Assign
                                      (:
                                       (Var (Ident "gate_name_latex" ()) ())
                                       [])
                                      (UnicodeStrings (: "u'S'" []) ())
                                      ())
                                     (:
                                      (Fun
                                       (Ident "get_target_matrix" ())
                                       (:
                                        (Param
                                         (Ident "self" ())
                                         Nothing
                                         Nothing
                                         ())
                                        (:
                                         (Param
                                          (Ident "format" ())
                                          Nothing
                                          (Just (Strings (: "'sympy'" []) ()))
                                          ())
                                         []))
                                       Nothing
                                       (:
                                        (Return
                                         (Just
                                          (Call
                                           (Dot
                                            (Var (Ident "matrix_cache" ()) ())
                                            (Ident "get_matrix" ())
                                            ())
                                           (:
                                            (ArgExpr
                                             (Strings (: "'S'" []) ())
                                             ())
                                            (:
                                             (ArgExpr
                                              (Var (Ident "format" ()) ())
                                              ())
                                             []))
                                           ()))
                                         ())
                                        [])
                                       ())
                                      (:
                                       (Fun
                                        (Ident "_eval_commutator_ZGate" ())
                                        (:
                                         (Param
                                          (Ident "self" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (Param
                                           (Ident "other" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (VarArgsKeyword
                                            (Ident "hints" ())
                                            Nothing
                                            ())
                                           [])))
                                        Nothing
                                        (:
                                         (Return
                                          (Just
                                           (Call
                                            (Var (Ident "Integer" ()) ())
                                            (: (ArgExpr (Int 0 "0" ()) ()) [])
                                            ()))
                                          ())
                                         [])
                                        ())
                                       (:
                                        (Fun
                                         (Ident "_eval_commutator_TGate" ())
                                         (:
                                          (Param
                                           (Ident "self" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (Param
                                            (Ident "other" ())
                                            Nothing
                                            Nothing
                                            ())
                                           (:
                                            (VarArgsKeyword
                                             (Ident "hints" ())
                                             Nothing
                                             ())
                                            [])))
                                         Nothing
                                         (:
                                          (Return
                                           (Just
                                            (Call
                                             (Var (Ident "Integer" ()) ())
                                             (: (ArgExpr (Int 0 "0" ()) ()) [])
                                             ()))
                                           ())
                                          [])
                                         ())
                                        []))))))
                                  ())
                                 (:
                                  (Class
                                   (Ident "TGate" ())
                                   (:
                                    (ArgExpr
                                     (Var (Ident "OneQubitGate" ()) ())
                                     ())
                                    [])
                                   (:
                                    (StmtExpr
                                     (Strings
                                      (:
                                       "\"\"\"The single qubit pi/8 gate.\n\n    This gate rotates the phase of the state by pi/4 if the state is ``|1>`` and\n    does nothing if the state is ``|0>``.\n\n    Parameters\n    ----------\n    target : int\n        The target qubit this gate will apply to.\n\n    Examples\n    --------\n\n    \"\"\""
                                       [])
                                      ())
                                     ())
                                    (:
                                     (Assign
                                      (: (Var (Ident "gate_name" ()) ()) [])
                                      (UnicodeStrings (: "u'T'" []) ())
                                      ())
                                     (:
                                      (Assign
                                       (:
                                        (Var (Ident "gate_name_latex" ()) ())
                                        [])
                                       (UnicodeStrings (: "u'T'" []) ())
                                       ())
                                      (:
                                       (Fun
                                        (Ident "get_target_matrix" ())
                                        (:
                                         (Param
                                          (Ident "self" ())
                                          Nothing
                                          Nothing
                                          ())
                                         (:
                                          (Param
                                           (Ident "format" ())
                                           Nothing
                                           (Just (Strings (: "'sympy'" []) ()))
                                           ())
                                          []))
                                        Nothing
                                        (:
                                         (Return
                                          (Just
                                           (Call
                                            (Dot
                                             (Var (Ident "matrix_cache" ()) ())
                                             (Ident "get_matrix" ())
                                             ())
                                            (:
                                             (ArgExpr
                                              (Strings (: "'T'" []) ())
                                              ())
                                             (:
                                              (ArgExpr
                                               (Var (Ident "format" ()) ())
                                               ())
                                              []))
                                            ()))
                                          ())
                                         [])
                                        ())
                                       (:
                                        (Fun
                                         (Ident "_eval_commutator_ZGate" ())
                                         (:
                                          (Param
                                           (Ident "self" ())
                                           Nothing
                                           Nothing
                                           ())
                                          (:
                                           (Param
                                            (Ident "other" ())
                                            Nothing
                                            Nothing
                                            ())
                                           (:
                                            (VarArgsKeyword
                                             (Ident "hints" ())
                                             Nothing
                                             ())
                                            [])))
                                         Nothing
                                         (:
                                          (Return
                                           (Just
                                            (Call
                                             (Var (Ident "Integer" ()) ())
                                             (: (ArgExpr (Int 0 "0" ()) ()) [])
                                             ()))
                                           ())
                                          [])
                                         ())
                                        (:
                                         (Fun
                                          (Ident
                                           "_eval_commutator_PhaseGate"
                                           ())
                                          (:
                                           (Param
                                            (Ident "self" ())
                                            Nothing
                                            Nothing
                                            ())
                                           (:
                                            (Param
                                             (Ident "other" ())
                                             Nothing
                                             Nothing
                                             ())
                                            (:
                                             (VarArgsKeyword
                                              (Ident "hints" ())
                                              Nothing
                                              ())
                                             [])))
                                          Nothing
                                          (:
                                           (Return
                                            (Just
                                             (Call
                                              (Var (Ident "Integer" ()) ())
                                              (: (ArgExpr (Int 0 "0" ()) ()) [])
                                              ()))
                                            ())
                                           [])
                                          ())
                                         []))))))
                                   ())
                                  (:
                                   (Assign
                                    (: (Var (Ident "H" ()) ()) [])
                                    (Var (Ident "HadamardGate" ()) ())
                                    ())
                                   (:
                                    (Assign
                                     (: (Var (Ident "X" ()) ()) [])
                                     (Var (Ident "XGate" ()) ())
                                     ())
                                    (:
                                     (Assign
                                      (: (Var (Ident "Y" ()) ()) [])
                                      (Var (Ident "YGate" ()) ())
                                      ())
                                     (:
                                      (Assign
                                       (: (Var (Ident "Z" ()) ()) [])
                                       (Var (Ident "ZGate" ()) ())
                                       ())
                                      (:
                                       (Assign
                                        (: (Var (Ident "T" ()) ()) [])
                                        (Var (Ident "TGate" ()) ())
                                        ())
                                       (:
                                        (Assign
                                         (:
                                          (Var (Ident "Phase" ()) ())
                                          (: (Var (Ident "S" ()) ()) []))
                                         (Var (Ident "PhaseGate" ()) ())
                                         ())
                                        (:
                                         (Class
                                          (Ident "CNotGate" ())
                                          (:
                                           (ArgExpr
                                            (Var
                                             (Ident "HermitianOperator" ())
                                             ())
                                            ())
                                           (:
                                            (ArgExpr
                                             (Var (Ident "CGate" ()) ())
                                             ())
                                            (:
                                             (ArgExpr
                                              (Var (Ident "TwoQubitGate" ()) ())
                                              ())
                                             [])))
                                          (:
                                           (StmtExpr
                                            (Strings
                                             (:
                                              "\"\"\"Two qubit controlled-NOT.\n\n    This gate performs the NOT or X gate on the target qubit if the control\n    qubits all have the value 1.\n\n    Parameters\n    ----------\n    label : tuple\n        A tuple of the form (control, target).\n\n    Examples\n    --------\n\n    >>> from sympy.physics.quantum.gate import CNOT\n    >>> from sympy.physics.quantum.qapply import qapply\n    >>> from sympy.physics.quantum.qubit import Qubit\n    >>> c = CNOT(1,0)\n    >>> qapply(c*Qubit('10')) # note that qubits are indexed from right to left\n    |11>\n\n    \"\"\""
                                              [])
                                             ())
                                            ())
                                           (:
                                            (Assign
                                             (:
                                              (Var (Ident "gate_name" ()) ())
                                              [])
                                             (Strings (: "'CNOT'" []) ())
                                             ())
                                            (:
                                             (Assign
                                              (:
                                               (Var
                                                (Ident "gate_name_latex" ())
                                                ())
                                               [])
                                              (UnicodeStrings
                                               (: "u'CNOT'" [])
                                               ())
                                              ())
                                             (:
                                              (Assign
                                               (:
                                                (Var
                                                 (Ident "simplify_cgate" ())
                                                 ())
                                                [])
                                               (Bool True ())
                                               ())
                                              (:
                                               (Decorated
                                                (:
                                                 (Decorator
                                                  (:
                                                   (Ident "classmethod" ())
                                                   [])
                                                  []
                                                  ())
                                                 [])
                                                (Fun
                                                 (Ident "_eval_args" ())
                                                 (:
                                                  (Param
                                                   (Ident "cls" ())
                                                   Nothing
                                                   Nothing
                                                   ())
                                                  (:
                                                   (Param
                                                    (Ident "args" ())
                                                    Nothing
                                                    Nothing
                                                    ())
                                                   []))
                                                 Nothing
                                                 (:
                                                  (Assign
                                                   (:
                                                    (Var (Ident "args" ()) ())
                                                    [])
                                                   (Call
                                                    (Dot
                                                     (Var (Ident "Gate" ()) ())
                                                     (Ident "_eval_args" ())
                                                     ())
                                                    (:
                                                     (ArgExpr
                                                      (Var (Ident "args" ()) ())
                                                      ())
                                                     [])
                                                    ())
                                                   ())
                                                  (:
                                                   (Return
                                                    (Just
                                                     (Var (Ident "args" ()) ()))
                                                    ())
                                                   []))
                                                 ())
                                                ())
                                               (:
                                                (Decorated
                                                 (:
                                                  (Decorator
                                                   (:
                                                    (Ident "classmethod" ())
                                                    [])
                                                   []
                                                   ())
                                                  [])
                                                 (Fun
                                                  (Ident
                                                   "_eval_hilbert_space"
                                                   ())
                                                  (:
                                                   (Param
                                                    (Ident "cls" ())
                                                    Nothing
                                                    Nothing
                                                    ())
                                                   (:
                                                    (Param
                                                     (Ident "args" ())
                                                     Nothing
                                                     Nothing
                                                     ())
                                                    []))
                                                  Nothing
                                                  (:
                                                   (StmtExpr
                                                    (Strings
                                                     (:
                                                      "\"\"\"This returns the smallest possible Hilbert space.\"\"\""
                                                      [])
                                                     ())
                                                    ())
                                                   (:
                                                    (Return
                                                     (Just
                                                      (BinaryOp
                                                       (Exponent ())
                                                       (Call
                                                        (Var
                                                         (Ident
                                                          "ComplexSpace"
                                                          ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Int 2 "2" ())
                                                          ())
                                                         [])
                                                        ())
                                                       (Paren
                                                        (BinaryOp
                                                         (Plus ())
                                                         (Call
                                                          (Var
                                                           (Ident "max" ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Var
                                                             (Ident "args" ())
                                                             ())
                                                            ())
                                                           [])
                                                          ())
                                                         (Int 1 "1" ())
                                                         ())
                                                        ())
                                                       ()))
                                                     ())
                                                    []))
                                                  ())
                                                 ())
                                                (:
                                                 (Decorated
                                                  (:
                                                   (Decorator
                                                    (: (Ident "property" ()) [])
                                                    []
                                                    ())
                                                   [])
                                                  (Fun
                                                   (Ident "min_qubits" ())
                                                   (:
                                                    (Param
                                                     (Ident "self" ())
                                                     Nothing
                                                     Nothing
                                                     ())
                                                    [])
                                                   Nothing
                                                   (:
                                                    (StmtExpr
                                                     (Strings
                                                      (:
                                                       "\"\"\"The minimum number of qubits this gate needs to act on.\"\"\""
                                                       [])
                                                      ())
                                                     ())
                                                    (:
                                                     (Return
                                                      (Just
                                                       (BinaryOp
                                                        (Plus ())
                                                        (Call
                                                         (Var
                                                          (Ident "max" ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Dot
                                                            (Var
                                                             (Ident "self" ())
                                                             ())
                                                            (Ident "label" ())
                                                            ())
                                                           ())
                                                          [])
                                                         ())
                                                        (Int 1 "1" ())
                                                        ()))
                                                      ())
                                                     []))
                                                   ())
                                                  ())
                                                 (:
                                                  (Decorated
                                                   (:
                                                    (Decorator
                                                     (:
                                                      (Ident "property" ())
                                                      [])
                                                     []
                                                     ())
                                                    [])
                                                   (Fun
                                                    (Ident "targets" ())
                                                    (:
                                                     (Param
                                                      (Ident "self" ())
                                                      Nothing
                                                      Nothing
                                                      ())
                                                     [])
                                                    Nothing
                                                    (:
                                                     (StmtExpr
                                                      (Strings
                                                       (:
                                                        "\"\"\"A tuple of target qubits.\"\"\""
                                                        [])
                                                       ())
                                                      ())
                                                     (:
                                                      (Return
                                                       (Just
                                                        (Paren
                                                         (Tuple
                                                          (:
                                                           (Subscript
                                                            (Dot
                                                             (Var
                                                              (Ident "self" ())
                                                              ())
                                                             (Ident "label" ())
                                                             ())
                                                            (Int 1 "1" ())
                                                            ())
                                                           [])
                                                          ())
                                                         ()))
                                                       ())
                                                      []))
                                                    ())
                                                   ())
                                                  (:
                                                   (Decorated
                                                    (:
                                                     (Decorator
                                                      (:
                                                       (Ident "property" ())
                                                       [])
                                                      []
                                                      ())
                                                     [])
                                                    (Fun
                                                     (Ident "controls" ())
                                                     (:
                                                      (Param
                                                       (Ident "self" ())
                                                       Nothing
                                                       Nothing
                                                       ())
                                                      [])
                                                     Nothing
                                                     (:
                                                      (StmtExpr
                                                       (Strings
                                                        (:
                                                         "\"\"\"A tuple of control qubits.\"\"\""
                                                         [])
                                                        ())
                                                       ())
                                                      (:
                                                       (Return
                                                        (Just
                                                         (Paren
                                                          (Tuple
                                                           (:
                                                            (Subscript
                                                             (Dot
                                                              (Var
                                                               (Ident "self" ())
                                                               ())
                                                              (Ident "label" ())
                                                              ())
                                                             (Int 0 "0" ())
                                                             ())
                                                            [])
                                                           ())
                                                          ()))
                                                        ())
                                                       []))
                                                     ())
                                                    ())
                                                   (:
                                                    (Decorated
                                                     (:
                                                      (Decorator
                                                       (:
                                                        (Ident "property" ())
                                                        [])
                                                       []
                                                       ())
                                                      [])
                                                     (Fun
                                                      (Ident "gate" ())
                                                      (:
                                                       (Param
                                                        (Ident "self" ())
                                                        Nothing
                                                        Nothing
                                                        ())
                                                       [])
                                                      Nothing
                                                      (:
                                                       (StmtExpr
                                                        (Strings
                                                         (:
                                                          "\"\"\"The non-controlled gate that will be applied to the targets.\"\"\""
                                                          [])
                                                         ())
                                                        ())
                                                       (:
                                                        (Return
                                                         (Just
                                                          (Call
                                                           (Var
                                                            (Ident "XGate" ())
                                                            ())
                                                           (:
                                                            (ArgExpr
                                                             (Subscript
                                                              (Dot
                                                               (Var
                                                                (Ident
                                                                 "self"
                                                                 ())
                                                                ())
                                                               (Ident
                                                                "label"
                                                                ())
                                                               ())
                                                              (Int 1 "1" ())
                                                              ())
                                                             ())
                                                            [])
                                                           ()))
                                                         ())
                                                        []))
                                                      ())
                                                     ())
                                                    (:
                                                     (Fun
                                                      (Ident "_print_label" ())
                                                      (:
                                                       (Param
                                                        (Ident "self" ())
                                                        Nothing
                                                        Nothing
                                                        ())
                                                       (:
                                                        (Param
                                                         (Ident "printer" ())
                                                         Nothing
                                                         Nothing
                                                         ())
                                                        (:
                                                         (VarArgsPos
                                                          (Ident "args" ())
                                                          Nothing
                                                          ())
                                                         [])))
                                                      Nothing
                                                      (:
                                                       (Return
                                                        (Just
                                                         (Call
                                                          (Dot
                                                           (Var
                                                            (Ident "Gate" ())
                                                            ())
                                                           (Ident
                                                            "_print_label"
                                                            ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Var
                                                             (Ident "self" ())
                                                             ())
                                                            ())
                                                           (:
                                                            (ArgExpr
                                                             (Var
                                                              (Ident
                                                               "printer"
                                                               ())
                                                              ())
                                                             ())
                                                            (:
                                                             (ArgVarArgsPos
                                                              (Var
                                                               (Ident "args" ())
                                                               ())
                                                              ())
                                                             [])))
                                                          ()))
                                                        ())
                                                       [])
                                                      ())
                                                     (:
                                                      (Fun
                                                       (Ident "_pretty" ())
                                                       (:
                                                        (Param
                                                         (Ident "self" ())
                                                         Nothing
                                                         Nothing
                                                         ())
                                                        (:
                                                         (Param
                                                          (Ident "printer" ())
                                                          Nothing
                                                          Nothing
                                                          ())
                                                         (:
                                                          (VarArgsPos
                                                           (Ident "args" ())
                                                           Nothing
                                                           ())
                                                          [])))
                                                       Nothing
                                                       (:
                                                        (Return
                                                         (Just
                                                          (Call
                                                           (Dot
                                                            (Var
                                                             (Ident "Gate" ())
                                                             ())
                                                            (Ident "_pretty" ())
                                                            ())
                                                           (:
                                                            (ArgExpr
                                                             (Var
                                                              (Ident "self" ())
                                                              ())
                                                             ())
                                                            (:
                                                             (ArgExpr
                                                              (Var
                                                               (Ident
                                                                "printer"
                                                                ())
                                                               ())
                                                              ())
                                                             (:
                                                              (ArgVarArgsPos
                                                               (Var
                                                                (Ident
                                                                 "args"
                                                                 ())
                                                                ())
                                                               ())
                                                              [])))
                                                           ()))
                                                         ())
                                                        [])
                                                       ())
                                                      (:
                                                       (Fun
                                                        (Ident "_latex" ())
                                                        (:
                                                         (Param
                                                          (Ident "self" ())
                                                          Nothing
                                                          Nothing
                                                          ())
                                                         (:
                                                          (Param
                                                           (Ident "printer" ())
                                                           Nothing
                                                           Nothing
                                                           ())
                                                          (:
                                                           (VarArgsPos
                                                            (Ident "args" ())
                                                            Nothing
                                                            ())
                                                           [])))
                                                        Nothing
                                                        (:
                                                         (Return
                                                          (Just
                                                           (Call
                                                            (Dot
                                                             (Var
                                                              (Ident "Gate" ())
                                                              ())
                                                             (Ident "_latex" ())
                                                             ())
                                                            (:
                                                             (ArgExpr
                                                              (Var
                                                               (Ident "self" ())
                                                               ())
                                                              ())
                                                             (:
                                                              (ArgExpr
                                                               (Var
                                                                (Ident
                                                                 "printer"
                                                                 ())
                                                                ())
                                                               ())
                                                              (:
                                                               (ArgVarArgsPos
                                                                (Var
                                                                 (Ident
                                                                  "args"
                                                                  ())
                                                                 ())
                                                                ())
                                                               [])))
                                                            ()))
                                                          ())
                                                         [])
                                                        ())
                                                       (:
                                                        (Fun
                                                         (Ident
                                                          "_eval_commutator_ZGate"
                                                          ())
                                                         (:
                                                          (Param
                                                           (Ident "self" ())
                                                           Nothing
                                                           Nothing
                                                           ())
                                                          (:
                                                           (Param
                                                            (Ident "other" ())
                                                            Nothing
                                                            Nothing
                                                            ())
                                                           (:
                                                            (VarArgsKeyword
                                                             (Ident "hints" ())
                                                             Nothing
                                                             ())
                                                            [])))
                                                         Nothing
                                                         (:
                                                          (StmtExpr
                                                           (Strings
                                                            (:
                                                             "\"\"\"[CNOT(i, j), Z(i)] == 0.\"\"\""
                                                             [])
                                                            ())
                                                           ())
                                                          (:
                                                           (Conditional
                                                            (:
                                                             ((,)
                                                              (BinaryOp
                                                               (Equality ())
                                                               (Subscript
                                                                (Dot
                                                                 (Var
                                                                  (Ident
                                                                   "self"
                                                                   ())
                                                                  ())
                                                                 (Ident
                                                                  "controls"
                                                                  ())
                                                                 ())
                                                                (Int 0 "0" ())
                                                                ())
                                                               (Subscript
                                                                (Dot
                                                                 (Var
                                                                  (Ident
                                                                   "other"
                                                                   ())
                                                                  ())
                                                                 (Ident
                                                                  "targets"
                                                                  ())
                                                                 ())
                                                                (Int 0 "0" ())
                                                                ())
                                                               ())
                                                              (:
                                                               (Return
                                                                (Just
                                                                 (Call
                                                                  (Var
                                                                   (Ident
                                                                    "Integer"
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (ArgExpr
                                                                    (Int
                                                                     0
                                                                     "0"
                                                                     ())
                                                                    ())
                                                                   [])
                                                                  ()))
                                                                ())
                                                               []))
                                                             [])
                                                            (:
                                                             (Raise
                                                              (RaiseV3
                                                               (Just
                                                                ((,)
                                                                 (Call
                                                                  (Var
                                                                   (Ident
                                                                    "NotImplementedError"
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (ArgExpr
                                                                    (BinaryOp
                                                                     (Modulo ())
                                                                     (Strings
                                                                      (:
                                                                       "'Commutator not implemented: %r'"
                                                                       [])
                                                                      ())
                                                                     (Var
                                                                      (Ident
                                                                       "other"
                                                                       ())
                                                                      ())
                                                                     ())
                                                                    ())
                                                                   [])
                                                                  ())
                                                                 Nothing)))
                                                              ())
                                                             [])
                                                            ())
                                                           []))
                                                         ())
                                                        (:
                                                         (Fun
                                                          (Ident
                                                           "_eval_commutator_TGate"
                                                           ())
                                                          (:
                                                           (Param
                                                            (Ident "self" ())
                                                            Nothing
                                                            Nothing
                                                            ())
                                                           (:
                                                            (Param
                                                             (Ident "other" ())
                                                             Nothing
                                                             Nothing
                                                             ())
                                                            (:
                                                             (VarArgsKeyword
                                                              (Ident "hints" ())
                                                              Nothing
                                                              ())
                                                             [])))
                                                          Nothing
                                                          (:
                                                           (StmtExpr
                                                            (Strings
                                                             (:
                                                              "\"\"\"[CNOT(i, j), T(i)] == 0.\"\"\""
                                                              [])
                                                             ())
                                                            ())
                                                           (:
                                                            (Return
                                                             (Just
                                                              (Call
                                                               (Dot
                                                                (Var
                                                                 (Ident
                                                                  "self"
                                                                  ())
                                                                 ())
                                                                (Ident
                                                                 "_eval_commutator_ZGate"
                                                                 ())
                                                                ())
                                                               (:
                                                                (ArgExpr
                                                                 (Var
                                                                  (Ident
                                                                   "other"
                                                                   ())
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgVarArgsKeyword
                                                                  (Var
                                                                   (Ident
                                                                    "hints"
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 []))
                                                               ()))
                                                             ())
                                                            []))
                                                          ())
                                                         (:
                                                          (Fun
                                                           (Ident
                                                            "_eval_commutator_PhaseGate"
                                                            ())
                                                           (:
                                                            (Param
                                                             (Ident "self" ())
                                                             Nothing
                                                             Nothing
                                                             ())
                                                            (:
                                                             (Param
                                                              (Ident "other" ())
                                                              Nothing
                                                              Nothing
                                                              ())
                                                             (:
                                                              (VarArgsKeyword
                                                               (Ident
                                                                "hints"
                                                                ())
                                                               Nothing
                                                               ())
                                                              [])))
                                                           Nothing
                                                           (:
                                                            (StmtExpr
                                                             (Strings
                                                              (:
                                                               "\"\"\"[CNOT(i, j), S(i)] == 0.\"\"\""
                                                               [])
                                                              ())
                                                             ())
                                                            (:
                                                             (Return
                                                              (Just
                                                               (Call
                                                                (Dot
                                                                 (Var
                                                                  (Ident
                                                                   "self"
                                                                   ())
                                                                  ())
                                                                 (Ident
                                                                  "_eval_commutator_ZGate"
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgExpr
                                                                  (Var
                                                                   (Ident
                                                                    "other"
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (ArgVarArgsKeyword
                                                                   (Var
                                                                    (Ident
                                                                     "hints"
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  []))
                                                                ()))
                                                              ())
                                                             []))
                                                           ())
                                                          (:
                                                           (Fun
                                                            (Ident
                                                             "_eval_commutator_XGate"
                                                             ())
                                                            (:
                                                             (Param
                                                              (Ident "self" ())
                                                              Nothing
                                                              Nothing
                                                              ())
                                                             (:
                                                              (Param
                                                               (Ident
                                                                "other"
                                                                ())
                                                               Nothing
                                                               Nothing
                                                               ())
                                                              (:
                                                               (VarArgsKeyword
                                                                (Ident
                                                                 "hints"
                                                                 ())
                                                                Nothing
                                                                ())
                                                               [])))
                                                            Nothing
                                                            (:
                                                             (StmtExpr
                                                              (Strings
                                                               (:
                                                                "\"\"\"[CNOT(i, j), X(j)] == 0.\"\"\""
                                                                [])
                                                               ())
                                                              ())
                                                             (:
                                                              (Conditional
                                                               (:
                                                                ((,)
                                                                 (BinaryOp
                                                                  (Equality ())
                                                                  (Subscript
                                                                   (Dot
                                                                    (Var
                                                                     (Ident
                                                                      "self"
                                                                      ())
                                                                     ())
                                                                    (Ident
                                                                     "targets"
                                                                     ())
                                                                    ())
                                                                   (Int
                                                                    0
                                                                    "0"
                                                                    ())
                                                                   ())
                                                                  (Subscript
                                                                   (Dot
                                                                    (Var
                                                                     (Ident
                                                                      "other"
                                                                      ())
                                                                     ())
                                                                    (Ident
                                                                     "targets"
                                                                     ())
                                                                    ())
                                                                   (Int
                                                                    0
                                                                    "0"
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (Return
                                                                   (Just
                                                                    (Call
                                                                     (Var
                                                                      (Ident
                                                                       "Integer"
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (ArgExpr
                                                                       (Int
                                                                        0
                                                                        "0"
                                                                        ())
                                                                       ())
                                                                      [])
                                                                     ()))
                                                                   ())
                                                                  []))
                                                                [])
                                                               (:
                                                                (Raise
                                                                 (RaiseV3
                                                                  (Just
                                                                   ((,)
                                                                    (Call
                                                                     (Var
                                                                      (Ident
                                                                       "NotImplementedError"
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (ArgExpr
                                                                       (BinaryOp
                                                                        (Modulo
                                                                         ())
                                                                        (Strings
                                                                         (:
                                                                          "'Commutator not implemented: %r'"
                                                                          [])
                                                                         ())
                                                                        (Var
                                                                         (Ident
                                                                          "other"
                                                                          ())
                                                                         ())
                                                                        ())
                                                                       ())
                                                                      [])
                                                                     ())
                                                                    Nothing)))
                                                                 ())
                                                                [])
                                                               ())
                                                              []))
                                                            ())
                                                           (:
                                                            (Fun
                                                             (Ident
                                                              "_eval_commutator_CNotGate"
                                                              ())
                                                             (:
                                                              (Param
                                                               (Ident "self" ())
                                                               Nothing
                                                               Nothing
                                                               ())
                                                              (:
                                                               (Param
                                                                (Ident
                                                                 "other"
                                                                 ())
                                                                Nothing
                                                                Nothing
                                                                ())
                                                               (:
                                                                (VarArgsKeyword
                                                                 (Ident
                                                                  "hints"
                                                                  ())
                                                                 Nothing
                                                                 ())
                                                                [])))
                                                             Nothing
                                                             (:
                                                              (StmtExpr
                                                               (Strings
                                                                (:
                                                                 "\"\"\"[CNOT(i, j), CNOT(i,k)] == 0.\"\"\""
                                                                 [])
                                                                ())
                                                               ())
                                                              (:
                                                               (Conditional
                                                                (:
                                                                 ((,)
                                                                  (BinaryOp
                                                                   (Equality ())
                                                                   (Subscript
                                                                    (Dot
                                                                     (Var
                                                                      (Ident
                                                                       "self"
                                                                       ())
                                                                      ())
                                                                     (Ident
                                                                      "controls"
                                                                      ())
                                                                     ())
                                                                    (Int
                                                                     0
                                                                     "0"
                                                                     ())
                                                                    ())
                                                                   (Subscript
                                                                    (Dot
                                                                     (Var
                                                                      (Ident
                                                                       "other"
                                                                       ())
                                                                      ())
                                                                     (Ident
                                                                      "controls"
                                                                      ())
                                                                     ())
                                                                    (Int
                                                                     0
                                                                     "0"
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (Return
                                                                    (Just
                                                                     (Call
                                                                      (Var
                                                                       (Ident
                                                                        "Integer"
                                                                        ())
                                                                       ())
                                                                      (:
                                                                       (ArgExpr
                                                                        (Int
                                                                         0
                                                                         "0"
                                                                         ())
                                                                        ())
                                                                       [])
                                                                      ()))
                                                                    ())
                                                                   []))
                                                                 [])
                                                                (:
                                                                 (Raise
                                                                  (RaiseV3
                                                                   (Just
                                                                    ((,)
                                                                     (Call
                                                                      (Var
                                                                       (Ident
                                                                        "NotImplementedError"
                                                                        ())
                                                                       ())
                                                                      (:
                                                                       (ArgExpr
                                                                        (BinaryOp
                                                                         (Modulo
                                                                          ())
                                                                         (Strings
                                                                          (:
                                                                           "'Commutator not implemented: %r'"
                                                                           [])
                                                                          ())
                                                                         (Var
                                                                          (Ident
                                                                           "other"
                                                                           ())
                                                                          ())
                                                                         ())
                                                                        ())
                                                                       [])
                                                                      ())
                                                                     Nothing)))
                                                                  ())
                                                                 [])
                                                                ())
                                                               []))
                                                             ())
                                                            []))))))))))))))))))
                                          ())
                                         (:
                                          (Class
                                           (Ident "SwapGate" ())
                                           (:
                                            (ArgExpr
                                             (Var (Ident "TwoQubitGate" ()) ())
                                             ())
                                            [])
                                           (:
                                            (StmtExpr
                                             (Strings
                                              (:
                                               "\"\"\"Two qubit SWAP gate.\n\n    This gate swap the values of the two qubits.\n\n    Parameters\n    ----------\n    label : tuple\n        A tuple of the form (target1, target2).\n\n    Examples\n    --------\n\n    \"\"\""
                                               [])
                                              ())
                                             ())
                                            (:
                                             (Assign
                                              (:
                                               (Var (Ident "gate_name" ()) ())
                                               [])
                                              (Strings (: "'SWAP'" []) ())
                                              ())
                                             (:
                                              (Assign
                                               (:
                                                (Var
                                                 (Ident "gate_name_latex" ())
                                                 ())
                                                [])
                                               (UnicodeStrings
                                                (: "u'SWAP'" [])
                                                ())
                                               ())
                                              (:
                                               (Fun
                                                (Ident "get_target_matrix" ())
                                                (:
                                                 (Param
                                                  (Ident "self" ())
                                                  Nothing
                                                  Nothing
                                                  ())
                                                 (:
                                                  (Param
                                                   (Ident "format" ())
                                                   Nothing
                                                   (Just
                                                    (Strings
                                                     (: "'sympy'" [])
                                                     ()))
                                                   ())
                                                  []))
                                                Nothing
                                                (:
                                                 (Return
                                                  (Just
                                                   (Call
                                                    (Dot
                                                     (Var
                                                      (Ident "matrix_cache" ())
                                                      ())
                                                     (Ident "get_matrix" ())
                                                     ())
                                                    (:
                                                     (ArgExpr
                                                      (Strings
                                                       (: "'SWAP'" [])
                                                       ())
                                                      ())
                                                     (:
                                                      (ArgExpr
                                                       (Var
                                                        (Ident "format" ())
                                                        ())
                                                       ())
                                                      []))
                                                    ()))
                                                  ())
                                                 [])
                                                ())
                                               (:
                                                (Fun
                                                 (Ident "decompose" ())
                                                 (:
                                                  (Param
                                                   (Ident "self" ())
                                                   Nothing
                                                   Nothing
                                                   ())
                                                  (:
                                                   (VarArgsKeyword
                                                    (Ident "options" ())
                                                    Nothing
                                                    ())
                                                   []))
                                                 Nothing
                                                 (:
                                                  (StmtExpr
                                                   (Strings
                                                    (:
                                                     "\"\"\"Decompose the SWAP gate into CNOT gates.\"\"\""
                                                     [])
                                                    ())
                                                   ())
                                                  (:
                                                   (Assign
                                                    (:
                                                     (Tuple
                                                      (:
                                                       (Var (Ident "i" ()) ())
                                                       (:
                                                        (Var (Ident "j" ()) ())
                                                        []))
                                                      ())
                                                     [])
                                                    (Tuple
                                                     (:
                                                      (Subscript
                                                       (Dot
                                                        (Var
                                                         (Ident "self" ())
                                                         ())
                                                        (Ident "targets" ())
                                                        ())
                                                       (Int 0 "0" ())
                                                       ())
                                                      (:
                                                       (Subscript
                                                        (Dot
                                                         (Var
                                                          (Ident "self" ())
                                                          ())
                                                         (Ident "targets" ())
                                                         ())
                                                        (Int 1 "1" ())
                                                        ())
                                                       []))
                                                     ())
                                                    ())
                                                   (:
                                                    (Assign
                                                     (:
                                                      (Var (Ident "g1" ()) ())
                                                      [])
                                                     (Call
                                                      (Var
                                                       (Ident "CNotGate" ())
                                                       ())
                                                      (:
                                                       (ArgExpr
                                                        (Var (Ident "i" ()) ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Var (Ident "j" ()) ())
                                                         ())
                                                        []))
                                                      ())
                                                     ())
                                                    (:
                                                     (Assign
                                                      (:
                                                       (Var (Ident "g2" ()) ())
                                                       [])
                                                      (Call
                                                       (Var
                                                        (Ident "CNotGate" ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Var (Ident "j" ()) ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "i" ())
                                                           ())
                                                          ())
                                                         []))
                                                       ())
                                                      ())
                                                     (:
                                                      (Return
                                                       (Just
                                                        (BinaryOp
                                                         (Multiply ())
                                                         (BinaryOp
                                                          (Multiply ())
                                                          (Var
                                                           (Ident "g1" ())
                                                           ())
                                                          (Var
                                                           (Ident "g2" ())
                                                           ())
                                                          ())
                                                         (Var
                                                          (Ident "g1" ())
                                                          ())
                                                         ()))
                                                       ())
                                                      [])))))
                                                 ())
                                                (:
                                                 (Fun
                                                  (Ident "plot_gate" ())
                                                  (:
                                                   (Param
                                                    (Ident "self" ())
                                                    Nothing
                                                    Nothing
                                                    ())
                                                   (:
                                                    (Param
                                                     (Ident "circ_plot" ())
                                                     Nothing
                                                     Nothing
                                                     ())
                                                    (:
                                                     (Param
                                                      (Ident "gate_idx" ())
                                                      Nothing
                                                      Nothing
                                                      ())
                                                     [])))
                                                  Nothing
                                                  (:
                                                   (Assign
                                                    (:
                                                     (Var
                                                      (Ident "min_wire" ())
                                                      ())
                                                     [])
                                                    (Call
                                                     (Var (Ident "int" ()) ())
                                                     (:
                                                      (ArgExpr
                                                       (Call
                                                        (Var
                                                         (Ident "min" ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Dot
                                                           (Var
                                                            (Ident "self" ())
                                                            ())
                                                           (Ident "targets" ())
                                                           ())
                                                          ())
                                                         [])
                                                        ())
                                                       ())
                                                      [])
                                                     ())
                                                    ())
                                                   (:
                                                    (Assign
                                                     (:
                                                      (Var
                                                       (Ident "max_wire" ())
                                                       ())
                                                      [])
                                                     (Call
                                                      (Var (Ident "int" ()) ())
                                                      (:
                                                       (ArgExpr
                                                        (Call
                                                         (Var
                                                          (Ident "max" ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Dot
                                                            (Var
                                                             (Ident "self" ())
                                                             ())
                                                            (Ident "targets" ())
                                                            ())
                                                           ())
                                                          [])
                                                         ())
                                                        ())
                                                       [])
                                                      ())
                                                     ())
                                                    (:
                                                     (StmtExpr
                                                      (Call
                                                       (Dot
                                                        (Var
                                                         (Ident "circ_plot" ())
                                                         ())
                                                        (Ident
                                                         "control_line"
                                                         ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Var
                                                          (Ident "gate_idx" ())
                                                          ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "min_wire" ())
                                                           ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident
                                                             "max_wire"
                                                             ())
                                                            ())
                                                           ())
                                                          [])))
                                                       ())
                                                      ())
                                                     (:
                                                      (StmtExpr
                                                       (Call
                                                        (Dot
                                                         (Var
                                                          (Ident "circ_plot" ())
                                                          ())
                                                         (Ident "swap_point" ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "gate_idx" ())
                                                           ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident
                                                             "min_wire"
                                                             ())
                                                            ())
                                                           ())
                                                          []))
                                                        ())
                                                       ())
                                                      (:
                                                       (StmtExpr
                                                        (Call
                                                         (Dot
                                                          (Var
                                                           (Ident
                                                            "circ_plot"
                                                            ())
                                                           ())
                                                          (Ident
                                                           "swap_point"
                                                           ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident
                                                             "gate_idx"
                                                             ())
                                                            ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Var
                                                             (Ident
                                                              "max_wire"
                                                              ())
                                                             ())
                                                            ())
                                                           []))
                                                         ())
                                                        ())
                                                       [])))))
                                                  ())
                                                 (:
                                                  (Fun
                                                   (Ident "_represent_ZGate" ())
                                                   (:
                                                    (Param
                                                     (Ident "self" ())
                                                     Nothing
                                                     Nothing
                                                     ())
                                                    (:
                                                     (Param
                                                      (Ident "basis" ())
                                                      Nothing
                                                      Nothing
                                                      ())
                                                     (:
                                                      (VarArgsKeyword
                                                       (Ident "options" ())
                                                       Nothing
                                                       ())
                                                      [])))
                                                   Nothing
                                                   (:
                                                    (StmtExpr
                                                     (Strings
                                                      (:
                                                       "\"\"\"Represent the SWAP gate in the computational basis.\n\n        The following representation is used to compute this:\n\n        SWAP = |1><1|x|1><1| + |0><0|x|0><0| + |1><0|x|0><1| + |0><1|x|1><0|\n        \"\"\""
                                                       [])
                                                      ())
                                                     ())
                                                    (:
                                                     (Assign
                                                      (:
                                                       (Var
                                                        (Ident "format" ())
                                                        ())
                                                       [])
                                                      (Call
                                                       (Dot
                                                        (Var
                                                         (Ident "options" ())
                                                         ())
                                                        (Ident "get" ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Strings
                                                          (: "'format'" [])
                                                          ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Strings
                                                           (: "'sympy'" [])
                                                           ())
                                                          ())
                                                         []))
                                                       ())
                                                      ())
                                                     (:
                                                      (Assign
                                                       (:
                                                        (Var
                                                         (Ident "targets" ())
                                                         ())
                                                        [])
                                                       (ListComp
                                                        (Comprehension
                                                         (ComprehensionExpr
                                                          (Call
                                                           (Var
                                                            (Ident "int" ())
                                                            ())
                                                           (:
                                                            (ArgExpr
                                                             (Var
                                                              (Ident "t" ())
                                                              ())
                                                             ())
                                                            [])
                                                           ()))
                                                         (CompFor
                                                          False
                                                          (:
                                                           (Var
                                                            (Ident "t" ())
                                                            ())
                                                           [])
                                                          (Dot
                                                           (Var
                                                            (Ident "self" ())
                                                            ())
                                                           (Ident "targets" ())
                                                           ())
                                                          Nothing
                                                          ())
                                                         ())
                                                        ())
                                                       ())
                                                      (:
                                                       (Assign
                                                        (:
                                                         (Var
                                                          (Ident
                                                           "min_target"
                                                           ())
                                                          ())
                                                         [])
                                                        (Call
                                                         (Var
                                                          (Ident "min" ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident "targets" ())
                                                            ())
                                                           ())
                                                          [])
                                                         ())
                                                        ())
                                                       (:
                                                        (Assign
                                                         (:
                                                          (Var
                                                           (Ident
                                                            "max_target"
                                                            ())
                                                           ())
                                                          [])
                                                         (Call
                                                          (Var
                                                           (Ident "max" ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Var
                                                             (Ident
                                                              "targets"
                                                              ())
                                                             ())
                                                            ())
                                                           [])
                                                          ())
                                                         ())
                                                        (:
                                                         (Assign
                                                          (:
                                                           (Var
                                                            (Ident "nqubits" ())
                                                            ())
                                                           [])
                                                          (Call
                                                           (Dot
                                                            (Var
                                                             (Ident
                                                              "options"
                                                              ())
                                                             ())
                                                            (Ident "get" ())
                                                            ())
                                                           (:
                                                            (ArgExpr
                                                             (Strings
                                                              (: "'nqubits'" [])
                                                              ())
                                                             ())
                                                            (:
                                                             (ArgExpr
                                                              (Dot
                                                               (Var
                                                                (Ident
                                                                 "self"
                                                                 ())
                                                                ())
                                                               (Ident
                                                                "min_qubits"
                                                                ())
                                                               ())
                                                              ())
                                                             []))
                                                           ())
                                                          ())
                                                         (:
                                                          (Assign
                                                           (:
                                                            (Var
                                                             (Ident "op01" ())
                                                             ())
                                                            [])
                                                           (Call
                                                            (Dot
                                                             (Var
                                                              (Ident
                                                               "matrix_cache"
                                                               ())
                                                              ())
                                                             (Ident
                                                              "get_matrix"
                                                              ())
                                                             ())
                                                            (:
                                                             (ArgExpr
                                                              (Strings
                                                               (: "'op01'" [])
                                                               ())
                                                              ())
                                                             (:
                                                              (ArgExpr
                                                               (Var
                                                                (Ident
                                                                 "format"
                                                                 ())
                                                                ())
                                                               ())
                                                              []))
                                                            ())
                                                           ())
                                                          (:
                                                           (Assign
                                                            (:
                                                             (Var
                                                              (Ident "op10" ())
                                                              ())
                                                             [])
                                                            (Call
                                                             (Dot
                                                              (Var
                                                               (Ident
                                                                "matrix_cache"
                                                                ())
                                                               ())
                                                              (Ident
                                                               "get_matrix"
                                                               ())
                                                              ())
                                                             (:
                                                              (ArgExpr
                                                               (Strings
                                                                (: "'op10'" [])
                                                                ())
                                                               ())
                                                              (:
                                                               (ArgExpr
                                                                (Var
                                                                 (Ident
                                                                  "format"
                                                                  ())
                                                                 ())
                                                                ())
                                                               []))
                                                             ())
                                                            ())
                                                           (:
                                                            (Assign
                                                             (:
                                                              (Var
                                                               (Ident "op11" ())
                                                               ())
                                                              [])
                                                             (Call
                                                              (Dot
                                                               (Var
                                                                (Ident
                                                                 "matrix_cache"
                                                                 ())
                                                                ())
                                                               (Ident
                                                                "get_matrix"
                                                                ())
                                                               ())
                                                              (:
                                                               (ArgExpr
                                                                (Strings
                                                                 (: "'op11'" [])
                                                                 ())
                                                                ())
                                                               (:
                                                                (ArgExpr
                                                                 (Var
                                                                  (Ident
                                                                   "format"
                                                                   ())
                                                                  ())
                                                                 ())
                                                                []))
                                                              ())
                                                             ())
                                                            (:
                                                             (Assign
                                                              (:
                                                               (Var
                                                                (Ident
                                                                 "op00"
                                                                 ())
                                                                ())
                                                               [])
                                                              (Call
                                                               (Dot
                                                                (Var
                                                                 (Ident
                                                                  "matrix_cache"
                                                                  ())
                                                                 ())
                                                                (Ident
                                                                 "get_matrix"
                                                                 ())
                                                                ())
                                                               (:
                                                                (ArgExpr
                                                                 (Strings
                                                                  (:
                                                                   "'op00'"
                                                                   [])
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgExpr
                                                                  (Var
                                                                   (Ident
                                                                    "format"
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 []))
                                                               ())
                                                              ())
                                                             (:
                                                              (Assign
                                                               (:
                                                                (Var
                                                                 (Ident
                                                                  "eye2"
                                                                  ())
                                                                 ())
                                                                [])
                                                               (Call
                                                                (Dot
                                                                 (Var
                                                                  (Ident
                                                                   "matrix_cache"
                                                                   ())
                                                                  ())
                                                                 (Ident
                                                                  "get_matrix"
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgExpr
                                                                  (Strings
                                                                   (:
                                                                    "'eye2'"
                                                                    [])
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (ArgExpr
                                                                   (Var
                                                                    (Ident
                                                                     "format"
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  []))
                                                                ())
                                                               ())
                                                              (:
                                                               (Assign
                                                                (:
                                                                 (Var
                                                                  (Ident
                                                                   "result"
                                                                   ())
                                                                  ())
                                                                 [])
                                                                (None ())
                                                                ())
                                                               (:
                                                                (For
                                                                 (:
                                                                  (Var
                                                                   (Ident
                                                                    "i"
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (Var
                                                                    (Ident
                                                                     "j"
                                                                     ())
                                                                    ())
                                                                   []))
                                                                 (Paren
                                                                  (Tuple
                                                                   (:
                                                                    (Paren
                                                                     (Tuple
                                                                      (:
                                                                       (Var
                                                                        (Ident
                                                                         "op01"
                                                                         ())
                                                                        ())
                                                                       (:
                                                                        (Var
                                                                         (Ident
                                                                          "op10"
                                                                          ())
                                                                         ())
                                                                        []))
                                                                      ())
                                                                     ())
                                                                    (:
                                                                     (Paren
                                                                      (Tuple
                                                                       (:
                                                                        (Var
                                                                         (Ident
                                                                          "op10"
                                                                          ())
                                                                         ())
                                                                        (:
                                                                         (Var
                                                                          (Ident
                                                                           "op01"
                                                                           ())
                                                                          ())
                                                                         []))
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (Paren
                                                                       (Tuple
                                                                        (:
                                                                         (Var
                                                                          (Ident
                                                                           "op00"
                                                                           ())
                                                                          ())
                                                                         (:
                                                                          (Var
                                                                           (Ident
                                                                            "op00"
                                                                            ())
                                                                           ())
                                                                          []))
                                                                        ())
                                                                       ())
                                                                      (:
                                                                       (Paren
                                                                        (Tuple
                                                                         (:
                                                                          (Var
                                                                           (Ident
                                                                            "op11"
                                                                            ())
                                                                           ())
                                                                          (:
                                                                           (Var
                                                                            (Ident
                                                                             "op11"
                                                                             ())
                                                                            ())
                                                                           []))
                                                                         ())
                                                                        ())
                                                                       []))))
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (Assign
                                                                   (:
                                                                    (Var
                                                                     (Ident
                                                                      "product"
                                                                      ())
                                                                     ())
                                                                    [])
                                                                   (BinaryOp
                                                                    (Multiply
                                                                     ())
                                                                    (Var
                                                                     (Ident
                                                                      "nqubits"
                                                                      ())
                                                                     ())
                                                                    (List
                                                                     (:
                                                                      (Var
                                                                       (Ident
                                                                        "eye2"
                                                                        ())
                                                                       ())
                                                                      [])
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (Assign
                                                                    (:
                                                                     (Subscript
                                                                      (Var
                                                                       (Ident
                                                                        "product"
                                                                        ())
                                                                       ())
                                                                      (BinaryOp
                                                                       (Minus
                                                                        ())
                                                                       (BinaryOp
                                                                        (Minus
                                                                         ())
                                                                        (Var
                                                                         (Ident
                                                                          "nqubits"
                                                                          ())
                                                                         ())
                                                                        (Var
                                                                         (Ident
                                                                          "min_target"
                                                                          ())
                                                                         ())
                                                                        ())
                                                                       (Int
                                                                        1
                                                                        "1"
                                                                        ())
                                                                       ())
                                                                      ())
                                                                     [])
                                                                    (Var
                                                                     (Ident
                                                                      "i"
                                                                      ())
                                                                     ())
                                                                    ())
                                                                   (:
                                                                    (Assign
                                                                     (:
                                                                      (Subscript
                                                                       (Var
                                                                        (Ident
                                                                         "product"
                                                                         ())
                                                                        ())
                                                                       (BinaryOp
                                                                        (Minus
                                                                         ())
                                                                        (BinaryOp
                                                                         (Minus
                                                                          ())
                                                                         (Var
                                                                          (Ident
                                                                           "nqubits"
                                                                           ())
                                                                          ())
                                                                         (Var
                                                                          (Ident
                                                                           "max_target"
                                                                           ())
                                                                          ())
                                                                         ())
                                                                        (Int
                                                                         1
                                                                         "1"
                                                                         ())
                                                                        ())
                                                                       ())
                                                                      [])
                                                                     (Var
                                                                      (Ident
                                                                       "j"
                                                                       ())
                                                                      ())
                                                                     ())
                                                                    (:
                                                                     (Assign
                                                                      (:
                                                                       (Var
                                                                        (Ident
                                                                         "new_result"
                                                                         ())
                                                                        ())
                                                                       [])
                                                                      (Call
                                                                       (Var
                                                                        (Ident
                                                                         "matrix_tensor_product"
                                                                         ())
                                                                        ())
                                                                       (:
                                                                        (ArgVarArgsPos
                                                                         (Var
                                                                          (Ident
                                                                           "product"
                                                                           ())
                                                                          ())
                                                                         ())
                                                                        [])
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (Conditional
                                                                       (:
                                                                        ((,)
                                                                         (BinaryOp
                                                                          (Is
                                                                           ())
                                                                          (Var
                                                                           (Ident
                                                                            "result"
                                                                            ())
                                                                           ())
                                                                          (None
                                                                           ())
                                                                          ())
                                                                         (:
                                                                          (Assign
                                                                           (:
                                                                            (Var
                                                                             (Ident
                                                                              "result"
                                                                              ())
                                                                             ())
                                                                            [])
                                                                           (Var
                                                                            (Ident
                                                                             "new_result"
                                                                             ())
                                                                            ())
                                                                           ())
                                                                          []))
                                                                        [])
                                                                       (:
                                                                        (Assign
                                                                         (:
                                                                          (Var
                                                                           (Ident
                                                                            "result"
                                                                            ())
                                                                           ())
                                                                          [])
                                                                         (BinaryOp
                                                                          (Plus
                                                                           ())
                                                                          (Var
                                                                           (Ident
                                                                            "result"
                                                                            ())
                                                                           ())
                                                                          (Var
                                                                           (Ident
                                                                            "new_result"
                                                                            ())
                                                                           ())
                                                                          ())
                                                                         ())
                                                                        [])
                                                                       ())
                                                                      [])))))
                                                                 []
                                                                 ())
                                                                (:
                                                                 (Return
                                                                  (Just
                                                                   (Var
                                                                    (Ident
                                                                     "result"
                                                                     ())
                                                                    ()))
                                                                  ())
                                                                 []))))))))))))))
                                                   ())
                                                  [])))))))
                                           ())
                                          (:
                                           (Assign
                                            (: (Var (Ident "CNOT" ()) ()) [])
                                            (Var (Ident "CNotGate" ()) ())
                                            ())
                                           (:
                                            (Assign
                                             (: (Var (Ident "SWAP" ()) ()) [])
                                             (Var (Ident "SwapGate" ()) ())
                                             ())
                                            (:
                                             (Fun
                                              (Ident "CPHASE" ())
                                              (:
                                               (Param
                                                (Ident "a" ())
                                                Nothing
                                                Nothing
                                                ())
                                               (:
                                                (Param
                                                 (Ident "b" ())
                                                 Nothing
                                                 Nothing
                                                 ())
                                                []))
                                              Nothing
                                              (:
                                               (Return
                                                (Just
                                                 (Call
                                                  (Var (Ident "CGateS" ()) ())
                                                  (:
                                                   (ArgExpr
                                                    (Paren
                                                     (Tuple
                                                      (:
                                                       (Var (Ident "a" ()) ())
                                                       [])
                                                      ())
                                                     ())
                                                    ())
                                                   (:
                                                    (ArgExpr
                                                     (Call
                                                      (Var (Ident "Z" ()) ())
                                                      (:
                                                       (ArgExpr
                                                        (Var (Ident "b" ()) ())
                                                        ())
                                                       [])
                                                      ())
                                                     ())
                                                    []))
                                                  ()))
                                                ())
                                               [])
                                              ())
                                             (:
                                              (Fun
                                               (Ident "represent_zbasis" ())
                                               (:
                                                (Param
                                                 (Ident "controls" ())
                                                 Nothing
                                                 Nothing
                                                 ())
                                                (:
                                                 (Param
                                                  (Ident "targets" ())
                                                  Nothing
                                                  Nothing
                                                  ())
                                                 (:
                                                  (Param
                                                   (Ident "target_matrix" ())
                                                   Nothing
                                                   Nothing
                                                   ())
                                                  (:
                                                   (Param
                                                    (Ident "nqubits" ())
                                                    Nothing
                                                    Nothing
                                                    ())
                                                   (:
                                                    (Param
                                                     (Ident "format" ())
                                                     Nothing
                                                     (Just
                                                      (Strings
                                                       (: "'sympy'" [])
                                                       ()))
                                                     ())
                                                    [])))))
                                               Nothing
                                               (:
                                                (StmtExpr
                                                 (Strings
                                                  (:
                                                   "\"\"\"Represent a gate with controls, targets and target_matrix.\n\n    This function does the low-level work of representing gates as matrices\n    in the standard computational basis (ZGate). Currently, we support two\n    main cases:\n\n    1. One target qubit and no control qubits.\n    2. One target qubits and multiple control qubits.\n\n    For the base of multiple controls, we use the following expression [1]:\n\n    1_{2**n} + (|1><1|)^{(n-1)} x (target-matrix - 1_{2})\n\n    Parameters\n    ----------\n    controls : list, tuple\n        A sequence of control qubits.\n    targets : list, tuple\n        A sequence of target qubits.\n    target_matrix : sympy.Matrix, numpy.matrix, scipy.sparse\n        The matrix form of the transformation to be performed on the target\n        qubits.  The format of this matrix must match that passed into\n        the `format` argument.\n    nqubits : int\n        The total number of qubits used for the representation.\n    format : str\n        The format of the final matrix ('sympy', 'numpy', 'scipy.sparse').\n\n    Examples\n    --------\n\n    References\n    ----------\n    [1] http://www.johnlapeyre.com/qinf/qinf_html/node6.html.\n    \"\"\""
                                                   [])
                                                  ())
                                                 ())
                                                (:
                                                 (Assign
                                                  (:
                                                   (Var
                                                    (Ident "controls" ())
                                                    ())
                                                   [])
                                                  (ListComp
                                                   (Comprehension
                                                    (ComprehensionExpr
                                                     (Call
                                                      (Var (Ident "int" ()) ())
                                                      (:
                                                       (ArgExpr
                                                        (Var (Ident "x" ()) ())
                                                        ())
                                                       [])
                                                      ()))
                                                    (CompFor
                                                     False
                                                     (:
                                                      (Var (Ident "x" ()) ())
                                                      [])
                                                     (Var
                                                      (Ident "controls" ())
                                                      ())
                                                     Nothing
                                                     ())
                                                    ())
                                                   ())
                                                  ())
                                                 (:
                                                  (Assign
                                                   (:
                                                    (Var
                                                     (Ident "targets" ())
                                                     ())
                                                    [])
                                                   (ListComp
                                                    (Comprehension
                                                     (ComprehensionExpr
                                                      (Call
                                                       (Var (Ident "int" ()) ())
                                                       (:
                                                        (ArgExpr
                                                         (Var (Ident "x" ()) ())
                                                         ())
                                                        [])
                                                       ()))
                                                     (CompFor
                                                      False
                                                      (:
                                                       (Var (Ident "x" ()) ())
                                                       [])
                                                      (Var
                                                       (Ident "targets" ())
                                                       ())
                                                      Nothing
                                                      ())
                                                     ())
                                                    ())
                                                   ())
                                                  (:
                                                   (Assign
                                                    (:
                                                     (Var
                                                      (Ident "nqubits" ())
                                                      ())
                                                     [])
                                                    (Call
                                                     (Var (Ident "int" ()) ())
                                                     (:
                                                      (ArgExpr
                                                       (Var
                                                        (Ident "nqubits" ())
                                                        ())
                                                       ())
                                                      [])
                                                     ())
                                                    ())
                                                   (:
                                                    (Assign
                                                     (:
                                                      (Var (Ident "op11" ()) ())
                                                      [])
                                                     (Call
                                                      (Dot
                                                       (Var
                                                        (Ident
                                                         "matrix_cache"
                                                         ())
                                                        ())
                                                       (Ident "get_matrix" ())
                                                       ())
                                                      (:
                                                       (ArgExpr
                                                        (Strings
                                                         (: "'op11'" [])
                                                         ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Var
                                                          (Ident "format" ())
                                                          ())
                                                         ())
                                                        []))
                                                      ())
                                                     ())
                                                    (:
                                                     (Assign
                                                      (:
                                                       (Var
                                                        (Ident "eye2" ())
                                                        ())
                                                       [])
                                                      (Call
                                                       (Dot
                                                        (Var
                                                         (Ident
                                                          "matrix_cache"
                                                          ())
                                                         ())
                                                        (Ident "get_matrix" ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Strings
                                                          (: "'eye2'" [])
                                                          ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "format" ())
                                                           ())
                                                          ())
                                                         []))
                                                       ())
                                                      ())
                                                     (:
                                                      (Conditional
                                                       (:
                                                        ((,)
                                                         (BinaryOp
                                                          (And ())
                                                          (BinaryOp
                                                           (Equality ())
                                                           (Call
                                                            (Var
                                                             (Ident "len" ())
                                                             ())
                                                            (:
                                                             (ArgExpr
                                                              (Var
                                                               (Ident
                                                                "controls"
                                                                ())
                                                               ())
                                                              ())
                                                             [])
                                                            ())
                                                           (Int 0 "0" ())
                                                           ())
                                                          (BinaryOp
                                                           (Equality ())
                                                           (Call
                                                            (Var
                                                             (Ident "len" ())
                                                             ())
                                                            (:
                                                             (ArgExpr
                                                              (Var
                                                               (Ident
                                                                "targets"
                                                                ())
                                                               ())
                                                              ())
                                                             [])
                                                            ())
                                                           (Int 1 "1" ())
                                                           ())
                                                          ())
                                                         (:
                                                          (Assign
                                                           (:
                                                            (Var
                                                             (Ident
                                                              "product"
                                                              ())
                                                             ())
                                                            [])
                                                           (List [] ())
                                                           ())
                                                          (:
                                                           (Assign
                                                            (:
                                                             (Var
                                                              (Ident "bit" ())
                                                              ())
                                                             [])
                                                            (Subscript
                                                             (Var
                                                              (Ident
                                                               "targets"
                                                               ())
                                                              ())
                                                             (Int 0 "0" ())
                                                             ())
                                                            ())
                                                           (:
                                                            (Conditional
                                                             (:
                                                              ((,)
                                                               (BinaryOp
                                                                (NotEquals ())
                                                                (Var
                                                                 (Ident
                                                                  "bit"
                                                                  ())
                                                                 ())
                                                                (BinaryOp
                                                                 (Minus ())
                                                                 (Var
                                                                  (Ident
                                                                   "nqubits"
                                                                   ())
                                                                  ())
                                                                 (Int 1 "1" ())
                                                                 ())
                                                                ())
                                                               (:
                                                                (StmtExpr
                                                                 (Call
                                                                  (Dot
                                                                   (Var
                                                                    (Ident
                                                                     "product"
                                                                     ())
                                                                    ())
                                                                   (Ident
                                                                    "append"
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (ArgExpr
                                                                    (Call
                                                                     (Var
                                                                      (Ident
                                                                       "matrix_eye"
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (ArgExpr
                                                                       (BinaryOp
                                                                        (Exponent
                                                                         ())
                                                                        (Int
                                                                         2
                                                                         "2"
                                                                         ())
                                                                        (Paren
                                                                         (BinaryOp
                                                                          (Minus
                                                                           ())
                                                                          (BinaryOp
                                                                           (Minus
                                                                            ())
                                                                           (Var
                                                                            (Ident
                                                                             "nqubits"
                                                                             ())
                                                                            ())
                                                                           (Var
                                                                            (Ident
                                                                             "bit"
                                                                             ())
                                                                            ())
                                                                           ())
                                                                          (Int
                                                                           1
                                                                           "1"
                                                                           ())
                                                                          ())
                                                                         ())
                                                                        ())
                                                                       ())
                                                                      (:
                                                                       (ArgKeyword
                                                                        (Ident
                                                                         "format"
                                                                         ())
                                                                        (Var
                                                                         (Ident
                                                                          "format"
                                                                          ())
                                                                         ())
                                                                        ())
                                                                       []))
                                                                     ())
                                                                    ())
                                                                   [])
                                                                  ())
                                                                 ())
                                                                []))
                                                              [])
                                                             []
                                                             ())
                                                            (:
                                                             (StmtExpr
                                                              (Call
                                                               (Dot
                                                                (Var
                                                                 (Ident
                                                                  "product"
                                                                  ())
                                                                 ())
                                                                (Ident
                                                                 "append"
                                                                 ())
                                                                ())
                                                               (:
                                                                (ArgExpr
                                                                 (Var
                                                                  (Ident
                                                                   "target_matrix"
                                                                   ())
                                                                  ())
                                                                 ())
                                                                [])
                                                               ())
                                                              ())
                                                             (:
                                                              (Conditional
                                                               (:
                                                                ((,)
                                                                 (BinaryOp
                                                                  (NotEquals ())
                                                                  (Var
                                                                   (Ident
                                                                    "bit"
                                                                    ())
                                                                   ())
                                                                  (Int 0 "0" ())
                                                                  ())
                                                                 (:
                                                                  (StmtExpr
                                                                   (Call
                                                                    (Dot
                                                                     (Var
                                                                      (Ident
                                                                       "product"
                                                                       ())
                                                                      ())
                                                                     (Ident
                                                                      "append"
                                                                      ())
                                                                     ())
                                                                    (:
                                                                     (ArgExpr
                                                                      (Call
                                                                       (Var
                                                                        (Ident
                                                                         "matrix_eye"
                                                                         ())
                                                                        ())
                                                                       (:
                                                                        (ArgExpr
                                                                         (BinaryOp
                                                                          (Exponent
                                                                           ())
                                                                          (Int
                                                                           2
                                                                           "2"
                                                                           ())
                                                                          (Var
                                                                           (Ident
                                                                            "bit"
                                                                            ())
                                                                           ())
                                                                          ())
                                                                         ())
                                                                        (:
                                                                         (ArgKeyword
                                                                          (Ident
                                                                           "format"
                                                                           ())
                                                                          (Var
                                                                           (Ident
                                                                            "format"
                                                                            ())
                                                                           ())
                                                                          ())
                                                                         []))
                                                                       ())
                                                                      ())
                                                                     [])
                                                                    ())
                                                                   ())
                                                                  []))
                                                                [])
                                                               []
                                                               ())
                                                              (:
                                                               (Return
                                                                (Just
                                                                 (Call
                                                                  (Var
                                                                   (Ident
                                                                    "matrix_tensor_product"
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (ArgVarArgsPos
                                                                    (Var
                                                                     (Ident
                                                                      "product"
                                                                      ())
                                                                     ())
                                                                    ())
                                                                   [])
                                                                  ()))
                                                                ())
                                                               [])))))))
                                                        (:
                                                         ((,)
                                                          (BinaryOp
                                                           (And ())
                                                           (BinaryOp
                                                            (Equality ())
                                                            (Call
                                                             (Var
                                                              (Ident "len" ())
                                                              ())
                                                             (:
                                                              (ArgExpr
                                                               (Var
                                                                (Ident
                                                                 "targets"
                                                                 ())
                                                                ())
                                                               ())
                                                              [])
                                                             ())
                                                            (Int 1 "1" ())
                                                            ())
                                                           (BinaryOp
                                                            (GreaterThanEquals
                                                             ())
                                                            (Call
                                                             (Var
                                                              (Ident "len" ())
                                                              ())
                                                             (:
                                                              (ArgExpr
                                                               (Var
                                                                (Ident
                                                                 "controls"
                                                                 ())
                                                                ())
                                                               ())
                                                              [])
                                                             ())
                                                            (Int 1 "1" ())
                                                            ())
                                                           ())
                                                          (:
                                                           (Assign
                                                            (:
                                                             (Var
                                                              (Ident
                                                               "target"
                                                               ())
                                                              ())
                                                             [])
                                                            (Subscript
                                                             (Var
                                                              (Ident
                                                               "targets"
                                                               ())
                                                              ())
                                                             (Int 0 "0" ())
                                                             ())
                                                            ())
                                                           (:
                                                            (Assign
                                                             (:
                                                              (Var
                                                               (Ident
                                                                "product2"
                                                                ())
                                                               ())
                                                              [])
                                                             (List [] ())
                                                             ())
                                                            (:
                                                             (For
                                                              (:
                                                               (Var
                                                                (Ident "i" ())
                                                                ())
                                                               [])
                                                              (Call
                                                               (Var
                                                                (Ident
                                                                 "range"
                                                                 ())
                                                                ())
                                                               (:
                                                                (ArgExpr
                                                                 (Var
                                                                  (Ident
                                                                   "nqubits"
                                                                   ())
                                                                  ())
                                                                 ())
                                                                [])
                                                               ())
                                                              (:
                                                               (StmtExpr
                                                                (Call
                                                                 (Dot
                                                                  (Var
                                                                   (Ident
                                                                    "product2"
                                                                    ())
                                                                   ())
                                                                  (Ident
                                                                   "append"
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (ArgExpr
                                                                   (Call
                                                                    (Var
                                                                     (Ident
                                                                      "matrix_eye"
                                                                      ())
                                                                     ())
                                                                    (:
                                                                     (ArgExpr
                                                                      (Int
                                                                       2
                                                                       "2"
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (ArgKeyword
                                                                       (Ident
                                                                        "format"
                                                                        ())
                                                                       (Var
                                                                        (Ident
                                                                         "format"
                                                                         ())
                                                                        ())
                                                                       ())
                                                                      []))
                                                                    ())
                                                                   ())
                                                                  [])
                                                                 ())
                                                                ())
                                                               [])
                                                              []
                                                              ())
                                                             (:
                                                              (For
                                                               (:
                                                                (Var
                                                                 (Ident
                                                                  "control"
                                                                  ())
                                                                 ())
                                                                [])
                                                               (Var
                                                                (Ident
                                                                 "controls"
                                                                 ())
                                                                ())
                                                               (:
                                                                (Assign
                                                                 (:
                                                                  (Subscript
                                                                   (Var
                                                                    (Ident
                                                                     "product2"
                                                                     ())
                                                                    ())
                                                                   (BinaryOp
                                                                    (Minus ())
                                                                    (BinaryOp
                                                                     (Minus ())
                                                                     (Var
                                                                      (Ident
                                                                       "nqubits"
                                                                       ())
                                                                      ())
                                                                     (Int
                                                                      1
                                                                      "1"
                                                                      ())
                                                                     ())
                                                                    (Var
                                                                     (Ident
                                                                      "control"
                                                                      ())
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  [])
                                                                 (Var
                                                                  (Ident
                                                                   "op11"
                                                                   ())
                                                                  ())
                                                                 ())
                                                                [])
                                                               []
                                                               ())
                                                              (:
                                                               (Assign
                                                                (:
                                                                 (Subscript
                                                                  (Var
                                                                   (Ident
                                                                    "product2"
                                                                    ())
                                                                   ())
                                                                  (BinaryOp
                                                                   (Minus ())
                                                                   (BinaryOp
                                                                    (Minus ())
                                                                    (Var
                                                                     (Ident
                                                                      "nqubits"
                                                                      ())
                                                                     ())
                                                                    (Int
                                                                     1
                                                                     "1"
                                                                     ())
                                                                    ())
                                                                   (Var
                                                                    (Ident
                                                                     "target"
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 [])
                                                                (BinaryOp
                                                                 (Minus ())
                                                                 (Var
                                                                  (Ident
                                                                   "target_matrix"
                                                                   ())
                                                                  ())
                                                                 (Var
                                                                  (Ident
                                                                   "eye2"
                                                                   ())
                                                                  ())
                                                                 ())
                                                                ())
                                                               (:
                                                                (Return
                                                                 (Just
                                                                  (BinaryOp
                                                                   (Plus ())
                                                                   (Call
                                                                    (Var
                                                                     (Ident
                                                                      "matrix_eye"
                                                                      ())
                                                                     ())
                                                                    (:
                                                                     (ArgExpr
                                                                      (BinaryOp
                                                                       (Exponent
                                                                        ())
                                                                       (Int
                                                                        2
                                                                        "2"
                                                                        ())
                                                                       (Var
                                                                        (Ident
                                                                         "nqubits"
                                                                         ())
                                                                        ())
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (ArgKeyword
                                                                       (Ident
                                                                        "format"
                                                                        ())
                                                                       (Var
                                                                        (Ident
                                                                         "format"
                                                                         ())
                                                                        ())
                                                                       ())
                                                                      []))
                                                                    ())
                                                                   (Call
                                                                    (Var
                                                                     (Ident
                                                                      "matrix_tensor_product"
                                                                      ())
                                                                     ())
                                                                    (:
                                                                     (ArgVarArgsPos
                                                                      (Var
                                                                       (Ident
                                                                        "product2"
                                                                        ())
                                                                       ())
                                                                      ())
                                                                     [])
                                                                    ())
                                                                   ()))
                                                                 ())
                                                                [])))))))
                                                         []))
                                                       (:
                                                        (Raise
                                                         (RaiseV3
                                                          (Just
                                                           ((,)
                                                            (Call
                                                             (Var
                                                              (Ident
                                                               "NotImplementedError"
                                                               ())
                                                              ())
                                                             (:
                                                              (ArgExpr
                                                               (Strings
                                                                (:
                                                                 "'The representation of multi-target, multi-control gates '"
                                                                 (:
                                                                  "'is not implemented.'"
                                                                  []))
                                                                ())
                                                               ())
                                                              [])
                                                             ())
                                                            Nothing)))
                                                         ())
                                                        [])
                                                       ())
                                                      [])))))))
                                               ())
                                              (:
                                               (Fun
                                                (Ident "gate_simp" ())
                                                (:
                                                 (Param
                                                  (Ident "circuit" ())
                                                  Nothing
                                                  Nothing
                                                  ())
                                                 [])
                                                Nothing
                                                (:
                                                 (StmtExpr
                                                  (Strings
                                                   (:
                                                    "\"\"\"Simplifies gates symbolically\n\n    It first sorts gates using gate_sort. It then applies basic\n    simplification rules to the circuit, e.g., XGate**2 = Identity\n    \"\"\""
                                                    [])
                                                   ())
                                                  ())
                                                 (:
                                                  (Assign
                                                   (:
                                                    (Var
                                                     (Ident "circuit" ())
                                                     ())
                                                    [])
                                                   (Call
                                                    (Var
                                                     (Ident "gate_sort" ())
                                                     ())
                                                    (:
                                                     (ArgExpr
                                                      (Var
                                                       (Ident "circuit" ())
                                                       ())
                                                      ())
                                                     [])
                                                    ())
                                                   ())
                                                  (:
                                                   (Conditional
                                                    (:
                                                     ((,)
                                                      (Call
                                                       (Var
                                                        (Ident "isinstance" ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Var
                                                          (Ident "circuit" ())
                                                          ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "Add" ())
                                                           ())
                                                          ())
                                                         []))
                                                       ())
                                                      (:
                                                       (Return
                                                        (Just
                                                         (Call
                                                          (Var
                                                           (Ident "sum" ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Generator
                                                             (Comprehension
                                                              (ComprehensionExpr
                                                               (Call
                                                                (Var
                                                                 (Ident
                                                                  "gate_simp"
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgExpr
                                                                  (Var
                                                                   (Ident
                                                                    "t"
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 [])
                                                                ()))
                                                              (CompFor
                                                               False
                                                               (:
                                                                (Var
                                                                 (Ident "t" ())
                                                                 ())
                                                                [])
                                                               (Dot
                                                                (Var
                                                                 (Ident
                                                                  "circuit"
                                                                  ())
                                                                 ())
                                                                (Ident
                                                                 "args"
                                                                 ())
                                                                ())
                                                               Nothing
                                                               ())
                                                              ())
                                                             ())
                                                            ())
                                                           [])
                                                          ()))
                                                        ())
                                                       []))
                                                     (:
                                                      ((,)
                                                       (Call
                                                        (Var
                                                         (Ident "isinstance" ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "circuit" ())
                                                           ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident "Mul" ())
                                                            ())
                                                           ())
                                                          []))
                                                        ())
                                                       (:
                                                        (Assign
                                                         (:
                                                          (Var
                                                           (Ident
                                                            "circuit_args"
                                                            ())
                                                           ())
                                                          [])
                                                         (Dot
                                                          (Var
                                                           (Ident "circuit" ())
                                                           ())
                                                          (Ident "args" ())
                                                          ())
                                                         ())
                                                        []))
                                                      (:
                                                       ((,)
                                                        (Call
                                                         (Var
                                                          (Ident
                                                           "isinstance"
                                                           ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident "circuit" ())
                                                            ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Var
                                                             (Ident "Pow" ())
                                                             ())
                                                            ())
                                                           []))
                                                         ())
                                                        (:
                                                         (Assign
                                                          (:
                                                           (Tuple
                                                            (:
                                                             (Var
                                                              (Ident "b" ())
                                                              ())
                                                             (:
                                                              (Var
                                                               (Ident "e" ())
                                                               ())
                                                              []))
                                                            ())
                                                           [])
                                                          (Call
                                                           (Dot
                                                            (Var
                                                             (Ident
                                                              "circuit"
                                                              ())
                                                             ())
                                                            (Ident
                                                             "as_base_exp"
                                                             ())
                                                            ())
                                                           []
                                                           ())
                                                          ())
                                                         (:
                                                          (Assign
                                                           (:
                                                            (Var
                                                             (Ident
                                                              "circuit_args"
                                                              ())
                                                             ())
                                                            [])
                                                           (Paren
                                                            (Tuple
                                                             (:
                                                              (BinaryOp
                                                               (Exponent ())
                                                               (Call
                                                                (Var
                                                                 (Ident
                                                                  "gate_simp"
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgExpr
                                                                  (Var
                                                                   (Ident
                                                                    "b"
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 [])
                                                                ())
                                                               (Var
                                                                (Ident "e" ())
                                                                ())
                                                               ())
                                                              [])
                                                             ())
                                                            ())
                                                           ())
                                                          [])))
                                                       [])))
                                                    (:
                                                     (Return
                                                      (Just
                                                       (Var
                                                        (Ident "circuit" ())
                                                        ()))
                                                      ())
                                                     [])
                                                    ())
                                                   (:
                                                    (For
                                                     (:
                                                      (Var (Ident "i" ()) ())
                                                      [])
                                                     (Call
                                                      (Var
                                                       (Ident "xrange" ())
                                                       ())
                                                      (:
                                                       (ArgExpr
                                                        (Call
                                                         (Var
                                                          (Ident "len" ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident
                                                             "circuit_args"
                                                             ())
                                                            ())
                                                           ())
                                                          [])
                                                         ())
                                                        ())
                                                       [])
                                                      ())
                                                     (:
                                                      (Conditional
                                                       (:
                                                        ((,)
                                                         (Call
                                                          (Var
                                                           (Ident
                                                            "isinstance"
                                                            ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Subscript
                                                             (Var
                                                              (Ident
                                                               "circuit_args"
                                                               ())
                                                              ())
                                                             (Var
                                                              (Ident "i" ())
                                                              ())
                                                             ())
                                                            ())
                                                           (:
                                                            (ArgExpr
                                                             (Var
                                                              (Ident "Pow" ())
                                                              ())
                                                             ())
                                                            []))
                                                          ())
                                                         (:
                                                          (Conditional
                                                           (:
                                                            ((,)
                                                             (BinaryOp
                                                              (And ())
                                                              (Call
                                                               (Var
                                                                (Ident
                                                                 "isinstance"
                                                                 ())
                                                                ())
                                                               (:
                                                                (ArgExpr
                                                                 (Dot
                                                                  (Subscript
                                                                   (Var
                                                                    (Ident
                                                                     "circuit_args"
                                                                     ())
                                                                    ())
                                                                   (Var
                                                                    (Ident
                                                                     "i"
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  (Ident
                                                                   "base"
                                                                   ())
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgExpr
                                                                  (Paren
                                                                   (Tuple
                                                                    (:
                                                                     (Var
                                                                      (Ident
                                                                       "HadamardGate"
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (Var
                                                                       (Ident
                                                                        "XGate"
                                                                        ())
                                                                       ())
                                                                      (:
                                                                       (Var
                                                                        (Ident
                                                                         "YGate"
                                                                         ())
                                                                        ())
                                                                       (:
                                                                        (Var
                                                                         (Ident
                                                                          "ZGate"
                                                                          ())
                                                                         ())
                                                                        []))))
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 []))
                                                               ())
                                                              (Call
                                                               (Var
                                                                (Ident
                                                                 "isinstance"
                                                                 ())
                                                                ())
                                                               (:
                                                                (ArgExpr
                                                                 (Dot
                                                                  (Subscript
                                                                   (Var
                                                                    (Ident
                                                                     "circuit_args"
                                                                     ())
                                                                    ())
                                                                   (Var
                                                                    (Ident
                                                                     "i"
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  (Ident
                                                                   "exp"
                                                                   ())
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgExpr
                                                                  (Var
                                                                   (Ident
                                                                    "Number"
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 []))
                                                               ())
                                                              ())
                                                             (:
                                                              (Assign
                                                               (:
                                                                (Var
                                                                 (Ident
                                                                  "newargs"
                                                                  ())
                                                                 ())
                                                                [])
                                                               (Paren
                                                                (BinaryOp
                                                                 (Plus ())
                                                                 (BinaryOp
                                                                  (Plus ())
                                                                  (SlicedExpr
                                                                   (Var
                                                                    (Ident
                                                                     "circuit_args"
                                                                     ())
                                                                    ())
                                                                   (:
                                                                    (SliceProper
                                                                     Nothing
                                                                     (Just
                                                                      (Var
                                                                       (Ident
                                                                        "i"
                                                                        ())
                                                                       ()))
                                                                     Nothing
                                                                     ())
                                                                    [])
                                                                   ())
                                                                  (Paren
                                                                   (Tuple
                                                                    (:
                                                                     (BinaryOp
                                                                      (Exponent
                                                                       ())
                                                                      (Dot
                                                                       (Subscript
                                                                        (Var
                                                                         (Ident
                                                                          "circuit_args"
                                                                          ())
                                                                         ())
                                                                        (Var
                                                                         (Ident
                                                                          "i"
                                                                          ())
                                                                         ())
                                                                        ())
                                                                       (Ident
                                                                        "base"
                                                                        ())
                                                                       ())
                                                                      (Paren
                                                                       (BinaryOp
                                                                        (Modulo
                                                                         ())
                                                                        (Dot
                                                                         (Subscript
                                                                          (Var
                                                                           (Ident
                                                                            "circuit_args"
                                                                            ())
                                                                           ())
                                                                          (Var
                                                                           (Ident
                                                                            "i"
                                                                            ())
                                                                           ())
                                                                          ())
                                                                         (Ident
                                                                          "exp"
                                                                          ())
                                                                         ())
                                                                        (Int
                                                                         2
                                                                         "2"
                                                                         ())
                                                                        ())
                                                                       ())
                                                                      ())
                                                                     [])
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 (SlicedExpr
                                                                  (Var
                                                                   (Ident
                                                                    "circuit_args"
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (SliceProper
                                                                    (Just
                                                                     (BinaryOp
                                                                      (Plus ())
                                                                      (Var
                                                                       (Ident
                                                                        "i"
                                                                        ())
                                                                       ())
                                                                      (Int
                                                                       1
                                                                       "1"
                                                                       ())
                                                                      ()))
                                                                    Nothing
                                                                    Nothing
                                                                    ())
                                                                   [])
                                                                  ())
                                                                 ())
                                                                ())
                                                               ())
                                                              (:
                                                               (Assign
                                                                (:
                                                                 (Var
                                                                  (Ident
                                                                   "circuit"
                                                                   ())
                                                                  ())
                                                                 [])
                                                                (Call
                                                                 (Var
                                                                  (Ident
                                                                   "gate_simp"
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (ArgExpr
                                                                   (Call
                                                                    (Var
                                                                     (Ident
                                                                      "Mul"
                                                                      ())
                                                                     ())
                                                                    (:
                                                                     (ArgVarArgsPos
                                                                      (Var
                                                                       (Ident
                                                                        "newargs"
                                                                        ())
                                                                       ())
                                                                      ())
                                                                     [])
                                                                    ())
                                                                   ())
                                                                  [])
                                                                 ())
                                                                ())
                                                               (:
                                                                (Break ())
                                                                []))))
                                                            (:
                                                             ((,)
                                                              (Call
                                                               (Var
                                                                (Ident
                                                                 "isinstance"
                                                                 ())
                                                                ())
                                                               (:
                                                                (ArgExpr
                                                                 (Dot
                                                                  (Subscript
                                                                   (Var
                                                                    (Ident
                                                                     "circuit_args"
                                                                     ())
                                                                    ())
                                                                   (Var
                                                                    (Ident
                                                                     "i"
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  (Ident
                                                                   "base"
                                                                   ())
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgExpr
                                                                  (Var
                                                                   (Ident
                                                                    "PhaseGate"
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 []))
                                                               ())
                                                              (:
                                                               (Assign
                                                                (:
                                                                 (Var
                                                                  (Ident
                                                                   "newargs"
                                                                   ())
                                                                  ())
                                                                 [])
                                                                (SlicedExpr
                                                                 (Var
                                                                  (Ident
                                                                   "circuit_args"
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (SliceProper
                                                                   Nothing
                                                                   (Just
                                                                    (Var
                                                                     (Ident
                                                                      "i"
                                                                      ())
                                                                     ()))
                                                                   Nothing
                                                                   ())
                                                                  [])
                                                                 ())
                                                                ())
                                                               (:
                                                                (Assign
                                                                 (:
                                                                  (Var
                                                                   (Ident
                                                                    "newargs"
                                                                    ())
                                                                   ())
                                                                  [])
                                                                 (BinaryOp
                                                                  (Plus ())
                                                                  (Var
                                                                   (Ident
                                                                    "newargs"
                                                                    ())
                                                                   ())
                                                                  (Paren
                                                                   (Tuple
                                                                    (:
                                                                     (BinaryOp
                                                                      (Exponent
                                                                       ())
                                                                      (Call
                                                                       (Var
                                                                        (Ident
                                                                         "ZGate"
                                                                         ())
                                                                        ())
                                                                       (:
                                                                        (ArgExpr
                                                                         (Subscript
                                                                          (Dot
                                                                           (Dot
                                                                            (Subscript
                                                                             (Var
                                                                              (Ident
                                                                               "circuit_args"
                                                                               ())
                                                                              ())
                                                                             (Var
                                                                              (Ident
                                                                               "i"
                                                                               ())
                                                                              ())
                                                                             ())
                                                                            (Ident
                                                                             "base"
                                                                             ())
                                                                            ())
                                                                           (Ident
                                                                            "args"
                                                                            ())
                                                                           ())
                                                                          (Int
                                                                           0
                                                                           "0"
                                                                           ())
                                                                          ())
                                                                         ())
                                                                        [])
                                                                       ())
                                                                      (Paren
                                                                       (Call
                                                                        (Var
                                                                         (Ident
                                                                          "Integer"
                                                                          ())
                                                                         ())
                                                                        (:
                                                                         (ArgExpr
                                                                          (BinaryOp
                                                                           (Divide
                                                                            ())
                                                                           (Dot
                                                                            (Subscript
                                                                             (Var
                                                                              (Ident
                                                                               "circuit_args"
                                                                               ())
                                                                              ())
                                                                             (Var
                                                                              (Ident
                                                                               "i"
                                                                               ())
                                                                              ())
                                                                             ())
                                                                            (Ident
                                                                             "exp"
                                                                             ())
                                                                            ())
                                                                           (Int
                                                                            2
                                                                            "2"
                                                                            ())
                                                                           ())
                                                                          ())
                                                                         [])
                                                                        ())
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (BinaryOp
                                                                       (Exponent
                                                                        ())
                                                                       (Dot
                                                                        (Subscript
                                                                         (Var
                                                                          (Ident
                                                                           "circuit_args"
                                                                           ())
                                                                          ())
                                                                         (Var
                                                                          (Ident
                                                                           "i"
                                                                           ())
                                                                          ())
                                                                         ())
                                                                        (Ident
                                                                         "base"
                                                                         ())
                                                                        ())
                                                                       (Paren
                                                                        (BinaryOp
                                                                         (Modulo
                                                                          ())
                                                                         (Dot
                                                                          (Subscript
                                                                           (Var
                                                                            (Ident
                                                                             "circuit_args"
                                                                             ())
                                                                            ())
                                                                           (Var
                                                                            (Ident
                                                                             "i"
                                                                             ())
                                                                            ())
                                                                           ())
                                                                          (Ident
                                                                           "exp"
                                                                           ())
                                                                          ())
                                                                         (Int
                                                                          2
                                                                          "2"
                                                                          ())
                                                                         ())
                                                                        ())
                                                                       ())
                                                                      []))
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (Assign
                                                                  (:
                                                                   (Var
                                                                    (Ident
                                                                     "newargs"
                                                                     ())
                                                                    ())
                                                                   [])
                                                                  (BinaryOp
                                                                   (Plus ())
                                                                   (Var
                                                                    (Ident
                                                                     "newargs"
                                                                     ())
                                                                    ())
                                                                   (SlicedExpr
                                                                    (Var
                                                                     (Ident
                                                                      "circuit_args"
                                                                      ())
                                                                     ())
                                                                    (:
                                                                     (SliceProper
                                                                      (Just
                                                                       (BinaryOp
                                                                        (Plus
                                                                         ())
                                                                        (Var
                                                                         (Ident
                                                                          "i"
                                                                          ())
                                                                         ())
                                                                        (Int
                                                                         1
                                                                         "1"
                                                                         ())
                                                                        ()))
                                                                      Nothing
                                                                      Nothing
                                                                      ())
                                                                     [])
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (Assign
                                                                   (:
                                                                    (Var
                                                                     (Ident
                                                                      "circuit"
                                                                      ())
                                                                     ())
                                                                    [])
                                                                   (Call
                                                                    (Var
                                                                     (Ident
                                                                      "gate_simp"
                                                                      ())
                                                                     ())
                                                                    (:
                                                                     (ArgExpr
                                                                      (Call
                                                                       (Var
                                                                        (Ident
                                                                         "Mul"
                                                                         ())
                                                                        ())
                                                                       (:
                                                                        (ArgVarArgsPos
                                                                         (Var
                                                                          (Ident
                                                                           "newargs"
                                                                           ())
                                                                          ())
                                                                         ())
                                                                        [])
                                                                       ())
                                                                      ())
                                                                     [])
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (Break ())
                                                                   []))))))
                                                             (:
                                                              ((,)
                                                               (Call
                                                                (Var
                                                                 (Ident
                                                                  "isinstance"
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgExpr
                                                                  (Dot
                                                                   (Subscript
                                                                    (Var
                                                                     (Ident
                                                                      "circuit_args"
                                                                      ())
                                                                     ())
                                                                    (Var
                                                                     (Ident
                                                                      "i"
                                                                      ())
                                                                     ())
                                                                    ())
                                                                   (Ident
                                                                    "base"
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (ArgExpr
                                                                   (Var
                                                                    (Ident
                                                                     "TGate"
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  []))
                                                                ())
                                                               (:
                                                                (Assign
                                                                 (:
                                                                  (Var
                                                                   (Ident
                                                                    "newargs"
                                                                    ())
                                                                   ())
                                                                  [])
                                                                 (SlicedExpr
                                                                  (Var
                                                                   (Ident
                                                                    "circuit_args"
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (SliceProper
                                                                    Nothing
                                                                    (Just
                                                                     (Var
                                                                      (Ident
                                                                       "i"
                                                                       ())
                                                                      ()))
                                                                    Nothing
                                                                    ())
                                                                   [])
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (Assign
                                                                  (:
                                                                   (Var
                                                                    (Ident
                                                                     "newargs"
                                                                     ())
                                                                    ())
                                                                   [])
                                                                  (BinaryOp
                                                                   (Plus ())
                                                                   (Var
                                                                    (Ident
                                                                     "newargs"
                                                                     ())
                                                                    ())
                                                                   (Paren
                                                                    (Tuple
                                                                     (:
                                                                      (BinaryOp
                                                                       (Exponent
                                                                        ())
                                                                       (Call
                                                                        (Var
                                                                         (Ident
                                                                          "PhaseGate"
                                                                          ())
                                                                         ())
                                                                        (:
                                                                         (ArgExpr
                                                                          (Subscript
                                                                           (Dot
                                                                            (Dot
                                                                             (Subscript
                                                                              (Var
                                                                               (Ident
                                                                                "circuit_args"
                                                                                ())
                                                                               ())
                                                                              (Var
                                                                               (Ident
                                                                                "i"
                                                                                ())
                                                                               ())
                                                                              ())
                                                                             (Ident
                                                                              "base"
                                                                              ())
                                                                             ())
                                                                            (Ident
                                                                             "args"
                                                                             ())
                                                                            ())
                                                                           (Int
                                                                            0
                                                                            "0"
                                                                            ())
                                                                           ())
                                                                          ())
                                                                         [])
                                                                        ())
                                                                       (Call
                                                                        (Var
                                                                         (Ident
                                                                          "Integer"
                                                                          ())
                                                                         ())
                                                                        (:
                                                                         (ArgExpr
                                                                          (BinaryOp
                                                                           (Divide
                                                                            ())
                                                                           (Dot
                                                                            (Subscript
                                                                             (Var
                                                                              (Ident
                                                                               "circuit_args"
                                                                               ())
                                                                              ())
                                                                             (Var
                                                                              (Ident
                                                                               "i"
                                                                               ())
                                                                              ())
                                                                             ())
                                                                            (Ident
                                                                             "exp"
                                                                             ())
                                                                            ())
                                                                           (Int
                                                                            2
                                                                            "2"
                                                                            ())
                                                                           ())
                                                                          ())
                                                                         [])
                                                                        ())
                                                                       ())
                                                                      (:
                                                                       (BinaryOp
                                                                        (Exponent
                                                                         ())
                                                                        (Dot
                                                                         (Subscript
                                                                          (Var
                                                                           (Ident
                                                                            "circuit_args"
                                                                            ())
                                                                           ())
                                                                          (Var
                                                                           (Ident
                                                                            "i"
                                                                            ())
                                                                           ())
                                                                          ())
                                                                         (Ident
                                                                          "base"
                                                                          ())
                                                                         ())
                                                                        (Paren
                                                                         (BinaryOp
                                                                          (Modulo
                                                                           ())
                                                                          (Dot
                                                                           (Subscript
                                                                            (Var
                                                                             (Ident
                                                                              "circuit_args"
                                                                              ())
                                                                             ())
                                                                            (Var
                                                                             (Ident
                                                                              "i"
                                                                              ())
                                                                             ())
                                                                            ())
                                                                           (Ident
                                                                            "exp"
                                                                            ())
                                                                           ())
                                                                          (Int
                                                                           2
                                                                           "2"
                                                                           ())
                                                                          ())
                                                                         ())
                                                                        ())
                                                                       []))
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (Assign
                                                                   (:
                                                                    (Var
                                                                     (Ident
                                                                      "newargs"
                                                                      ())
                                                                     ())
                                                                    [])
                                                                   (BinaryOp
                                                                    (Plus ())
                                                                    (Var
                                                                     (Ident
                                                                      "newargs"
                                                                      ())
                                                                     ())
                                                                    (SlicedExpr
                                                                     (Var
                                                                      (Ident
                                                                       "circuit_args"
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (SliceProper
                                                                       (Just
                                                                        (BinaryOp
                                                                         (Plus
                                                                          ())
                                                                         (Var
                                                                          (Ident
                                                                           "i"
                                                                           ())
                                                                          ())
                                                                         (Int
                                                                          1
                                                                          "1"
                                                                          ())
                                                                         ()))
                                                                       Nothing
                                                                       Nothing
                                                                       ())
                                                                      [])
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (Assign
                                                                    (:
                                                                     (Var
                                                                      (Ident
                                                                       "circuit"
                                                                       ())
                                                                      ())
                                                                     [])
                                                                    (Call
                                                                     (Var
                                                                      (Ident
                                                                       "gate_simp"
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (ArgExpr
                                                                       (Call
                                                                        (Var
                                                                         (Ident
                                                                          "Mul"
                                                                          ())
                                                                         ())
                                                                        (:
                                                                         (ArgVarArgsPos
                                                                          (Var
                                                                           (Ident
                                                                            "newargs"
                                                                            ())
                                                                           ())
                                                                          ())
                                                                         [])
                                                                        ())
                                                                       ())
                                                                      [])
                                                                     ())
                                                                    ())
                                                                   (:
                                                                    (Break ())
                                                                    []))))))
                                                              [])))
                                                           []
                                                           ())
                                                          []))
                                                        [])
                                                       []
                                                       ())
                                                      [])
                                                     []
                                                     ())
                                                    (:
                                                     (Return
                                                      (Just
                                                       (Var
                                                        (Ident "circuit" ())
                                                        ()))
                                                      ())
                                                     [])))))
                                                ())
                                               (:
                                                (Fun
                                                 (Ident "gate_sort" ())
                                                 (:
                                                  (Param
                                                   (Ident "circuit" ())
                                                   Nothing
                                                   Nothing
                                                   ())
                                                  [])
                                                 Nothing
                                                 (:
                                                  (StmtExpr
                                                   (Strings
                                                    (:
                                                     "\"\"\"Sorts the gates while keeping track of commutation relations\n\n    This function uses a bubble sort to rearrange the order of gate\n    application. Keeps track of Quantum computations special commutation\n    relations (e.g. things that apply to the same Qubit do not commute with\n    each other)\n\n    circuit is the Mul of gates that are to be sorted.\n    \"\"\""
                                                     [])
                                                    ())
                                                   ())
                                                  (:
                                                   (Conditional
                                                    (:
                                                     ((,)
                                                      (Call
                                                       (Var
                                                        (Ident "isinstance" ())
                                                        ())
                                                       (:
                                                        (ArgExpr
                                                         (Var
                                                          (Ident "circuit" ())
                                                          ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "Add" ())
                                                           ())
                                                          ())
                                                         []))
                                                       ())
                                                      (:
                                                       (Return
                                                        (Just
                                                         (Call
                                                          (Var
                                                           (Ident "sum" ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Generator
                                                             (Comprehension
                                                              (ComprehensionExpr
                                                               (Call
                                                                (Var
                                                                 (Ident
                                                                  "gate_sort"
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgExpr
                                                                  (Var
                                                                   (Ident
                                                                    "t"
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 [])
                                                                ()))
                                                              (CompFor
                                                               False
                                                               (:
                                                                (Var
                                                                 (Ident "t" ())
                                                                 ())
                                                                [])
                                                               (Dot
                                                                (Var
                                                                 (Ident
                                                                  "circuit"
                                                                  ())
                                                                 ())
                                                                (Ident
                                                                 "args"
                                                                 ())
                                                                ())
                                                               Nothing
                                                               ())
                                                              ())
                                                             ())
                                                            ())
                                                           [])
                                                          ()))
                                                        ())
                                                       []))
                                                     [])
                                                    []
                                                    ())
                                                   (:
                                                    (Conditional
                                                     (:
                                                      ((,)
                                                       (Call
                                                        (Var
                                                         (Ident "isinstance" ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "circuit" ())
                                                           ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident "Pow" ())
                                                            ())
                                                           ())
                                                          []))
                                                        ())
                                                       (:
                                                        (Return
                                                         (Just
                                                          (BinaryOp
                                                           (Exponent ())
                                                           (Call
                                                            (Var
                                                             (Ident
                                                              "gate_sort"
                                                              ())
                                                             ())
                                                            (:
                                                             (ArgExpr
                                                              (Dot
                                                               (Var
                                                                (Ident
                                                                 "circuit"
                                                                 ())
                                                                ())
                                                               (Ident "base" ())
                                                               ())
                                                              ())
                                                             [])
                                                            ())
                                                           (Dot
                                                            (Var
                                                             (Ident
                                                              "circuit"
                                                              ())
                                                             ())
                                                            (Ident "exp" ())
                                                            ())
                                                           ()))
                                                         ())
                                                        []))
                                                      (:
                                                       ((,)
                                                        (Call
                                                         (Var
                                                          (Ident
                                                           "isinstance"
                                                           ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident "circuit" ())
                                                            ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Var
                                                             (Ident "Gate" ())
                                                             ())
                                                            ())
                                                           []))
                                                         ())
                                                        (:
                                                         (Return
                                                          (Just
                                                           (Var
                                                            (Ident "circuit" ())
                                                            ()))
                                                          ())
                                                         []))
                                                       []))
                                                     []
                                                     ())
                                                    (:
                                                     (Conditional
                                                      (:
                                                       ((,)
                                                        (UnaryOp
                                                         (Not ())
                                                         (Call
                                                          (Var
                                                           (Ident
                                                            "isinstance"
                                                            ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Var
                                                             (Ident
                                                              "circuit"
                                                              ())
                                                             ())
                                                            ())
                                                           (:
                                                            (ArgExpr
                                                             (Var
                                                              (Ident "Mul" ())
                                                              ())
                                                             ())
                                                            []))
                                                          ())
                                                         ())
                                                        (:
                                                         (Return
                                                          (Just
                                                           (Var
                                                            (Ident "circuit" ())
                                                            ()))
                                                          ())
                                                         []))
                                                       [])
                                                      []
                                                      ())
                                                     (:
                                                      (Assign
                                                       (:
                                                        (Var
                                                         (Ident "changes" ())
                                                         ())
                                                        [])
                                                       (Bool True ())
                                                       ())
                                                      (:
                                                       (While
                                                        (Var
                                                         (Ident "changes" ())
                                                         ())
                                                        (:
                                                         (Assign
                                                          (:
                                                           (Var
                                                            (Ident "changes" ())
                                                            ())
                                                           [])
                                                          (Bool False ())
                                                          ())
                                                         (:
                                                          (Assign
                                                           (:
                                                            (Var
                                                             (Ident
                                                              "circ_array"
                                                              ())
                                                             ())
                                                            [])
                                                           (Dot
                                                            (Var
                                                             (Ident
                                                              "circuit"
                                                              ())
                                                             ())
                                                            (Ident "args" ())
                                                            ())
                                                           ())
                                                          (:
                                                           (For
                                                            (:
                                                             (Var
                                                              (Ident "i" ())
                                                              ())
                                                             [])
                                                            (Call
                                                             (Var
                                                              (Ident
                                                               "xrange"
                                                               ())
                                                              ())
                                                             (:
                                                              (ArgExpr
                                                               (BinaryOp
                                                                (Minus ())
                                                                (Call
                                                                 (Var
                                                                  (Ident
                                                                   "len"
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (ArgExpr
                                                                   (Var
                                                                    (Ident
                                                                     "circ_array"
                                                                     ())
                                                                    ())
                                                                   ())
                                                                  [])
                                                                 ())
                                                                (Int 1 "1" ())
                                                                ())
                                                               ())
                                                              [])
                                                             ())
                                                            (:
                                                             (Conditional
                                                              (:
                                                               ((,)
                                                                (BinaryOp
                                                                 (And ())
                                                                 (Call
                                                                  (Var
                                                                   (Ident
                                                                    "isinstance"
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (ArgExpr
                                                                    (Subscript
                                                                     (Var
                                                                      (Ident
                                                                       "circ_array"
                                                                       ())
                                                                      ())
                                                                     (Var
                                                                      (Ident
                                                                       "i"
                                                                       ())
                                                                      ())
                                                                     ())
                                                                    ())
                                                                   (:
                                                                    (ArgExpr
                                                                     (Paren
                                                                      (Tuple
                                                                       (:
                                                                        (Var
                                                                         (Ident
                                                                          "Gate"
                                                                          ())
                                                                         ())
                                                                        (:
                                                                         (Var
                                                                          (Ident
                                                                           "Pow"
                                                                           ())
                                                                          ())
                                                                         []))
                                                                       ())
                                                                      ())
                                                                     ())
                                                                    []))
                                                                  ())
                                                                 (Call
                                                                  (Var
                                                                   (Ident
                                                                    "isinstance"
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (ArgExpr
                                                                    (Subscript
                                                                     (Var
                                                                      (Ident
                                                                       "circ_array"
                                                                       ())
                                                                      ())
                                                                     (BinaryOp
                                                                      (Plus ())
                                                                      (Var
                                                                       (Ident
                                                                        "i"
                                                                        ())
                                                                       ())
                                                                      (Int
                                                                       1
                                                                       "1"
                                                                       ())
                                                                      ())
                                                                     ())
                                                                    ())
                                                                   (:
                                                                    (ArgExpr
                                                                     (Paren
                                                                      (Tuple
                                                                       (:
                                                                        (Var
                                                                         (Ident
                                                                          "Gate"
                                                                          ())
                                                                         ())
                                                                        (:
                                                                         (Var
                                                                          (Ident
                                                                           "Pow"
                                                                           ())
                                                                          ())
                                                                         []))
                                                                       ())
                                                                      ())
                                                                     ())
                                                                    []))
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (Assign
                                                                  (:
                                                                   (Tuple
                                                                    (:
                                                                     (Var
                                                                      (Ident
                                                                       "first_base"
                                                                       ())
                                                                      ())
                                                                     (:
                                                                      (Var
                                                                       (Ident
                                                                        "first_exp"
                                                                        ())
                                                                       ())
                                                                      []))
                                                                    ())
                                                                   [])
                                                                  (Call
                                                                   (Dot
                                                                    (Subscript
                                                                     (Var
                                                                      (Ident
                                                                       "circ_array"
                                                                       ())
                                                                      ())
                                                                     (Var
                                                                      (Ident
                                                                       "i"
                                                                       ())
                                                                      ())
                                                                     ())
                                                                    (Ident
                                                                     "as_base_exp"
                                                                     ())
                                                                    ())
                                                                   []
                                                                   ())
                                                                  ())
                                                                 (:
                                                                  (Assign
                                                                   (:
                                                                    (Tuple
                                                                     (:
                                                                      (Var
                                                                       (Ident
                                                                        "second_base"
                                                                        ())
                                                                       ())
                                                                      (:
                                                                       (Var
                                                                        (Ident
                                                                         "second_exp"
                                                                         ())
                                                                        ())
                                                                       []))
                                                                     ())
                                                                    [])
                                                                   (Call
                                                                    (Dot
                                                                     (Subscript
                                                                      (Var
                                                                       (Ident
                                                                        "circ_array"
                                                                        ())
                                                                       ())
                                                                      (BinaryOp
                                                                       (Plus ())
                                                                       (Var
                                                                        (Ident
                                                                         "i"
                                                                         ())
                                                                        ())
                                                                       (Int
                                                                        1
                                                                        "1"
                                                                        ())
                                                                       ())
                                                                      ())
                                                                     (Ident
                                                                      "as_base_exp"
                                                                      ())
                                                                     ())
                                                                    []
                                                                    ())
                                                                   ())
                                                                  (:
                                                                   (Conditional
                                                                    (:
                                                                     ((,)
                                                                      (BinaryOp
                                                                       (GreaterThan
                                                                        ())
                                                                       (Call
                                                                        (Dot
                                                                         (Var
                                                                          (Ident
                                                                           "first_base"
                                                                           ())
                                                                          ())
                                                                         (Ident
                                                                          "compare"
                                                                          ())
                                                                         ())
                                                                        (:
                                                                         (ArgExpr
                                                                          (Var
                                                                           (Ident
                                                                            "second_base"
                                                                            ())
                                                                           ())
                                                                          ())
                                                                         [])
                                                                        ())
                                                                       (Int
                                                                        0
                                                                        "0"
                                                                        ())
                                                                       ())
                                                                      (:
                                                                       (Conditional
                                                                        (:
                                                                         ((,)
                                                                          (BinaryOp
                                                                           (Equality
                                                                            ())
                                                                           (Call
                                                                            (Dot
                                                                             (Call
                                                                              (Var
                                                                               (Ident
                                                                                "Commutator"
                                                                                ())
                                                                               ())
                                                                              (:
                                                                               (ArgExpr
                                                                                (Var
                                                                                 (Ident
                                                                                  "first_base"
                                                                                  ())
                                                                                 ())
                                                                                ())
                                                                               (:
                                                                                (ArgExpr
                                                                                 (Var
                                                                                  (Ident
                                                                                   "second_base"
                                                                                   ())
                                                                                  ())
                                                                                 ())
                                                                                []))
                                                                              ())
                                                                             (Ident
                                                                              "doit"
                                                                              ())
                                                                             ())
                                                                            []
                                                                            ())
                                                                           (Int
                                                                            0
                                                                            "0"
                                                                            ())
                                                                           ())
                                                                          (:
                                                                           (Assign
                                                                            (:
                                                                             (Var
                                                                              (Ident
                                                                               "new_args"
                                                                               ())
                                                                              ())
                                                                             [])
                                                                            (Paren
                                                                             (BinaryOp
                                                                              (Plus
                                                                               ())
                                                                              (BinaryOp
                                                                               (Plus
                                                                                ())
                                                                               (BinaryOp
                                                                                (Plus
                                                                                 ())
                                                                                (SlicedExpr
                                                                                 (Dot
                                                                                  (Var
                                                                                   (Ident
                                                                                    "circuit"
                                                                                    ())
                                                                                   ())
                                                                                  (Ident
                                                                                   "args"
                                                                                   ())
                                                                                  ())
                                                                                 (:
                                                                                  (SliceProper
                                                                                   Nothing
                                                                                   (Just
                                                                                    (Var
                                                                                     (Ident
                                                                                      "i"
                                                                                      ())
                                                                                     ()))
                                                                                   Nothing
                                                                                   ())
                                                                                  [])
                                                                                 ())
                                                                                (Paren
                                                                                 (Tuple
                                                                                  (:
                                                                                   (Subscript
                                                                                    (Dot
                                                                                     (Var
                                                                                      (Ident
                                                                                       "circuit"
                                                                                       ())
                                                                                      ())
                                                                                     (Ident
                                                                                      "args"
                                                                                      ())
                                                                                     ())
                                                                                    (BinaryOp
                                                                                     (Plus
                                                                                      ())
                                                                                     (Var
                                                                                      (Ident
                                                                                       "i"
                                                                                       ())
                                                                                      ())
                                                                                     (Int
                                                                                      1
                                                                                      "1"
                                                                                      ())
                                                                                     ())
                                                                                    ())
                                                                                   [])
                                                                                  ())
                                                                                 ())
                                                                                ())
                                                                               (Paren
                                                                                (Tuple
                                                                                 (:
                                                                                  (Subscript
                                                                                   (Dot
                                                                                    (Var
                                                                                     (Ident
                                                                                      "circuit"
                                                                                      ())
                                                                                     ())
                                                                                    (Ident
                                                                                     "args"
                                                                                     ())
                                                                                    ())
                                                                                   (Var
                                                                                    (Ident
                                                                                     "i"
                                                                                     ())
                                                                                    ())
                                                                                   ())
                                                                                  [])
                                                                                 ())
                                                                                ())
                                                                               ())
                                                                              (SlicedExpr
                                                                               (Dot
                                                                                (Var
                                                                                 (Ident
                                                                                  "circuit"
                                                                                  ())
                                                                                 ())
                                                                                (Ident
                                                                                 "args"
                                                                                 ())
                                                                                ())
                                                                               (:
                                                                                (SliceProper
                                                                                 (Just
                                                                                  (BinaryOp
                                                                                   (Plus
                                                                                    ())
                                                                                   (Var
                                                                                    (Ident
                                                                                     "i"
                                                                                     ())
                                                                                    ())
                                                                                   (Int
                                                                                    2
                                                                                    "2"
                                                                                    ())
                                                                                   ()))
                                                                                 Nothing
                                                                                 Nothing
                                                                                 ())
                                                                                [])
                                                                               ())
                                                                              ())
                                                                             ())
                                                                            ())
                                                                           (:
                                                                            (Assign
                                                                             (:
                                                                              (Var
                                                                               (Ident
                                                                                "circuit"
                                                                                ())
                                                                               ())
                                                                              [])
                                                                             (Call
                                                                              (Var
                                                                               (Ident
                                                                                "Mul"
                                                                                ())
                                                                               ())
                                                                              (:
                                                                               (ArgVarArgsPos
                                                                                (Var
                                                                                 (Ident
                                                                                  "new_args"
                                                                                  ())
                                                                                 ())
                                                                                ())
                                                                               [])
                                                                              ())
                                                                             ())
                                                                            (:
                                                                             (Assign
                                                                              (:
                                                                               (Var
                                                                                (Ident
                                                                                 "circ_array"
                                                                                 ())
                                                                                ())
                                                                               [])
                                                                              (Dot
                                                                               (Var
                                                                                (Ident
                                                                                 "circuit"
                                                                                 ())
                                                                                ())
                                                                               (Ident
                                                                                "args"
                                                                                ())
                                                                               ())
                                                                              ())
                                                                             (:
                                                                              (Assign
                                                                               (:
                                                                                (Var
                                                                                 (Ident
                                                                                  "changes"
                                                                                  ())
                                                                                 ())
                                                                                [])
                                                                               (Bool
                                                                                True
                                                                                ())
                                                                               ())
                                                                              (:
                                                                               (Break
                                                                                ())
                                                                               []))))))
                                                                         [])
                                                                        []
                                                                        ())
                                                                       (:
                                                                        (Conditional
                                                                         (:
                                                                          ((,)
                                                                           (BinaryOp
                                                                            (Equality
                                                                             ())
                                                                            (Call
                                                                             (Dot
                                                                              (Call
                                                                               (Var
                                                                                (Ident
                                                                                 "AntiCommutator"
                                                                                 ())
                                                                                ())
                                                                               (:
                                                                                (ArgExpr
                                                                                 (Var
                                                                                  (Ident
                                                                                   "first_base"
                                                                                   ())
                                                                                  ())
                                                                                 ())
                                                                                (:
                                                                                 (ArgExpr
                                                                                  (Var
                                                                                   (Ident
                                                                                    "second_base"
                                                                                    ())
                                                                                   ())
                                                                                  ())
                                                                                 []))
                                                                               ())
                                                                              (Ident
                                                                               "doit"
                                                                               ())
                                                                              ())
                                                                             []
                                                                             ())
                                                                            (Int
                                                                             0
                                                                             "0"
                                                                             ())
                                                                            ())
                                                                           (:
                                                                            (Assign
                                                                             (:
                                                                              (Var
                                                                               (Ident
                                                                                "new_args"
                                                                                ())
                                                                               ())
                                                                              [])
                                                                             (Paren
                                                                              (BinaryOp
                                                                               (Plus
                                                                                ())
                                                                               (BinaryOp
                                                                                (Plus
                                                                                 ())
                                                                                (BinaryOp
                                                                                 (Plus
                                                                                  ())
                                                                                 (SlicedExpr
                                                                                  (Dot
                                                                                   (Var
                                                                                    (Ident
                                                                                     "circuit"
                                                                                     ())
                                                                                    ())
                                                                                   (Ident
                                                                                    "args"
                                                                                    ())
                                                                                   ())
                                                                                  (:
                                                                                   (SliceProper
                                                                                    Nothing
                                                                                    (Just
                                                                                     (Var
                                                                                      (Ident
                                                                                       "i"
                                                                                       ())
                                                                                      ()))
                                                                                    Nothing
                                                                                    ())
                                                                                   [])
                                                                                  ())
                                                                                 (Paren
                                                                                  (Tuple
                                                                                   (:
                                                                                    (Subscript
                                                                                     (Dot
                                                                                      (Var
                                                                                       (Ident
                                                                                        "circuit"
                                                                                        ())
                                                                                       ())
                                                                                      (Ident
                                                                                       "args"
                                                                                       ())
                                                                                      ())
                                                                                     (BinaryOp
                                                                                      (Plus
                                                                                       ())
                                                                                      (Var
                                                                                       (Ident
                                                                                        "i"
                                                                                        ())
                                                                                       ())
                                                                                      (Int
                                                                                       1
                                                                                       "1"
                                                                                       ())
                                                                                      ())
                                                                                     ())
                                                                                    [])
                                                                                   ())
                                                                                  ())
                                                                                 ())
                                                                                (Paren
                                                                                 (Tuple
                                                                                  (:
                                                                                   (Subscript
                                                                                    (Dot
                                                                                     (Var
                                                                                      (Ident
                                                                                       "circuit"
                                                                                       ())
                                                                                      ())
                                                                                     (Ident
                                                                                      "args"
                                                                                      ())
                                                                                     ())
                                                                                    (Var
                                                                                     (Ident
                                                                                      "i"
                                                                                      ())
                                                                                     ())
                                                                                    ())
                                                                                   [])
                                                                                  ())
                                                                                 ())
                                                                                ())
                                                                               (SlicedExpr
                                                                                (Dot
                                                                                 (Var
                                                                                  (Ident
                                                                                   "circuit"
                                                                                   ())
                                                                                  ())
                                                                                 (Ident
                                                                                  "args"
                                                                                  ())
                                                                                 ())
                                                                                (:
                                                                                 (SliceProper
                                                                                  (Just
                                                                                   (BinaryOp
                                                                                    (Plus
                                                                                     ())
                                                                                    (Var
                                                                                     (Ident
                                                                                      "i"
                                                                                      ())
                                                                                     ())
                                                                                    (Int
                                                                                     2
                                                                                     "2"
                                                                                     ())
                                                                                    ()))
                                                                                  Nothing
                                                                                  Nothing
                                                                                  ())
                                                                                 [])
                                                                                ())
                                                                               ())
                                                                              ())
                                                                             ())
                                                                            (:
                                                                             (Assign
                                                                              (:
                                                                               (Var
                                                                                (Ident
                                                                                 "sign"
                                                                                 ())
                                                                                ())
                                                                               [])
                                                                              (BinaryOp
                                                                               (Exponent
                                                                                ())
                                                                               (Call
                                                                                (Var
                                                                                 (Ident
                                                                                  "Integer"
                                                                                  ())
                                                                                 ())
                                                                                (:
                                                                                 (ArgExpr
                                                                                  (UnaryOp
                                                                                   (Minus
                                                                                    ())
                                                                                   (Int
                                                                                    1
                                                                                    "1"
                                                                                    ())
                                                                                   ())
                                                                                  ())
                                                                                 [])
                                                                                ())
                                                                               (Paren
                                                                                (BinaryOp
                                                                                 (Multiply
                                                                                  ())
                                                                                 (Var
                                                                                  (Ident
                                                                                   "first_exp"
                                                                                   ())
                                                                                  ())
                                                                                 (Var
                                                                                  (Ident
                                                                                   "second_exp"
                                                                                   ())
                                                                                  ())
                                                                                 ())
                                                                                ())
                                                                               ())
                                                                              ())
                                                                             (:
                                                                              (Assign
                                                                               (:
                                                                                (Var
                                                                                 (Ident
                                                                                  "circuit"
                                                                                  ())
                                                                                 ())
                                                                                [])
                                                                               (BinaryOp
                                                                                (Multiply
                                                                                 ())
                                                                                (Var
                                                                                 (Ident
                                                                                  "sign"
                                                                                  ())
                                                                                 ())
                                                                                (Call
                                                                                 (Var
                                                                                  (Ident
                                                                                   "Mul"
                                                                                   ())
                                                                                  ())
                                                                                 (:
                                                                                  (ArgVarArgsPos
                                                                                   (Var
                                                                                    (Ident
                                                                                     "new_args"
                                                                                     ())
                                                                                    ())
                                                                                   ())
                                                                                  [])
                                                                                 ())
                                                                                ())
                                                                               ())
                                                                              (:
                                                                               (Assign
                                                                                (:
                                                                                 (Var
                                                                                  (Ident
                                                                                   "circ_array"
                                                                                   ())
                                                                                  ())
                                                                                 [])
                                                                                (Dot
                                                                                 (Var
                                                                                  (Ident
                                                                                   "circuit"
                                                                                   ())
                                                                                  ())
                                                                                 (Ident
                                                                                  "args"
                                                                                  ())
                                                                                 ())
                                                                                ())
                                                                               (:
                                                                                (Assign
                                                                                 (:
                                                                                  (Var
                                                                                   (Ident
                                                                                    "changes"
                                                                                    ())
                                                                                   ())
                                                                                  [])
                                                                                 (Bool
                                                                                  True
                                                                                  ())
                                                                                 ())
                                                                                (:
                                                                                 (Break
                                                                                  ())
                                                                                 [])))))))
                                                                          [])
                                                                         []
                                                                         ())
                                                                        [])))
                                                                     [])
                                                                    []
                                                                    ())
                                                                   []))))
                                                               [])
                                                              []
                                                              ())
                                                             [])
                                                            []
                                                            ())
                                                           [])))
                                                        []
                                                        ())
                                                       (:
                                                        (Return
                                                         (Just
                                                          (Var
                                                           (Ident "circuit" ())
                                                           ()))
                                                         ())
                                                        [])))))))
                                                 ())
                                                (:
                                                 (Fun
                                                  (Ident "random_circuit" ())
                                                  (:
                                                   (Param
                                                    (Ident "ngates" ())
                                                    Nothing
                                                    Nothing
                                                    ())
                                                   (:
                                                    (Param
                                                     (Ident "nqubits" ())
                                                     Nothing
                                                     Nothing
                                                     ())
                                                    (:
                                                     (Param
                                                      (Ident "gate_space" ())
                                                      Nothing
                                                      (Just
                                                       (Paren
                                                        (Tuple
                                                         (:
                                                          (Var
                                                           (Ident "X" ())
                                                           ())
                                                          (:
                                                           (Var
                                                            (Ident "Y" ())
                                                            ())
                                                           (:
                                                            (Var
                                                             (Ident "Z" ())
                                                             ())
                                                            (:
                                                             (Var
                                                              (Ident "S" ())
                                                              ())
                                                             (:
                                                              (Var
                                                               (Ident "T" ())
                                                               ())
                                                              (:
                                                               (Var
                                                                (Ident "H" ())
                                                                ())
                                                               (:
                                                                (Var
                                                                 (Ident
                                                                  "CNOT"
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (Var
                                                                  (Ident
                                                                   "SWAP"
                                                                   ())
                                                                  ())
                                                                 []))))))))
                                                         ())
                                                        ()))
                                                      ())
                                                     [])))
                                                  Nothing
                                                  (:
                                                   (StmtExpr
                                                    (Strings
                                                     (:
                                                      "\"\"\"Return a random circuit of ngates and nqubits.\n\n    This uses an equally weighted sample of (X, Y, Z, S, T, H, CNOT, SWAP)\n    gates.\n\n    Parameters\n    ----------\n    ngates : int\n        The number of gates in the circuit.\n    nqubits : int\n        The number of qubits in the circuit.\n    gate_space : tuple\n        A tuple of the gate classes that will be used in the circuit.\n        Repeating gate classes multiple times in this tuple will increase\n        the frequency they appear in the random circuit.\n    \"\"\""
                                                      [])
                                                     ())
                                                    ())
                                                   (:
                                                    (Assign
                                                     (:
                                                      (Var
                                                       (Ident "qubit_space" ())
                                                       ())
                                                      [])
                                                     (Call
                                                      (Var
                                                       (Ident "range" ())
                                                       ())
                                                      (:
                                                       (ArgExpr
                                                        (Var
                                                         (Ident "nqubits" ())
                                                         ())
                                                        ())
                                                       [])
                                                      ())
                                                     ())
                                                    (:
                                                     (Assign
                                                      (:
                                                       (Var
                                                        (Ident "result" ())
                                                        ())
                                                       [])
                                                      (List [] ())
                                                      ())
                                                     (:
                                                      (For
                                                       (:
                                                        (Var (Ident "i" ()) ())
                                                        [])
                                                       (Call
                                                        (Var
                                                         (Ident "xrange" ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Var
                                                           (Ident "ngates" ())
                                                           ())
                                                          ())
                                                         [])
                                                        ())
                                                       (:
                                                        (Assign
                                                         (:
                                                          (Var
                                                           (Ident "g" ())
                                                           ())
                                                          [])
                                                         (Call
                                                          (Dot
                                                           (Var
                                                            (Ident "random" ())
                                                            ())
                                                           (Ident "choice" ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Var
                                                             (Ident
                                                              "gate_space"
                                                              ())
                                                             ())
                                                            ())
                                                           [])
                                                          ())
                                                         ())
                                                        (:
                                                         (Conditional
                                                          (:
                                                           ((,)
                                                            (BinaryOp
                                                             (Or ())
                                                             (BinaryOp
                                                              (Equality ())
                                                              (Var
                                                               (Ident "g" ())
                                                               ())
                                                              (Var
                                                               (Ident
                                                                "CNotGate"
                                                                ())
                                                               ())
                                                              ())
                                                             (BinaryOp
                                                              (Equality ())
                                                              (Var
                                                               (Ident "g" ())
                                                               ())
                                                              (Var
                                                               (Ident
                                                                "SwapGate"
                                                                ())
                                                               ())
                                                              ())
                                                             ())
                                                            (:
                                                             (Assign
                                                              (:
                                                               (Var
                                                                (Ident
                                                                 "qubits"
                                                                 ())
                                                                ())
                                                               [])
                                                              (Call
                                                               (Dot
                                                                (Var
                                                                 (Ident
                                                                  "random"
                                                                  ())
                                                                 ())
                                                                (Ident
                                                                 "sample"
                                                                 ())
                                                                ())
                                                               (:
                                                                (ArgExpr
                                                                 (Var
                                                                  (Ident
                                                                   "qubit_space"
                                                                   ())
                                                                  ())
                                                                 ())
                                                                (:
                                                                 (ArgExpr
                                                                  (Int 2 "2" ())
                                                                  ())
                                                                 []))
                                                               ())
                                                              ())
                                                             (:
                                                              (Assign
                                                               (:
                                                                (Var
                                                                 (Ident "g" ())
                                                                 ())
                                                                [])
                                                               (Call
                                                                (Var
                                                                 (Ident "g" ())
                                                                 ())
                                                                (:
                                                                 (ArgVarArgsPos
                                                                  (Var
                                                                   (Ident
                                                                    "qubits"
                                                                    ())
                                                                   ())
                                                                  ())
                                                                 [])
                                                                ())
                                                               ())
                                                              [])))
                                                           [])
                                                          (:
                                                           (Assign
                                                            (:
                                                             (Var
                                                              (Ident "qubit" ())
                                                              ())
                                                             [])
                                                            (Call
                                                             (Dot
                                                              (Var
                                                               (Ident
                                                                "random"
                                                                ())
                                                               ())
                                                              (Ident
                                                               "choice"
                                                               ())
                                                              ())
                                                             (:
                                                              (ArgExpr
                                                               (Var
                                                                (Ident
                                                                 "qubit_space"
                                                                 ())
                                                                ())
                                                               ())
                                                              [])
                                                             ())
                                                            ())
                                                           (:
                                                            (Assign
                                                             (:
                                                              (Var
                                                               (Ident "g" ())
                                                               ())
                                                              [])
                                                             (Call
                                                              (Var
                                                               (Ident "g" ())
                                                               ())
                                                              (:
                                                               (ArgExpr
                                                                (Var
                                                                 (Ident
                                                                  "qubit"
                                                                  ())
                                                                 ())
                                                                ())
                                                               [])
                                                              ())
                                                             ())
                                                            []))
                                                          ())
                                                         (:
                                                          (StmtExpr
                                                           (Call
                                                            (Dot
                                                             (Var
                                                              (Ident
                                                               "result"
                                                               ())
                                                              ())
                                                             (Ident "append" ())
                                                             ())
                                                            (:
                                                             (ArgExpr
                                                              (Var
                                                               (Ident "g" ())
                                                               ())
                                                              ())
                                                             [])
                                                            ())
                                                           ())
                                                          [])))
                                                       []
                                                       ())
                                                      (:
                                                       (Return
                                                        (Just
                                                         (Call
                                                          (Var
                                                           (Ident "Mul" ())
                                                           ())
                                                          (:
                                                           (ArgVarArgsPos
                                                            (Var
                                                             (Ident "result" ())
                                                             ())
                                                            ())
                                                           [])
                                                          ()))
                                                        ())
                                                       [])))))
                                                  ())
                                                 (:
                                                  (Fun
                                                   (Ident
                                                    "zx_basis_transform"
                                                    ())
                                                   (:
                                                    (Param
                                                     (Ident "self" ())
                                                     Nothing
                                                     Nothing
                                                     ())
                                                    (:
                                                     (Param
                                                      (Ident "format" ())
                                                      Nothing
                                                      (Just
                                                       (Strings
                                                        (: "'sympy'" [])
                                                        ()))
                                                      ())
                                                     []))
                                                   Nothing
                                                   (:
                                                    (StmtExpr
                                                     (Strings
                                                      (:
                                                       "\"\"\"Transformation matrix from Z to X basis.\"\"\""
                                                       [])
                                                      ())
                                                     ())
                                                    (:
                                                     (Return
                                                      (Just
                                                       (Call
                                                        (Dot
                                                         (Var
                                                          (Ident
                                                           "matrix_cache"
                                                           ())
                                                          ())
                                                         (Ident "get_matrix" ())
                                                         ())
                                                        (:
                                                         (ArgExpr
                                                          (Strings
                                                           (: "'ZX'" [])
                                                           ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Var
                                                            (Ident "format" ())
                                                            ())
                                                           ())
                                                          []))
                                                        ()))
                                                      ())
                                                     []))
                                                   ())
                                                  (:
                                                   (Fun
                                                    (Ident
                                                     "zy_basis_transform"
                                                     ())
                                                    (:
                                                     (Param
                                                      (Ident "self" ())
                                                      Nothing
                                                      Nothing
                                                      ())
                                                     (:
                                                      (Param
                                                       (Ident "format" ())
                                                       Nothing
                                                       (Just
                                                        (Strings
                                                         (: "'sympy'" [])
                                                         ()))
                                                       ())
                                                      []))
                                                    Nothing
                                                    (:
                                                     (StmtExpr
                                                      (Strings
                                                       (:
                                                        "\"\"\"Transformation matrix from Z to Y basis.\"\"\""
                                                        [])
                                                       ())
                                                      ())
                                                     (:
                                                      (Return
                                                       (Just
                                                        (Call
                                                         (Dot
                                                          (Var
                                                           (Ident
                                                            "matrix_cache"
                                                            ())
                                                           ())
                                                          (Ident
                                                           "get_matrix"
                                                           ())
                                                          ())
                                                         (:
                                                          (ArgExpr
                                                           (Strings
                                                            (: "'ZY'" [])
                                                            ())
                                                           ())
                                                          (:
                                                           (ArgExpr
                                                            (Var
                                                             (Ident "format" ())
                                                             ())
                                                            ())
                                                           []))
                                                         ()))
                                                       ())
                                                      []))
                                                    ())
                                                   [])))))))))))))))))))))))))))))))))))))))))))))))))))
