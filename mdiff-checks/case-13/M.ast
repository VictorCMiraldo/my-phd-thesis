(CompilationUnit
 (Just
  (PackageDecl
   (Name
    (:
     (Ident "org")
     (: (Ident "apereo") (: (Ident "cas") (: (Ident "web") [])))))))
 (:
  (ImportDecl
   False
   (Name
    (:
     (Ident "org")
     (:
      (Ident "apereo")
      (:
       (Ident "cas")
       (: (Ident "AbstractCentralAuthenticationServiceTests") [])))))
   False)
  (:
   (ImportDecl
    False
    (Name
     (:
      (Ident "org")
      (:
       (Ident "apereo")
       (:
        (Ident "cas")
        (: (Ident "authentication") (: (Ident "AuthenticationResult") []))))))
    False)
   (:
    (ImportDecl
     False
     (Name
      (:
       (Ident "org")
       (:
        (Ident "apereo")
        (:
         (Ident "cas")
         (: (Ident "authentication") (: (Ident "Credential") []))))))
     False)
    (:
     (ImportDecl
      False
      (Name
       (:
        (Ident "org")
        (:
         (Ident "apereo")
         (:
          (Ident "cas")
          (:
           (Ident "authentication")
           (: (Ident "DefaultMultifactorTriggerSelectionStrategy") []))))))
      False)
     (:
      (ImportDecl
       False
       (Name
        (:
         (Ident "org")
         (:
          (Ident "apereo")
          (:
           (Ident "cas")
           (:
            (Ident "authentication")
            (: (Ident "CoreAuthenticationTestUtils") []))))))
       False)
      (:
       (ImportDecl
        False
        (Name
         (:
          (Ident "org")
          (:
           (Ident "apereo")
           (:
            (Ident "cas")
            (:
             (Ident "authentication")
             (: (Ident "principal") (: (Ident "Service") [])))))))
        False)
       (:
        (ImportDecl
         False
         (Name
          (:
           (Ident "org")
           (:
            (Ident "apereo")
            (:
             (Ident "cas")
             (:
              (Ident "config")
              (: (Ident "CasCoreAuthenticationConfiguration") []))))))
         False)
        (:
         (ImportDecl
          False
          (Name
           (:
            (Ident "org")
            (:
             (Ident "apereo")
             (:
              (Ident "cas")
              (: (Ident "config") (: (Ident "CasCoreConfiguration") []))))))
          False)
         (:
          (ImportDecl
           False
           (Name
            (:
             (Ident "org")
             (:
              (Ident "apereo")
              (:
               (Ident "cas")
               (:
                (Ident "config")
                (: (Ident "CasCoreServicesConfiguration") []))))))
           False)
          (:
           (ImportDecl
            False
            (Name
             (:
              (Ident "org")
              (:
               (Ident "apereo")
               (:
                (Ident "cas")
                (:
                 (Ident "config")
                 (: (Ident "CasCoreTicketsConfiguration") []))))))
            False)
           (:
            (ImportDecl
             False
             (Name
              (:
               (Ident "org")
               (:
                (Ident "apereo")
                (:
                 (Ident "cas")
                 (:
                  (Ident "config")
                  (: (Ident "CasCoreUtilConfiguration") []))))))
             False)
            (:
             (ImportDecl
              False
              (Name
               (:
                (Ident "org")
                (:
                 (Ident "apereo")
                 (:
                  (Ident "cas")
                  (:
                   (Ident "config")
                   (: (Ident "CasCoreWebConfiguration") []))))))
              False)
             (:
              (ImportDecl
               False
               (Name
                (:
                 (Ident "org")
                 (:
                  (Ident "apereo")
                  (:
                   (Ident "cas")
                   (:
                    (Ident "config")
                    (: (Ident "CasPersonDirectoryConfiguration") []))))))
               False)
              (:
               (ImportDecl
                False
                (Name
                 (:
                  (Ident "org")
                  (:
                   (Ident "apereo")
                   (:
                    (Ident "cas")
                    (:
                     (Ident "logout")
                     (:
                      (Ident "config")
                      (: (Ident "CasCoreLogoutConfiguration") [])))))))
                False)
               (:
                (ImportDecl
                 False
                 (Name
                  (:
                   (Ident "org")
                   (:
                    (Ident "apereo")
                    (:
                     (Ident "cas")
                     (:
                      (Ident "mock")
                      (: (Ident "MockValidationSpecification") []))))))
                 False)
                (:
                 (ImportDecl
                  False
                  (Name
                   (:
                    (Ident "org")
                    (:
                     (Ident "apereo")
                     (:
                      (Ident "cas")
                      (: (Ident "ticket") (: (Ident "ServiceTicket") []))))))
                  False)
                 (:
                  (ImportDecl
                   False
                   (Name
                    (:
                     (Ident "org")
                     (:
                      (Ident "apereo")
                      (:
                       (Ident "cas")
                       (:
                        (Ident "ticket")
                        (: (Ident "TicketGrantingTicket") []))))))
                   False)
                  (:
                   (ImportDecl
                    False
                    (Name
                     (:
                      (Ident "org")
                      (:
                       (Ident "apereo")
                       (:
                        (Ident "cas")
                        (:
                         (Ident "ticket")
                         (: (Ident "proxy") (: (Ident "ProxyHandler") [])))))))
                    False)
                   (:
                    (ImportDecl
                     False
                     (Name
                      (:
                       (Ident "org")
                       (:
                        (Ident "apereo")
                        (:
                         (Ident "cas")
                         (:
                          (Ident "ticket")
                          (:
                           (Ident "proxy")
                           (:
                            (Ident "support")
                            (: (Ident "Cas10ProxyHandler") []))))))))
                     False)
                    (:
                     (ImportDecl
                      False
                      (Name
                       (:
                        (Ident "org")
                        (:
                         (Ident "apereo")
                         (:
                          (Ident "cas")
                          (:
                           (Ident "ticket")
                           (:
                            (Ident "proxy")
                            (:
                             (Ident "support")
                             (: (Ident "Cas20ProxyHandler") []))))))))
                      False)
                     (:
                      (ImportDecl
                       False
                       (Name
                        (:
                         (Ident "org")
                         (:
                          (Ident "apereo")
                          (:
                           (Ident "cas")
                           (:
                            (Ident "util")
                            (:
                             (Ident "http")
                             (: (Ident "SimpleHttpClientFactoryBean") [])))))))
                       False)
                      (:
                       (ImportDecl
                        False
                        (Name
                         (:
                          (Ident "org")
                          (:
                           (Ident "apereo")
                           (:
                            (Ident "cas")
                            (:
                             (Ident "validation")
                             (:
                              (Ident "Cas20ProtocolValidationSpecification")
                              []))))))
                        False)
                       (:
                        (ImportDecl
                         False
                         (Name
                          (:
                           (Ident "org")
                           (:
                            (Ident "apereo")
                            (:
                             (Ident "cas")
                             (:
                              (Ident "validation")
                              (:
                               (Ident
                                "Cas20WithoutProxyingValidationSpecification")
                               []))))))
                         False)
                        (:
                         (ImportDecl
                          False
                          (Name
                           (:
                            (Ident "org")
                            (:
                             (Ident "apereo")
                             (:
                              (Ident "cas")
                              (:
                               (Ident "validation")
                               (: (Ident "ValidationResponseType") []))))))
                          False)
                         (:
                          (ImportDecl
                           False
                           (Name
                            (:
                             (Ident "org")
                             (:
                              (Ident "apereo")
                              (:
                               (Ident "cas")
                               (:
                                (Ident "validation")
                                (:
                                 (Ident "config")
                                 (:
                                  (Ident "CasCoreValidationConfiguration")
                                  [])))))))
                           False)
                          (:
                           (ImportDecl
                            False
                            (Name
                             (:
                              (Ident "org")
                              (:
                               (Ident "apereo")
                               (:
                                (Ident "cas")
                                (:
                                 (Ident "web")
                                 (:
                                  (Ident "config")
                                  (:
                                   (Ident "CasProtocolViewsConfiguration")
                                   [])))))))
                            False)
                           (:
                            (ImportDecl
                             False
                             (Name
                              (:
                               (Ident "org")
                               (:
                                (Ident "apereo")
                                (:
                                 (Ident "cas")
                                 (:
                                  (Ident "web")
                                  (:
                                   (Ident "config")
                                   (:
                                    (Ident "CasValidationConfiguration")
                                    [])))))))
                             False)
                            (:
                             (ImportDecl
                              False
                              (Name
                               (:
                                (Ident "org")
                                (: (Ident "junit") (: (Ident "Before") []))))
                              False)
                             (:
                              (ImportDecl
                               False
                               (Name
                                (:
                                 (Ident "org")
                                 (: (Ident "junit") (: (Ident "Test") []))))
                               False)
                              (:
                               (ImportDecl
                                False
                                (Name
                                 (:
                                  (Ident "org")
                                  (:
                                   (Ident "junit")
                                   (:
                                    (Ident "runner")
                                    (: (Ident "RunWith") [])))))
                                False)
                               (:
                                (ImportDecl
                                 False
                                 (Name
                                  (:
                                   (Ident "org")
                                   (:
                                    (Ident "springframework")
                                    (:
                                     (Ident "boot")
                                     (:
                                      (Ident "autoconfigure")
                                      (:
                                       (Ident "aop")
                                       (:
                                        (Ident "AopAutoConfiguration")
                                        [])))))))
                                 False)
                                (:
                                 (ImportDecl
                                  False
                                  (Name
                                   (:
                                    (Ident "org")
                                    (:
                                     (Ident "springframework")
                                     (:
                                      (Ident "boot")
                                      (:
                                       (Ident "test")
                                       (:
                                        (Ident "context")
                                        (: (Ident "SpringBootTest") [])))))))
                                  False)
                                 (:
                                  (ImportDecl
                                   False
                                   (Name
                                    (:
                                     (Ident "org")
                                     (:
                                      (Ident "springframework")
                                      (:
                                       (Ident "cloud")
                                       (:
                                        (Ident "autoconfigure")
                                        (:
                                         (Ident "RefreshAutoConfiguration")
                                         []))))))
                                   False)
                                  (:
                                   (ImportDecl
                                    False
                                    (Name
                                     (:
                                      (Ident "org")
                                      (:
                                       (Ident "springframework")
                                       (:
                                        (Ident "context")
                                        (:
                                         (Ident "support")
                                         (:
                                          (Ident "StaticApplicationContext")
                                          []))))))
                                    False)
                                   (:
                                    (ImportDecl
                                     False
                                     (Name
                                      (:
                                       (Ident "org")
                                       (:
                                        (Ident "springframework")
                                        (:
                                         (Ident "mock")
                                         (:
                                          (Ident "web")
                                          (:
                                           (Ident "MockHttpServletRequest")
                                           []))))))
                                     False)
                                    (:
                                     (ImportDecl
                                      False
                                      (Name
                                       (:
                                        (Ident "org")
                                        (:
                                         (Ident "springframework")
                                         (:
                                          (Ident "mock")
                                          (:
                                           (Ident "web")
                                           (:
                                            (Ident "MockHttpServletResponse")
                                            []))))))
                                      False)
                                     (:
                                      (ImportDecl
                                       False
                                       (Name
                                        (:
                                         (Ident "org")
                                         (:
                                          (Ident "springframework")
                                          (:
                                           (Ident "test")
                                           (:
                                            (Ident "context")
                                            (:
                                             (Ident "junit4")
                                             (: (Ident "SpringRunner") [])))))))
                                       False)
                                      (:
                                       (ImportDecl
                                        False
                                        (Name
                                         (:
                                          (Ident "org")
                                          (:
                                           (Ident "springframework")
                                           (:
                                            (Ident "web")
                                            (:
                                             (Ident "servlet")
                                             (: (Ident "ModelAndView") []))))))
                                        False)
                                       (:
                                        (ImportDecl
                                         False
                                         (Name
                                          (:
                                           (Ident "javax")
                                           (:
                                            (Ident "servlet")
                                            (:
                                             (Ident "http")
                                             (:
                                              (Ident "HttpServletRequest")
                                              [])))))
                                         False)
                                        (:
                                         (ImportDecl
                                          True
                                          (Name
                                           (:
                                            (Ident "org")
                                            (:
                                             (Ident "junit")
                                             (: (Ident "Assert") []))))
                                          True)
                                         []))))))))))))))))))))))))))))))))))))))))
 (:
  (ClassTypeDecl
   (ClassDecl
    (:
     (Annotation
      (NormalAnnotation
       (Name (: (Ident "SpringBootTest") []))
       (:
        ((,)
         (Ident "classes")
         (EVVal
          (InitArray
           (ArrayInit
            (:
             (InitExp
              (ClassLit
               (Just
                (RefType
                 (ClassRefType
                  (ClassType
                   (:
                    ((,) (Ident "CasCoreValidationConfiguration") [])
                    [])))))))
             (:
              (InitExp
               (ClassLit
                (Just
                 (RefType
                  (ClassRefType
                   (ClassType
                    (:
                     ((,) (Ident "CasProtocolViewsConfiguration") [])
                     [])))))))
              (:
               (InitExp
                (ClassLit
                 (Just
                  (RefType
                   (ClassRefType
                    (ClassType
                     (:
                      ((,) (Ident "CasCoreValidationConfiguration") [])
                      [])))))))
               (:
                (InitExp
                 (ClassLit
                  (Just
                   (RefType
                    (ClassRefType
                     (ClassType
                      (: ((,) (Ident "CasCoreWebConfiguration") []) [])))))))
                (:
                 (InitExp
                  (ClassLit
                   (Just
                    (RefType
                     (ClassRefType
                      (ClassType
                       (:
                        ((,) (Ident "CasCoreAuthenticationConfiguration") [])
                        [])))))))
                 (:
                  (InitExp
                   (ClassLit
                    (Just
                     (RefType
                      (ClassRefType
                       (ClassType
                        (: ((,) (Ident "RefreshAutoConfiguration") []) [])))))))
                  (:
                   (InitExp
                    (ClassLit
                     (Just
                      (RefType
                       (ClassRefType
                        (ClassType
                         (: ((,) (Ident "AopAutoConfiguration") []) [])))))))
                   (:
                    (InitExp
                     (ClassLit
                      (Just
                       (RefType
                        (ClassRefType
                         (ClassType
                          (:
                           ((,) (Ident "CasCoreServicesConfiguration") [])
                           [])))))))
                    (:
                     (InitExp
                      (ClassLit
                       (Just
                        (RefType
                         (ClassRefType
                          (ClassType
                           (: ((,) (Ident "CasCoreConfiguration") []) [])))))))
                     (:
                      (InitExp
                       (ClassLit
                        (Just
                         (RefType
                          (ClassRefType
                           (ClassType
                            (:
                             ((,) (Ident "CasPersonDirectoryConfiguration") [])
                             [])))))))
                      (:
                       (InitExp
                        (ClassLit
                         (Just
                          (RefType
                           (ClassRefType
                            (ClassType
                             (:
                              ((,) (Ident "CasCoreTicketsConfiguration") [])
                              [])))))))
                       (:
                        (InitExp
                         (ClassLit
                          (Just
                           (RefType
                            (ClassRefType
                             (ClassType
                              (:
                               ((,) (Ident "CasCoreLogoutConfiguration") [])
                               [])))))))
                        (:
                         (InitExp
                          (ClassLit
                           (Just
                            (RefType
                             (ClassRefType
                              (ClassType
                               (:
                                ((,) (Ident "CasCoreUtilConfiguration") [])
                                [])))))))
                         (:
                          (InitExp
                           (ClassLit
                            (Just
                             (RefType
                              (ClassRefType
                               (ClassType
                                (:
                                 ((,) (Ident "CasValidationConfiguration") [])
                                 [])))))))
                          []))))))))))))))))))
        [])))
     (:
      (Annotation
       (SingleElementAnnotation
        (Name (: (Ident "RunWith") []))
        (EVVal
         (InitExp
          (ClassLit
           (Just
            (RefType
             (ClassRefType
              (ClassType (: ((,) (Ident "SpringRunner") []) []))))))))))
      (: Public (: Abstract []))))
    (Ident "AbstractServiceValidateControllerTests")
    []
    (Just
     (ClassRefType
      (ClassType
       (: ((,) (Ident "AbstractCentralAuthenticationServiceTests") []) []))))
    []
    (ClassBody
     (:
      (MemberDecl
       (FieldDecl
        (: Private (: Static (: Final [])))
        (RefType (ClassRefType (ClassType (: ((,) (Ident "Service") []) []))))
        (:
         (VarDecl
          (VarId (Ident "SERVICE"))
          (Just
           (InitExp
            (MethodInv
             (MethodCall
              (Name
               (:
                (Ident "CoreAuthenticationTestUtils")
                (: (Ident "getService") [])))
              [])))))
         [])))
      (:
       (MemberDecl
        (FieldDecl
         (: Private (: Static (: Final [])))
         (RefType (ClassRefType (ClassType (: ((,) (Ident "String") []) []))))
         (:
          (VarDecl
           (VarId (Ident "SUCCESS"))
           (Just (InitExp (Lit (String "Success")))))
          [])))
       (:
        (MemberDecl
         (FieldDecl
          (: Protected [])
          (RefType
           (ClassRefType
            (ClassType
             (: ((,) (Ident "AbstractServiceValidateController") []) []))))
          (: (VarDecl (VarId (Ident "serviceValidateController")) Nothing) [])))
        (:
         (MemberDecl
          (MethodDecl
           (:
            (Annotation (MarkerAnnotation (Name (: (Ident "Before") []))))
            (: Public []))
           []
           Nothing
           (Ident "onSetUp")
           []
           (: (ClassRefType (ClassType (: ((,) (Ident "Exception") []) []))) [])
           Nothing
           (MethodBody
            (Just
             (Block
              (:
               (LocalVars
                (: Final [])
                (RefType
                 (ClassRefType
                  (ClassType
                   (: ((,) (Ident "StaticApplicationContext") []) []))))
                (:
                 (VarDecl
                  (VarId (Ident "context"))
                  (Just
                   (InitExp
                    (InstanceCreation
                     []
                     (TypeDeclSpecifier
                      (ClassType
                       (: ((,) (Ident "StaticApplicationContext") []) [])))
                     []
                     Nothing))))
                 []))
               (:
                (BlockStmt
                 (ExpStmt
                  (MethodInv
                   (MethodCall
                    (Name (: (Ident "context") (: (Ident "refresh") [])))
                    []))))
                (:
                 (BlockStmt
                  (ExpStmt
                   (Assign
                    (FieldLhs
                     (PrimaryFieldAccess
                      This
                      (Ident "serviceValidateController")))
                    EqualA
                    (InstanceCreation
                     []
                     (TypeDeclSpecifier
                      (ClassType
                       (: ((,) (Ident "ServiceValidateController") []) [])))
                     []
                     Nothing))))
                 (:
                  (BlockStmt
                   (ExpStmt
                    (MethodInv
                     (PrimaryMethodCall
                      (FieldAccess
                       (PrimaryFieldAccess
                        This
                        (Ident "serviceValidateController")))
                      []
                      (Ident "setCentralAuthenticationService")
                      (:
                       (MethodInv
                        (MethodCall
                         (Name (: (Ident "getCentralAuthenticationService") []))
                         []))
                       [])))))
                  (:
                   (BlockStmt
                    (ExpStmt
                     (MethodInv
                      (PrimaryMethodCall
                       (FieldAccess
                        (PrimaryFieldAccess
                         This
                         (Ident "serviceValidateController")))
                       []
                       (Ident "setAuthenticationSystemSupport")
                       (:
                        (MethodInv
                         (MethodCall
                          (Name (: (Ident "getAuthenticationSystemSupport") []))
                          []))
                        [])))))
                   (:
                    (LocalVars
                     (: Final [])
                     (RefType
                      (ClassRefType
                       (ClassType (: ((,) (Ident "Cas20ProxyHandler") []) []))))
                     (:
                      (VarDecl
                       (VarId (Ident "proxyHandler"))
                       (Just
                        (InitExp
                         (InstanceCreation
                          []
                          (TypeDeclSpecifier
                           (ClassType
                            (: ((,) (Ident "Cas20ProxyHandler") []) [])))
                          []
                          Nothing))))
                      []))
                    (:
                     (BlockStmt
                      (ExpStmt
                       (MethodInv
                        (MethodCall
                         (Name
                          (:
                           (Ident "proxyHandler")
                           (: (Ident "setHttpClient") [])))
                         (:
                          (MethodInv
                           (PrimaryMethodCall
                            (InstanceCreation
                             []
                             (TypeDeclSpecifier
                              (ClassType
                               (:
                                ((,) (Ident "SimpleHttpClientFactoryBean") [])
                                [])))
                             []
                             Nothing)
                            []
                            (Ident "getObject")
                            []))
                          [])))))
                     (:
                      (BlockStmt
                       (ExpStmt
                        (MethodInv
                         (PrimaryMethodCall
                          (FieldAccess
                           (PrimaryFieldAccess
                            This
                            (Ident "serviceValidateController")))
                          []
                          (Ident "setProxyHandler")
                          (:
                           (ExpName (Name (: (Ident "proxyHandler") [])))
                           [])))))
                      (:
                       (BlockStmt
                        (ExpStmt
                         (MethodInv
                          (PrimaryMethodCall
                           (FieldAccess
                            (PrimaryFieldAccess
                             This
                             (Ident "serviceValidateController")))
                           []
                           (Ident "setApplicationContext")
                           (: (ExpName (Name (: (Ident "context") []))) [])))))
                       (:
                        (BlockStmt
                         (ExpStmt
                          (MethodInv
                           (PrimaryMethodCall
                            (FieldAccess
                             (PrimaryFieldAccess
                              This
                              (Ident "serviceValidateController")))
                            []
                            (Ident "setArgumentExtractor")
                            (:
                             (MethodInv
                              (MethodCall
                               (Name (: (Ident "getArgumentExtractor") []))
                               []))
                             [])))))
                        (:
                         (BlockStmt
                          (ExpStmt
                           (MethodInv
                            (PrimaryMethodCall
                             (FieldAccess
                              (PrimaryFieldAccess
                               This
                               (Ident "serviceValidateController")))
                             []
                             (Ident "setServicesManager")
                             (:
                              (MethodInv
                               (MethodCall
                                (Name (: (Ident "getServicesManager") []))
                                []))
                              [])))))
                         (:
                          (BlockStmt
                           (ExpStmt
                            (MethodInv
                             (PrimaryMethodCall
                              (FieldAccess
                               (PrimaryFieldAccess
                                This
                                (Ident "serviceValidateController")))
                              []
                              (Ident "setValidationSpecification")
                              (:
                               (InstanceCreation
                                []
                                (TypeDeclSpecifier
                                 (ClassType
                                  (:
                                   ((,)
                                    (Ident
                                     "Cas20WithoutProxyingValidationSpecification")
                                    [])
                                   [])))
                                []
                                Nothing)
                               [])))))
                          (:
                           (BlockStmt
                            (ExpStmt
                             (MethodInv
                              (PrimaryMethodCall
                               (FieldAccess
                                (PrimaryFieldAccess
                                 This
                                 (Ident "serviceValidateController")))
                               []
                               (Ident "setMultifactorTriggerSelectionStrategy")
                               (:
                                (InstanceCreation
                                 []
                                 (TypeDeclSpecifier
                                  (ClassType
                                   (:
                                    ((,)
                                     (Ident
                                      "DefaultMultifactorTriggerSelectionStrategy")
                                     [])
                                    [])))
                                 []
                                 Nothing)
                                [])))))
                           []))))))))))))))))))
         (:
          (MemberDecl
           (MethodDecl
            (: Private [])
            []
            (Just
             (RefType
              (ClassRefType
               (ClassType (: ((,) (Ident "HttpServletRequest") []) [])))))
            (Ident "getHttpServletRequest")
            []
            (:
             (ClassRefType (ClassType (: ((,) (Ident "Exception") []) [])))
             [])
            Nothing
            (MethodBody
             (Just
              (Block
               (:
                (LocalVars
                 (: Final [])
                 (RefType
                  (ClassRefType
                   (ClassType (: ((,) (Ident "AuthenticationResult") []) []))))
                 (:
                  (VarDecl
                   (VarId (Ident "ctx"))
                   (Just
                    (InitExp
                     (MethodInv
                      (MethodCall
                       (Name
                        (:
                         (Ident "CoreAuthenticationTestUtils")
                         (: (Ident "getAuthenticationResult") [])))
                       (:
                        (MethodInv
                         (MethodCall
                          (Name (: (Ident "getAuthenticationSystemSupport") []))
                          []))
                        (: (ExpName (Name (: (Ident "SERVICE") []))) [])))))))
                  []))
                (:
                 (LocalVars
                  (: Final [])
                  (RefType
                   (ClassRefType
                    (ClassType (: ((,) (Ident "TicketGrantingTicket") []) []))))
                  (:
                   (VarDecl
                    (VarId (Ident "tId"))
                    (Just
                     (InitExp
                      (MethodInv
                       (PrimaryMethodCall
                        (MethodInv
                         (MethodCall
                          (Name
                           (: (Ident "getCentralAuthenticationService") []))
                          []))
                        []
                        (Ident "createTicketGrantingTicket")
                        (: (ExpName (Name (: (Ident "ctx") []))) []))))))
                   []))
                 (:
                  (BlockStmt
                   (ExpStmt
                    (MethodInv
                     (PrimaryMethodCall
                      (MethodInv
                       (MethodCall
                        (Name (: (Ident "getCentralAuthenticationService") []))
                        []))
                      []
                      (Ident "grantServiceTicket")
                      (:
                       (MethodInv
                        (MethodCall
                         (Name (: (Ident "tId") (: (Ident "getId") [])))
                         []))
                       (:
                        (ExpName (Name (: (Ident "SERVICE") [])))
                        (: (ExpName (Name (: (Ident "ctx") []))) [])))))))
                  (:
                   (LocalVars
                    (: Final [])
                    (RefType
                     (ClassRefType
                      (ClassType (: ((,) (Ident "ServiceTicket") []) []))))
                    (:
                     (VarDecl
                      (VarId (Ident "sId2"))
                      (Just
                       (InitExp
                        (MethodInv
                         (PrimaryMethodCall
                          (MethodInv
                           (MethodCall
                            (Name
                             (: (Ident "getCentralAuthenticationService") []))
                            []))
                          []
                          (Ident "grantServiceTicket")
                          (:
                           (MethodInv
                            (MethodCall
                             (Name (: (Ident "tId") (: (Ident "getId") [])))
                             []))
                           (:
                            (ExpName (Name (: (Ident "SERVICE") [])))
                            (: (Lit Null) []))))))))
                     []))
                   (:
                    (LocalVars
                     (: Final [])
                     (RefType
                      (ClassRefType
                       (ClassType
                        (: ((,) (Ident "MockHttpServletRequest") []) []))))
                     (:
                      (VarDecl
                       (VarId (Ident "request"))
                       (Just
                        (InitExp
                         (InstanceCreation
                          []
                          (TypeDeclSpecifier
                           (ClassType
                            (: ((,) (Ident "MockHttpServletRequest") []) [])))
                          []
                          Nothing))))
                      []))
                    (:
                     (BlockStmt
                      (ExpStmt
                       (MethodInv
                        (MethodCall
                         (Name
                          (: (Ident "request") (: (Ident "addParameter") [])))
                         (:
                          (Lit (String "service"))
                          (:
                           (MethodInv
                            (MethodCall
                             (Name (: (Ident "SERVICE") (: (Ident "getId") [])))
                             []))
                           []))))))
                     (:
                      (BlockStmt
                       (ExpStmt
                        (MethodInv
                         (MethodCall
                          (Name
                           (: (Ident "request") (: (Ident "addParameter") [])))
                          (:
                           (Lit (String "ticket"))
                           (:
                            (MethodInv
                             (MethodCall
                              (Name (: (Ident "sId2") (: (Ident "getId") [])))
                              []))
                            []))))))
                      (:
                       (BlockStmt
                        (ExpStmt
                         (MethodInv
                          (MethodCall
                           (Name
                            (: (Ident "request") (: (Ident "addParameter") [])))
                           (:
                            (Lit (String "renew"))
                            (: (Lit (String "true")) []))))))
                       (:
                        (BlockStmt
                         (Return
                          (Just (ExpName (Name (: (Ident "request") []))))))
                        []))))))))))))))
          (:
           (MemberDecl
            (MethodDecl
             (:
              (Annotation (MarkerAnnotation (Name (: (Ident "Test") []))))
              (: Public []))
             []
             Nothing
             (Ident "verifyAfterPropertesSetTestEverything")
             []
             (:
              (ClassRefType (ClassType (: ((,) (Ident "Exception") []) [])))
              [])
             Nothing
             (MethodBody
              (Just
               (Block
                (:
                 (BlockStmt
                  (ExpStmt
                   (MethodInv
                    (PrimaryMethodCall
                     (FieldAccess
                      (PrimaryFieldAccess
                       This
                       (Ident "serviceValidateController")))
                     []
                     (Ident "setValidationSpecification")
                     (:
                      (InstanceCreation
                       []
                       (TypeDeclSpecifier
                        (ClassType
                         (:
                          ((,)
                           (Ident "Cas20ProtocolValidationSpecification")
                           [])
                          [])))
                       []
                       Nothing)
                      [])))))
                 (:
                  (BlockStmt
                   (ExpStmt
                    (MethodInv
                     (PrimaryMethodCall
                      (FieldAccess
                       (PrimaryFieldAccess
                        This
                        (Ident "serviceValidateController")))
                      []
                      (Ident "setProxyHandler")
                      (:
                       (InstanceCreation
                        []
                        (TypeDeclSpecifier
                         (ClassType
                          (: ((,) (Ident "Cas20ProxyHandler") []) [])))
                        []
                        Nothing)
                       [])))))
                  [])))))))
           (:
            (MemberDecl
             (MethodDecl
              (:
               (Annotation (MarkerAnnotation (Name (: (Ident "Test") []))))
               (: Public []))
              []
              Nothing
              (Ident "verifyEmptyParams")
              []
              (:
               (ClassRefType (ClassType (: ((,) (Ident "Exception") []) [])))
               [])
              Nothing
              (MethodBody
               (Just
                (Block
                 (:
                  (BlockStmt
                   (ExpStmt
                    (MethodInv
                     (MethodCall
                      (Name (: (Ident "assertNotNull") []))
                      (:
                       (MethodInv
                        (PrimaryMethodCall
                         (MethodInv
                          (PrimaryMethodCall
                           (MethodInv
                            (PrimaryMethodCall
                             (FieldAccess
                              (PrimaryFieldAccess
                               This
                               (Ident "serviceValidateController")))
                             []
                             (Ident "handleRequestInternal")
                             (:
                              (InstanceCreation
                               []
                               (TypeDeclSpecifier
                                (ClassType
                                 (:
                                  ((,) (Ident "MockHttpServletRequest") [])
                                  [])))
                               []
                               Nothing)
                              (:
                               (InstanceCreation
                                []
                                (TypeDeclSpecifier
                                 (ClassType
                                  (:
                                   ((,) (Ident "MockHttpServletResponse") [])
                                   [])))
                                []
                                Nothing)
                               []))))
                           []
                           (Ident "getModel")
                           []))
                         []
                         (Ident "get")
                         (: (Lit (String "code")) [])))
                       [])))))
                  []))))))
            (:
             (MemberDecl
              (MethodDecl
               (:
                (Annotation (MarkerAnnotation (Name (: (Ident "Test") []))))
                (: Public []))
               []
               Nothing
               (Ident "verifyValidServiceTicket")
               []
               (:
                (ClassRefType (ClassType (: ((,) (Ident "Exception") []) [])))
                [])
               Nothing
               (MethodBody
                (Just
                 (Block
                  (:
                   (LocalVars
                    (: Final [])
                    (RefType
                     (ClassRefType
                      (ClassType
                       (: ((,) (Ident "AuthenticationResult") []) []))))
                    (:
                     (VarDecl
                      (VarId (Ident "ctx"))
                      (Just
                       (InitExp
                        (MethodInv
                         (MethodCall
                          (Name
                           (:
                            (Ident "CoreAuthenticationTestUtils")
                            (: (Ident "getAuthenticationResult") [])))
                          (:
                           (MethodInv
                            (MethodCall
                             (Name
                              (: (Ident "getAuthenticationSystemSupport") []))
                             []))
                           (:
                            (ExpName (Name (: (Ident "SERVICE") [])))
                            [])))))))
                     []))
                   (:
                    (LocalVars
                     (: Final [])
                     (RefType
                      (ClassRefType
                       (ClassType
                        (: ((,) (Ident "TicketGrantingTicket") []) []))))
                     (:
                      (VarDecl
                       (VarId (Ident "tId"))
                       (Just
                        (InitExp
                         (MethodInv
                          (PrimaryMethodCall
                           (MethodInv
                            (MethodCall
                             (Name
                              (: (Ident "getCentralAuthenticationService") []))
                             []))
                           []
                           (Ident "createTicketGrantingTicket")
                           (: (ExpName (Name (: (Ident "ctx") []))) []))))))
                      []))
                    (:
                     (LocalVars
                      (: Final [])
                      (RefType
                       (ClassRefType
                        (ClassType (: ((,) (Ident "ServiceTicket") []) []))))
                      (:
                       (VarDecl
                        (VarId (Ident "sId"))
                        (Just
                         (InitExp
                          (MethodInv
                           (PrimaryMethodCall
                            (MethodInv
                             (MethodCall
                              (Name
                               (: (Ident "getCentralAuthenticationService") []))
                              []))
                            []
                            (Ident "grantServiceTicket")
                            (:
                             (MethodInv
                              (MethodCall
                               (Name (: (Ident "tId") (: (Ident "getId") [])))
                               []))
                             (:
                              (ExpName (Name (: (Ident "SERVICE") [])))
                              (:
                               (ExpName (Name (: (Ident "ctx") [])))
                               []))))))))
                       []))
                     (:
                      (LocalVars
                       (: Final [])
                       (RefType
                        (ClassRefType
                         (ClassType
                          (: ((,) (Ident "MockHttpServletRequest") []) []))))
                       (:
                        (VarDecl
                         (VarId (Ident "request"))
                         (Just
                          (InitExp
                           (InstanceCreation
                            []
                            (TypeDeclSpecifier
                             (ClassType
                              (: ((,) (Ident "MockHttpServletRequest") []) [])))
                            []
                            Nothing))))
                        []))
                      (:
                       (BlockStmt
                        (ExpStmt
                         (MethodInv
                          (MethodCall
                           (Name
                            (: (Ident "request") (: (Ident "addParameter") [])))
                           (:
                            (Lit (String "service"))
                            (:
                             (MethodInv
                              (MethodCall
                               (Name
                                (: (Ident "SERVICE") (: (Ident "getId") [])))
                               []))
                             []))))))
                       (:
                        (BlockStmt
                         (ExpStmt
                          (MethodInv
                           (MethodCall
                            (Name
                             (:
                              (Ident "request")
                              (: (Ident "addParameter") [])))
                            (:
                             (Lit (String "ticket"))
                             (:
                              (MethodInv
                               (MethodCall
                                (Name (: (Ident "sId") (: (Ident "getId") [])))
                                []))
                              []))))))
                        (:
                         (BlockStmt
                          (ExpStmt
                           (MethodInv
                            (MethodCall
                             (Name (: (Ident "assertTrue") []))
                             (:
                              (MethodInv
                               (PrimaryMethodCall
                                (MethodInv
                                 (PrimaryMethodCall
                                  (MethodInv
                                   (PrimaryMethodCall
                                    (MethodInv
                                     (PrimaryMethodCall
                                      (FieldAccess
                                       (PrimaryFieldAccess
                                        This
                                        (Ident "serviceValidateController")))
                                      []
                                      (Ident "handleRequestInternal")
                                      (:
                                       (ExpName (Name (: (Ident "request") [])))
                                       (:
                                        (InstanceCreation
                                         []
                                         (TypeDeclSpecifier
                                          (ClassType
                                           (:
                                            ((,)
                                             (Ident "MockHttpServletResponse")
                                             [])
                                            [])))
                                         []
                                         Nothing)
                                        []))))
                                    []
                                    (Ident "getView")
                                    []))
                                  []
                                  (Ident "toString")
                                  []))
                                []
                                (Ident "contains")
                                (:
                                 (ExpName (Name (: (Ident "SUCCESS") [])))
                                 [])))
                              [])))))
                         []))))))))))))
             (:
              (MemberDecl
               (MethodDecl
                (:
                 (Annotation (MarkerAnnotation (Name (: (Ident "Test") []))))
                 (: Public []))
                []
                Nothing
                (Ident "verifyValidServiceTicketInvalidSpec")
                []
                (:
                 (ClassRefType (ClassType (: ((,) (Ident "Exception") []) [])))
                 [])
                Nothing
                (MethodBody
                 (Just
                  (Block
                   (:
                    (BlockStmt
                     (ExpStmt
                      (MethodInv
                       (MethodCall
                        (Name (: (Ident "assertFalse") []))
                        (:
                         (MethodInv
                          (PrimaryMethodCall
                           (MethodInv
                            (PrimaryMethodCall
                             (MethodInv
                              (PrimaryMethodCall
                               (MethodInv
                                (PrimaryMethodCall
                                 (FieldAccess
                                  (PrimaryFieldAccess
                                   This
                                   (Ident "serviceValidateController")))
                                 []
                                 (Ident "handleRequestInternal")
                                 (:
                                  (MethodInv
                                   (MethodCall
                                    (Name
                                     (: (Ident "getHttpServletRequest") []))
                                    []))
                                  (:
                                   (InstanceCreation
                                    []
                                    (TypeDeclSpecifier
                                     (ClassType
                                      (:
                                       ((,)
                                        (Ident "MockHttpServletResponse")
                                        [])
                                       [])))
                                    []
                                    Nothing)
                                   []))))
                               []
                               (Ident "getView")
                               []))
                             []
                             (Ident "toString")
                             []))
                           []
                           (Ident "contains")
                           (: (ExpName (Name (: (Ident "SUCCESS") []))) [])))
                         [])))))
                    []))))))
              (:
               (MemberDecl
                (MethodDecl
                 (:
                  (Annotation (MarkerAnnotation (Name (: (Ident "Test") []))))
                  (: Public []))
                 []
                 Nothing
                 (Ident "verifyValidServiceTicketRuntimeExceptionWithSpec")
                 []
                 (:
                  (ClassRefType (ClassType (: ((,) (Ident "Exception") []) [])))
                  [])
                 Nothing
                 (MethodBody
                  (Just
                   (Block
                    (:
                     (BlockStmt
                      (ExpStmt
                       (MethodInv
                        (PrimaryMethodCall
                         (FieldAccess
                          (PrimaryFieldAccess
                           This
                           (Ident "serviceValidateController")))
                         []
                         (Ident "setValidationSpecification")
                         (:
                          (InstanceCreation
                           []
                           (TypeDeclSpecifier
                            (ClassType
                             (:
                              ((,) (Ident "MockValidationSpecification") [])
                              [])))
                           (: (Lit (Boolean False)) [])
                           Nothing)
                          [])))))
                     (:
                      (BlockStmt
                       (ExpStmt
                        (MethodInv
                         (MethodCall
                          (Name (: (Ident "assertFalse") []))
                          (:
                           (MethodInv
                            (PrimaryMethodCall
                             (MethodInv
                              (PrimaryMethodCall
                               (MethodInv
                                (PrimaryMethodCall
                                 (MethodInv
                                  (PrimaryMethodCall
                                   (FieldAccess
                                    (PrimaryFieldAccess
                                     This
                                     (Ident "serviceValidateController")))
                                   []
                                   (Ident "handleRequestInternal")
                                   (:
                                    (MethodInv
                                     (MethodCall
                                      (Name
                                       (: (Ident "getHttpServletRequest") []))
                                      []))
                                    (:
                                     (InstanceCreation
                                      []
                                      (TypeDeclSpecifier
                                       (ClassType
                                        (:
                                         ((,)
                                          (Ident "MockHttpServletResponse")
                                          [])
                                         [])))
                                      []
                                      Nothing)
                                     []))))
                                 []
                                 (Ident "getView")
                                 []))
                               []
                               (Ident "toString")
                               []))
                             []
                             (Ident "contains")
                             (: (ExpName (Name (: (Ident "SUCCESS") []))) [])))
                           [])))))
                      [])))))))
               (:
                (MemberDecl
                 (MethodDecl
                  (:
                   (Annotation (MarkerAnnotation (Name (: (Ident "Test") []))))
                   (: Public []))
                  []
                  Nothing
                  (Ident "verifyRenewSpecFailsCorrectly")
                  []
                  (:
                   (ClassRefType
                    (ClassType (: ((,) (Ident "Exception") []) [])))
                   [])
                  Nothing
                  (MethodBody
                   (Just
                    (Block
                     (:
                      (BlockStmt
                       (ExpStmt
                        (MethodInv
                         (PrimaryMethodCall
                          (FieldAccess
                           (PrimaryFieldAccess
                            This
                            (Ident "serviceValidateController")))
                          []
                          (Ident "setValidationSpecification")
                          (:
                           (InstanceCreation
                            []
                            (TypeDeclSpecifier
                             (ClassType
                              (:
                               ((,)
                                (Ident
                                 "Cas20WithoutProxyingValidationSpecification")
                                [])
                               [])))
                            (: (Lit (Boolean True)) [])
                            Nothing)
                           [])))))
                      (:
                       (BlockStmt
                        (ExpStmt
                         (MethodInv
                          (MethodCall
                           (Name (: (Ident "assertFalse") []))
                           (:
                            (MethodInv
                             (PrimaryMethodCall
                              (MethodInv
                               (PrimaryMethodCall
                                (MethodInv
                                 (PrimaryMethodCall
                                  (MethodInv
                                   (PrimaryMethodCall
                                    (FieldAccess
                                     (PrimaryFieldAccess
                                      This
                                      (Ident "serviceValidateController")))
                                    []
                                    (Ident "handleRequestInternal")
                                    (:
                                     (MethodInv
                                      (MethodCall
                                       (Name
                                        (: (Ident "getHttpServletRequest") []))
                                       []))
                                     (:
                                      (InstanceCreation
                                       []
                                       (TypeDeclSpecifier
                                        (ClassType
                                         (:
                                          ((,)
                                           (Ident "MockHttpServletResponse")
                                           [])
                                          [])))
                                       []
                                       Nothing)
                                      []))))
                                  []
                                  (Ident "getView")
                                  []))
                                []
                                (Ident "toString")
                                []))
                              []
                              (Ident "contains")
                              (: (ExpName (Name (: (Ident "SUCCESS") []))) [])))
                            [])))))
                       [])))))))
                (:
                 (MemberDecl
                  (MethodDecl
                   (:
                    (Annotation (MarkerAnnotation (Name (: (Ident "Test") []))))
                    (: Public []))
                   []
                   Nothing
                   (Ident "verifyInvalidServiceTicket")
                   []
                   (:
                    (ClassRefType
                     (ClassType (: ((,) (Ident "Exception") []) [])))
                    [])
                   Nothing
                   (MethodBody
                    (Just
                     (Block
                      (:
                       (LocalVars
                        (: Final [])
                        (RefType
                         (ClassRefType
                          (ClassType
                           (: ((,) (Ident "AuthenticationResult") []) []))))
                        (:
                         (VarDecl
                          (VarId (Ident "ctx"))
                          (Just
                           (InitExp
                            (MethodInv
                             (MethodCall
                              (Name
                               (:
                                (Ident "CoreAuthenticationTestUtils")
                                (: (Ident "getAuthenticationResult") [])))
                              (:
                               (MethodInv
                                (MethodCall
                                 (Name
                                  (:
                                   (Ident "getAuthenticationSystemSupport")
                                   []))
                                 []))
                               (:
                                (ExpName (Name (: (Ident "SERVICE") [])))
                                [])))))))
                         []))
                       (:
                        (LocalVars
                         (: Final [])
                         (RefType
                          (ClassRefType
                           (ClassType
                            (: ((,) (Ident "TicketGrantingTicket") []) []))))
                         (:
                          (VarDecl
                           (VarId (Ident "tId"))
                           (Just
                            (InitExp
                             (MethodInv
                              (PrimaryMethodCall
                               (MethodInv
                                (MethodCall
                                 (Name
                                  (:
                                   (Ident "getCentralAuthenticationService")
                                   []))
                                 []))
                               []
                               (Ident "createTicketGrantingTicket")
                               (: (ExpName (Name (: (Ident "ctx") []))) []))))))
                          []))
                        (:
                         (LocalVars
                          (: Final [])
                          (RefType
                           (ClassRefType
                            (ClassType
                             (: ((,) (Ident "ServiceTicket") []) []))))
                          (:
                           (VarDecl
                            (VarId (Ident "sId"))
                            (Just
                             (InitExp
                              (MethodInv
                               (PrimaryMethodCall
                                (MethodInv
                                 (MethodCall
                                  (Name
                                   (:
                                    (Ident "getCentralAuthenticationService")
                                    []))
                                  []))
                                []
                                (Ident "grantServiceTicket")
                                (:
                                 (MethodInv
                                  (MethodCall
                                   (Name
                                    (: (Ident "tId") (: (Ident "getId") [])))
                                   []))
                                 (:
                                  (ExpName (Name (: (Ident "SERVICE") [])))
                                  (:
                                   (ExpName (Name (: (Ident "ctx") [])))
                                   []))))))))
                           []))
                         (:
                          (BlockStmt
                           (ExpStmt
                            (MethodInv
                             (PrimaryMethodCall
                              (MethodInv
                               (MethodCall
                                (Name
                                 (:
                                  (Ident "getCentralAuthenticationService")
                                  []))
                                []))
                              []
                              (Ident "destroyTicketGrantingTicket")
                              (:
                               (MethodInv
                                (MethodCall
                                 (Name (: (Ident "tId") (: (Ident "getId") [])))
                                 []))
                               [])))))
                          (:
                           (LocalVars
                            (: Final [])
                            (RefType
                             (ClassRefType
                              (ClassType
                               (:
                                ((,) (Ident "MockHttpServletRequest") [])
                                []))))
                            (:
                             (VarDecl
                              (VarId (Ident "request"))
                              (Just
                               (InitExp
                                (InstanceCreation
                                 []
                                 (TypeDeclSpecifier
                                  (ClassType
                                   (:
                                    ((,) (Ident "MockHttpServletRequest") [])
                                    [])))
                                 []
                                 Nothing))))
                             []))
                           (:
                            (BlockStmt
                             (ExpStmt
                              (MethodInv
                               (MethodCall
                                (Name
                                 (:
                                  (Ident "request")
                                  (: (Ident "addParameter") [])))
                                (:
                                 (Lit (String "service"))
                                 (:
                                  (MethodInv
                                   (MethodCall
                                    (Name
                                     (:
                                      (Ident "SERVICE")
                                      (: (Ident "getId") [])))
                                    []))
                                  []))))))
                            (:
                             (BlockStmt
                              (ExpStmt
                               (MethodInv
                                (MethodCall
                                 (Name
                                  (:
                                   (Ident "request")
                                   (: (Ident "addParameter") [])))
                                 (:
                                  (Lit (String "ticket"))
                                  (:
                                   (MethodInv
                                    (MethodCall
                                     (Name
                                      (: (Ident "sId") (: (Ident "getId") [])))
                                     []))
                                   []))))))
                             (:
                              (BlockStmt
                               (ExpStmt
                                (MethodInv
                                 (MethodCall
                                  (Name (: (Ident "assertFalse") []))
                                  (:
                                   (MethodInv
                                    (PrimaryMethodCall
                                     (MethodInv
                                      (PrimaryMethodCall
                                       (MethodInv
                                        (PrimaryMethodCall
                                         (MethodInv
                                          (PrimaryMethodCall
                                           (FieldAccess
                                            (PrimaryFieldAccess
                                             This
                                             (Ident
                                              "serviceValidateController")))
                                           []
                                           (Ident "handleRequestInternal")
                                           (:
                                            (ExpName
                                             (Name (: (Ident "request") [])))
                                            (:
                                             (InstanceCreation
                                              []
                                              (TypeDeclSpecifier
                                               (ClassType
                                                (:
                                                 ((,)
                                                  (Ident
                                                   "MockHttpServletResponse")
                                                  [])
                                                 [])))
                                              []
                                              Nothing)
                                             []))))
                                         []
                                         (Ident "getView")
                                         []))
                                       []
                                       (Ident "toString")
                                       []))
                                     []
                                     (Ident "contains")
                                     (:
                                      (ExpName (Name (: (Ident "SUCCESS") [])))
                                      [])))
                                   [])))))
                              [])))))))))))))
                 (:
                  (MemberDecl
                   (MethodDecl
                    (:
                     (Annotation
                      (MarkerAnnotation (Name (: (Ident "Test") []))))
                     (: Public []))
                    []
                    Nothing
                    (Ident
                     "verifyValidServiceTicketWithValidPgtNoProxyHandling")
                    []
                    (:
                     (ClassRefType
                      (ClassType (: ((,) (Ident "Exception") []) [])))
                     [])
                    Nothing
                    (MethodBody
                     (Just
                      (Block
                       (:
                        (LocalVars
                         (: Final [])
                         (RefType
                          (ClassRefType
                           (ClassType
                            (: ((,) (Ident "AuthenticationResult") []) []))))
                         (:
                          (VarDecl
                           (VarId (Ident "ctx"))
                           (Just
                            (InitExp
                             (MethodInv
                              (MethodCall
                               (Name
                                (:
                                 (Ident "CoreAuthenticationTestUtils")
                                 (: (Ident "getAuthenticationResult") [])))
                               (:
                                (MethodInv
                                 (MethodCall
                                  (Name
                                   (:
                                    (Ident "getAuthenticationSystemSupport")
                                    []))
                                  []))
                                (:
                                 (ExpName (Name (: (Ident "SERVICE") [])))
                                 [])))))))
                          []))
                        (:
                         (BlockStmt
                          (ExpStmt
                           (MethodInv
                            (PrimaryMethodCall
                             (FieldAccess
                              (PrimaryFieldAccess
                               This
                               (Ident "serviceValidateController")))
                             []
                             (Ident "setProxyHandler")
                             (:
                              (InstanceCreation
                               []
                               (TypeDeclSpecifier
                                (ClassType
                                 (: ((,) (Ident "Cas10ProxyHandler") []) [])))
                               []
                               Nothing)
                              [])))))
                         (:
                          (LocalVars
                           (: Final [])
                           (RefType
                            (ClassRefType
                             (ClassType
                              (: ((,) (Ident "TicketGrantingTicket") []) []))))
                           (:
                            (VarDecl
                             (VarId (Ident "tId"))
                             (Just
                              (InitExp
                               (MethodInv
                                (PrimaryMethodCall
                                 (MethodInv
                                  (MethodCall
                                   (Name
                                    (:
                                     (Ident "getCentralAuthenticationService")
                                     []))
                                   []))
                                 []
                                 (Ident "createTicketGrantingTicket")
                                 (:
                                  (ExpName (Name (: (Ident "ctx") [])))
                                  []))))))
                            []))
                          (:
                           (LocalVars
                            (: Final [])
                            (RefType
                             (ClassRefType
                              (ClassType
                               (: ((,) (Ident "ServiceTicket") []) []))))
                            (:
                             (VarDecl
                              (VarId (Ident "sId"))
                              (Just
                               (InitExp
                                (MethodInv
                                 (PrimaryMethodCall
                                  (MethodInv
                                   (MethodCall
                                    (Name
                                     (:
                                      (Ident "getCentralAuthenticationService")
                                      []))
                                    []))
                                  []
                                  (Ident "grantServiceTicket")
                                  (:
                                   (MethodInv
                                    (MethodCall
                                     (Name
                                      (: (Ident "tId") (: (Ident "getId") [])))
                                     []))
                                   (:
                                    (ExpName (Name (: (Ident "SERVICE") [])))
                                    (:
                                     (ExpName (Name (: (Ident "ctx") [])))
                                     []))))))))
                             []))
                           (:
                            (LocalVars
                             (: Final [])
                             (RefType
                              (ClassRefType
                               (ClassType
                                (:
                                 ((,) (Ident "MockHttpServletRequest") [])
                                 []))))
                             (:
                              (VarDecl
                               (VarId (Ident "request"))
                               (Just
                                (InitExp
                                 (InstanceCreation
                                  []
                                  (TypeDeclSpecifier
                                   (ClassType
                                    (:
                                     ((,) (Ident "MockHttpServletRequest") [])
                                     [])))
                                  []
                                  Nothing))))
                              []))
                            (:
                             (BlockStmt
                              (ExpStmt
                               (MethodInv
                                (MethodCall
                                 (Name
                                  (:
                                   (Ident "request")
                                   (: (Ident "addParameter") [])))
                                 (:
                                  (Lit (String "service"))
                                  (:
                                   (MethodInv
                                    (MethodCall
                                     (Name
                                      (:
                                       (Ident "SERVICE")
                                       (: (Ident "getId") [])))
                                     []))
                                   []))))))
                             (:
                              (BlockStmt
                               (ExpStmt
                                (MethodInv
                                 (MethodCall
                                  (Name
                                   (:
                                    (Ident "request")
                                    (: (Ident "addParameter") [])))
                                  (:
                                   (Lit (String "ticket"))
                                   (:
                                    (MethodInv
                                     (MethodCall
                                      (Name
                                       (: (Ident "sId") (: (Ident "getId") [])))
                                      []))
                                    []))))))
                              (:
                               (BlockStmt
                                (ExpStmt
                                 (MethodInv
                                  (MethodCall
                                   (Name
                                    (:
                                     (Ident "request")
                                     (: (Ident "addParameter") [])))
                                   (:
                                    (Lit (String "pgtUrl"))
                                    (:
                                     (Lit (String "https://www.github.com"))
                                     []))))))
                               (:
                                (BlockStmt
                                 (ExpStmt
                                  (MethodInv
                                   (MethodCall
                                    (Name (: (Ident "assertTrue") []))
                                    (:
                                     (MethodInv
                                      (PrimaryMethodCall
                                       (MethodInv
                                        (PrimaryMethodCall
                                         (MethodInv
                                          (PrimaryMethodCall
                                           (MethodInv
                                            (PrimaryMethodCall
                                             (FieldAccess
                                              (PrimaryFieldAccess
                                               This
                                               (Ident
                                                "serviceValidateController")))
                                             []
                                             (Ident "handleRequestInternal")
                                             (:
                                              (ExpName
                                               (Name (: (Ident "request") [])))
                                              (:
                                               (InstanceCreation
                                                []
                                                (TypeDeclSpecifier
                                                 (ClassType
                                                  (:
                                                   ((,)
                                                    (Ident
                                                     "MockHttpServletResponse")
                                                    [])
                                                   [])))
                                                []
                                                Nothing)
                                               []))))
                                           []
                                           (Ident "getView")
                                           []))
                                         []
                                         (Ident "toString")
                                         []))
                                       []
                                       (Ident "contains")
                                       (:
                                        (ExpName
                                         (Name (: (Ident "SUCCESS") [])))
                                        [])))
                                     [])))))
                                []))))))))))))))
                  (:
                   (MemberDecl
                    (MethodDecl
                     (:
                      (Annotation
                       (MarkerAnnotation (Name (: (Ident "Test") []))))
                      (: Public []))
                     []
                     Nothing
                     (Ident "verifyValidServiceTicketWithSecurePgtUrl")
                     []
                     (:
                      (ClassRefType
                       (ClassType (: ((,) (Ident "Exception") []) [])))
                      [])
                     Nothing
                     (MethodBody
                      (Just
                       (Block
                        (:
                         (BlockStmt
                          (ExpStmt
                           (MethodInv
                            (PrimaryMethodCall
                             (FieldAccess
                              (PrimaryFieldAccess
                               This
                               (Ident "serviceValidateController")))
                             []
                             (Ident "setProxyHandler")
                             (:
                              (InstanceCreation
                               []
                               (TypeDeclSpecifier
                                (ClassType
                                 (: ((,) (Ident "Cas10ProxyHandler") []) [])))
                               []
                               Nothing)
                              [])))))
                         (:
                          (LocalVars
                           (: Final [])
                           (RefType
                            (ClassRefType
                             (ClassType
                              (: ((,) (Ident "ModelAndView") []) []))))
                           (:
                            (VarDecl
                             (VarId (Ident "modelAndView"))
                             (Just
                              (InitExp
                               (MethodInv
                                (MethodCall
                                 (Name
                                  (:
                                   (Ident
                                    "getModelAndViewUponServiceValidationWithSecurePgtUrl")
                                   []))
                                 [])))))
                            []))
                          (:
                           (BlockStmt
                            (ExpStmt
                             (MethodInv
                              (MethodCall
                               (Name (: (Ident "assertTrue") []))
                               (:
                                (MethodInv
                                 (PrimaryMethodCall
                                  (MethodInv
                                   (PrimaryMethodCall
                                    (MethodInv
                                     (MethodCall
                                      (Name
                                       (:
                                        (Ident "modelAndView")
                                        (: (Ident "getView") [])))
                                      []))
                                    []
                                    (Ident "toString")
                                    []))
                                  []
                                  (Ident "contains")
                                  (:
                                   (ExpName (Name (: (Ident "SUCCESS") [])))
                                   [])))
                                [])))))
                           []))))))))
                   (:
                    (MemberDecl
                     (MethodDecl
                      (:
                       (Annotation
                        (MarkerAnnotation (Name (: (Ident "Test") []))))
                       (: Public []))
                      []
                      Nothing
                      (Ident "verifyValidServiceTicketWithInvalidPgt")
                      []
                      (:
                       (ClassRefType
                        (ClassType (: ((,) (Ident "Exception") []) [])))
                       [])
                      Nothing
                      (MethodBody
                       (Just
                        (Block
                         (:
                          (LocalVars
                           (: Final [])
                           (RefType
                            (ClassRefType
                             (ClassType
                              (: ((,) (Ident "AuthenticationResult") []) []))))
                           (:
                            (VarDecl
                             (VarId (Ident "ctx"))
                             (Just
                              (InitExp
                               (MethodInv
                                (MethodCall
                                 (Name
                                  (:
                                   (Ident "CoreAuthenticationTestUtils")
                                   (: (Ident "getAuthenticationResult") [])))
                                 (:
                                  (MethodInv
                                   (MethodCall
                                    (Name
                                     (:
                                      (Ident "getAuthenticationSystemSupport")
                                      []))
                                    []))
                                  (:
                                   (ExpName (Name (: (Ident "SERVICE") [])))
                                   [])))))))
                            []))
                          (:
                           (BlockStmt
                            (ExpStmt
                             (MethodInv
                              (PrimaryMethodCall
                               (FieldAccess
                                (PrimaryFieldAccess
                                 This
                                 (Ident "serviceValidateController")))
                               []
                               (Ident "setProxyHandler")
                               (:
                                (InstanceCreation
                                 []
                                 (TypeDeclSpecifier
                                  (ClassType
                                   (: ((,) (Ident "Cas10ProxyHandler") []) [])))
                                 []
                                 Nothing)
                                [])))))
                           (:
                            (LocalVars
                             (: Final [])
                             (RefType
                              (ClassRefType
                               (ClassType
                                (:
                                 ((,) (Ident "TicketGrantingTicket") [])
                                 []))))
                             (:
                              (VarDecl
                               (VarId (Ident "tId"))
                               (Just
                                (InitExp
                                 (MethodInv
                                  (PrimaryMethodCall
                                   (MethodInv
                                    (MethodCall
                                     (Name
                                      (:
                                       (Ident "getCentralAuthenticationService")
                                       []))
                                     []))
                                   []
                                   (Ident "createTicketGrantingTicket")
                                   (:
                                    (ExpName (Name (: (Ident "ctx") [])))
                                    []))))))
                              []))
                            (:
                             (LocalVars
                              (: Final [])
                              (RefType
                               (ClassRefType
                                (ClassType
                                 (: ((,) (Ident "ServiceTicket") []) []))))
                              (:
                               (VarDecl
                                (VarId (Ident "sId"))
                                (Just
                                 (InitExp
                                  (MethodInv
                                   (PrimaryMethodCall
                                    (MethodInv
                                     (MethodCall
                                      (Name
                                       (:
                                        (Ident
                                         "getCentralAuthenticationService")
                                        []))
                                      []))
                                    []
                                    (Ident "grantServiceTicket")
                                    (:
                                     (MethodInv
                                      (MethodCall
                                       (Name
                                        (:
                                         (Ident "tId")
                                         (: (Ident "getId") [])))
                                       []))
                                     (:
                                      (ExpName (Name (: (Ident "SERVICE") [])))
                                      (:
                                       (ExpName (Name (: (Ident "ctx") [])))
                                       []))))))))
                               []))
                             (:
                              (LocalVars
                               (: Final [])
                               (RefType
                                (ClassRefType
                                 (ClassType
                                  (:
                                   ((,) (Ident "MockHttpServletRequest") [])
                                   []))))
                               (:
                                (VarDecl
                                 (VarId (Ident "request"))
                                 (Just
                                  (InitExp
                                   (InstanceCreation
                                    []
                                    (TypeDeclSpecifier
                                     (ClassType
                                      (:
                                       ((,) (Ident "MockHttpServletRequest") [])
                                       [])))
                                    []
                                    Nothing))))
                                []))
                              (:
                               (BlockStmt
                                (ExpStmt
                                 (MethodInv
                                  (MethodCall
                                   (Name
                                    (:
                                     (Ident "request")
                                     (: (Ident "addParameter") [])))
                                   (:
                                    (Lit (String "service"))
                                    (:
                                     (MethodInv
                                      (MethodCall
                                       (Name
                                        (:
                                         (Ident "SERVICE")
                                         (: (Ident "getId") [])))
                                       []))
                                     []))))))
                               (:
                                (BlockStmt
                                 (ExpStmt
                                  (MethodInv
                                   (MethodCall
                                    (Name
                                     (:
                                      (Ident "request")
                                      (: (Ident "addParameter") [])))
                                    (:
                                     (Lit (String "ticket"))
                                     (:
                                      (MethodInv
                                       (MethodCall
                                        (Name
                                         (:
                                          (Ident "sId")
                                          (: (Ident "getId") [])))
                                        []))
                                      []))))))
                                (:
                                 (BlockStmt
                                  (ExpStmt
                                   (MethodInv
                                    (MethodCall
                                     (Name
                                      (:
                                       (Ident "request")
                                       (: (Ident "addParameter") [])))
                                     (:
                                      (Lit (String "pgtUrl"))
                                      (: (Lit (String "duh")) []))))))
                                 (:
                                  (LocalVars
                                   (: Final [])
                                   (RefType
                                    (ClassRefType
                                     (ClassType
                                      (: ((,) (Ident "ModelAndView") []) []))))
                                   (:
                                    (VarDecl
                                     (VarId (Ident "modelAndView"))
                                     (Just
                                      (InitExp
                                       (MethodInv
                                        (PrimaryMethodCall
                                         (FieldAccess
                                          (PrimaryFieldAccess
                                           This
                                           (Ident "serviceValidateController")))
                                         []
                                         (Ident "handleRequestInternal")
                                         (:
                                          (ExpName
                                           (Name (: (Ident "request") [])))
                                          (:
                                           (InstanceCreation
                                            []
                                            (TypeDeclSpecifier
                                             (ClassType
                                              (:
                                               ((,)
                                                (Ident
                                                 "MockHttpServletResponse")
                                                [])
                                               [])))
                                            []
                                            Nothing)
                                           [])))))))
                                    []))
                                  (:
                                   (BlockStmt
                                    (ExpStmt
                                     (MethodInv
                                      (MethodCall
                                       (Name (: (Ident "assertTrue") []))
                                       (:
                                        (MethodInv
                                         (PrimaryMethodCall
                                          (MethodInv
                                           (PrimaryMethodCall
                                            (MethodInv
                                             (MethodCall
                                              (Name
                                               (:
                                                (Ident "modelAndView")
                                                (: (Ident "getView") [])))
                                              []))
                                            []
                                            (Ident "toString")
                                            []))
                                          []
                                          (Ident "contains")
                                          (:
                                           (ExpName
                                            (Name (: (Ident "SUCCESS") [])))
                                           [])))
                                        [])))))
                                   (:
                                    (BlockStmt
                                     (ExpStmt
                                      (MethodInv
                                       (MethodCall
                                        (Name (: (Ident "assertNull") []))
                                        (:
                                         (MethodInv
                                          (PrimaryMethodCall
                                           (MethodInv
                                            (MethodCall
                                             (Name
                                              (:
                                               (Ident "modelAndView")
                                               (: (Ident "getModel") [])))
                                             []))
                                           []
                                           (Ident "get")
                                           (: (Lit (String "pgtIou")) [])))
                                         [])))))
                                    []))))))))))))))))
                    (:
                     (MemberDecl
                      (MethodDecl
                       (:
                        (Annotation
                         (MarkerAnnotation (Name (: (Ident "Test") []))))
                        (: Public []))
                       []
                       Nothing
                       (Ident
                        "verifyValidServiceTicketWithValidPgtAndProxyHandling")
                       []
                       (:
                        (ClassRefType
                         (ClassType (: ((,) (Ident "Exception") []) [])))
                        [])
                       Nothing
                       (MethodBody
                        (Just
                         (Block
                          (:
                           (LocalVars
                            (: Final [])
                            (RefType
                             (ClassRefType
                              (ClassType
                               (: ((,) (Ident "AuthenticationResult") []) []))))
                            (:
                             (VarDecl
                              (VarId (Ident "ctx"))
                              (Just
                               (InitExp
                                (MethodInv
                                 (MethodCall
                                  (Name
                                   (:
                                    (Ident "CoreAuthenticationTestUtils")
                                    (: (Ident "getAuthenticationResult") [])))
                                  (:
                                   (MethodInv
                                    (MethodCall
                                     (Name
                                      (:
                                       (Ident "getAuthenticationSystemSupport")
                                       []))
                                     []))
                                   (:
                                    (ExpName (Name (: (Ident "SERVICE") [])))
                                    [])))))))
                             []))
                           (:
                            (LocalVars
                             (: Final [])
                             (RefType
                              (ClassRefType
                               (ClassType
                                (:
                                 ((,) (Ident "TicketGrantingTicket") [])
                                 []))))
                             (:
                              (VarDecl
                               (VarId (Ident "tId"))
                               (Just
                                (InitExp
                                 (MethodInv
                                  (PrimaryMethodCall
                                   (MethodInv
                                    (MethodCall
                                     (Name
                                      (:
                                       (Ident "getCentralAuthenticationService")
                                       []))
                                     []))
                                   []
                                   (Ident "createTicketGrantingTicket")
                                   (:
                                    (ExpName (Name (: (Ident "ctx") [])))
                                    []))))))
                              []))
                            (:
                             (LocalVars
                              (: Final [])
                              (RefType
                               (ClassRefType
                                (ClassType
                                 (: ((,) (Ident "ServiceTicket") []) []))))
                              (:
                               (VarDecl
                                (VarId (Ident "sId"))
                                (Just
                                 (InitExp
                                  (MethodInv
                                   (PrimaryMethodCall
                                    (MethodInv
                                     (MethodCall
                                      (Name
                                       (:
                                        (Ident
                                         "getCentralAuthenticationService")
                                        []))
                                      []))
                                    []
                                    (Ident "grantServiceTicket")
                                    (:
                                     (MethodInv
                                      (MethodCall
                                       (Name
                                        (:
                                         (Ident "tId")
                                         (: (Ident "getId") [])))
                                       []))
                                     (:
                                      (ExpName (Name (: (Ident "SERVICE") [])))
                                      (:
                                       (ExpName (Name (: (Ident "ctx") [])))
                                       []))))))))
                               []))
                             (:
                              (LocalVars
                               (: Final [])
                               (RefType
                                (ClassRefType
                                 (ClassType
                                  (:
                                   ((,) (Ident "MockHttpServletRequest") [])
                                   []))))
                               (:
                                (VarDecl
                                 (VarId (Ident "request"))
                                 (Just
                                  (InitExp
                                   (InstanceCreation
                                    []
                                    (TypeDeclSpecifier
                                     (ClassType
                                      (:
                                       ((,) (Ident "MockHttpServletRequest") [])
                                       [])))
                                    []
                                    Nothing))))
                                []))
                              (:
                               (BlockStmt
                                (ExpStmt
                                 (MethodInv
                                  (MethodCall
                                   (Name
                                    (:
                                     (Ident "request")
                                     (: (Ident "addParameter") [])))
                                   (:
                                    (Lit (String "service"))
                                    (:
                                     (MethodInv
                                      (MethodCall
                                       (Name
                                        (:
                                         (Ident "SERVICE")
                                         (: (Ident "getId") [])))
                                       []))
                                     []))))))
                               (:
                                (BlockStmt
                                 (ExpStmt
                                  (MethodInv
                                   (MethodCall
                                    (Name
                                     (:
                                      (Ident "request")
                                      (: (Ident "addParameter") [])))
                                    (:
                                     (Lit (String "ticket"))
                                     (:
                                      (MethodInv
                                       (MethodCall
                                        (Name
                                         (:
                                          (Ident "sId")
                                          (: (Ident "getId") [])))
                                        []))
                                      []))))))
                                (:
                                 (BlockStmt
                                  (ExpStmt
                                   (MethodInv
                                    (MethodCall
                                     (Name
                                      (:
                                       (Ident "request")
                                       (: (Ident "addParameter") [])))
                                     (:
                                      (Lit (String "pgtUrl"))
                                      (:
                                       (Lit (String "https://www.github.com"))
                                       []))))))
                                 (:
                                  (LocalVars
                                   (: Final [])
                                   (RefType
                                    (ClassRefType
                                     (ClassType
                                      (: ((,) (Ident "ModelAndView") []) []))))
                                   (:
                                    (VarDecl
                                     (VarId (Ident "modelAndView"))
                                     (Just
                                      (InitExp
                                       (MethodInv
                                        (PrimaryMethodCall
                                         (FieldAccess
                                          (PrimaryFieldAccess
                                           This
                                           (Ident "serviceValidateController")))
                                         []
                                         (Ident "handleRequestInternal")
                                         (:
                                          (ExpName
                                           (Name (: (Ident "request") [])))
                                          (:
                                           (InstanceCreation
                                            []
                                            (TypeDeclSpecifier
                                             (ClassType
                                              (:
                                               ((,)
                                                (Ident
                                                 "MockHttpServletResponse")
                                                [])
                                               [])))
                                            []
                                            Nothing)
                                           [])))))))
                                    []))
                                  (:
                                   (BlockStmt
                                    (ExpStmt
                                     (MethodInv
                                      (MethodCall
                                       (Name (: (Ident "assertTrue") []))
                                       (:
                                        (MethodInv
                                         (PrimaryMethodCall
                                          (MethodInv
                                           (PrimaryMethodCall
                                            (MethodInv
                                             (MethodCall
                                              (Name
                                               (:
                                                (Ident "modelAndView")
                                                (: (Ident "getView") [])))
                                              []))
                                            []
                                            (Ident "toString")
                                            []))
                                          []
                                          (Ident "contains")
                                          (:
                                           (ExpName
                                            (Name (: (Ident "SUCCESS") [])))
                                           [])))
                                        [])))))
                                   (:
                                    (BlockStmt
                                     (ExpStmt
                                      (MethodInv
                                       (MethodCall
                                        (Name (: (Ident "assertNotNull") []))
                                        (:
                                         (MethodInv
                                          (PrimaryMethodCall
                                           (MethodInv
                                            (MethodCall
                                             (Name
                                              (:
                                               (Ident "modelAndView")
                                               (: (Ident "getModel") [])))
                                             []))
                                           []
                                           (Ident "get")
                                           (: (Lit (String "pgtIou")) [])))
                                         [])))))
                                    [])))))))))))))))
                     (:
                      (MemberDecl
                       (MethodDecl
                        (:
                         (Annotation
                          (MarkerAnnotation (Name (: (Ident "Test") []))))
                         (: Public []))
                        []
                        Nothing
                        (Ident
                         "verifyValidServiceTicketWithValidPgtAndProxyHandlerFailing")
                        []
                        (:
                         (ClassRefType
                          (ClassType (: ((,) (Ident "Exception") []) [])))
                         [])
                        Nothing
                        (MethodBody
                         (Just
                          (Block
                           (:
                            (LocalVars
                             (: Final [])
                             (RefType
                              (ClassRefType
                               (ClassType
                                (:
                                 ((,) (Ident "AuthenticationResult") [])
                                 []))))
                             (:
                              (VarDecl
                               (VarId (Ident "ctx"))
                               (Just
                                (InitExp
                                 (MethodInv
                                  (MethodCall
                                   (Name
                                    (:
                                     (Ident "CoreAuthenticationTestUtils")
                                     (: (Ident "getAuthenticationResult") [])))
                                   (:
                                    (MethodInv
                                     (MethodCall
                                      (Name
                                       (:
                                        (Ident "getAuthenticationSystemSupport")
                                        []))
                                      []))
                                    (:
                                     (ExpName (Name (: (Ident "SERVICE") [])))
                                     [])))))))
                              []))
                            (:
                             (LocalVars
                              (: Final [])
                              (RefType
                               (ClassRefType
                                (ClassType
                                 (:
                                  ((,) (Ident "TicketGrantingTicket") [])
                                  []))))
                              (:
                               (VarDecl
                                (VarId (Ident "tId"))
                                (Just
                                 (InitExp
                                  (MethodInv
                                   (PrimaryMethodCall
                                    (MethodInv
                                     (MethodCall
                                      (Name
                                       (:
                                        (Ident
                                         "getCentralAuthenticationService")
                                        []))
                                      []))
                                    []
                                    (Ident "createTicketGrantingTicket")
                                    (:
                                     (ExpName (Name (: (Ident "ctx") [])))
                                     []))))))
                               []))
                             (:
                              (LocalVars
                               (: Final [])
                               (RefType
                                (ClassRefType
                                 (ClassType
                                  (: ((,) (Ident "ServiceTicket") []) []))))
                               (:
                                (VarDecl
                                 (VarId (Ident "sId"))
                                 (Just
                                  (InitExp
                                   (MethodInv
                                    (PrimaryMethodCall
                                     (MethodInv
                                      (MethodCall
                                       (Name
                                        (:
                                         (Ident
                                          "getCentralAuthenticationService")
                                         []))
                                       []))
                                     []
                                     (Ident "grantServiceTicket")
                                     (:
                                      (MethodInv
                                       (MethodCall
                                        (Name
                                         (:
                                          (Ident "tId")
                                          (: (Ident "getId") [])))
                                        []))
                                      (:
                                       (ExpName (Name (: (Ident "SERVICE") [])))
                                       (:
                                        (ExpName (Name (: (Ident "ctx") [])))
                                        []))))))))
                                []))
                              (:
                               (LocalVars
                                (: Final [])
                                (RefType
                                 (ClassRefType
                                  (ClassType
                                   (:
                                    ((,) (Ident "MockHttpServletRequest") [])
                                    []))))
                                (:
                                 (VarDecl
                                  (VarId (Ident "request"))
                                  (Just
                                   (InitExp
                                    (InstanceCreation
                                     []
                                     (TypeDeclSpecifier
                                      (ClassType
                                       (:
                                        ((,)
                                         (Ident "MockHttpServletRequest")
                                         [])
                                        [])))
                                     []
                                     Nothing))))
                                 []))
                               (:
                                (BlockStmt
                                 (ExpStmt
                                  (MethodInv
                                   (MethodCall
                                    (Name
                                     (:
                                      (Ident "request")
                                      (: (Ident "addParameter") [])))
                                    (:
                                     (Lit (String "service"))
                                     (:
                                      (MethodInv
                                       (MethodCall
                                        (Name
                                         (:
                                          (Ident "SERVICE")
                                          (: (Ident "getId") [])))
                                        []))
                                      []))))))
                                (:
                                 (BlockStmt
                                  (ExpStmt
                                   (MethodInv
                                    (MethodCall
                                     (Name
                                      (:
                                       (Ident "request")
                                       (: (Ident "addParameter") [])))
                                     (:
                                      (Lit (String "ticket"))
                                      (:
                                       (MethodInv
                                        (MethodCall
                                         (Name
                                          (:
                                           (Ident "sId")
                                           (: (Ident "getId") [])))
                                         []))
                                       []))))))
                                 (:
                                  (BlockStmt
                                   (ExpStmt
                                    (MethodInv
                                     (MethodCall
                                      (Name
                                       (:
                                        (Ident "request")
                                        (: (Ident "addParameter") [])))
                                      (:
                                       (Lit (String "pgtUrl"))
                                       (:
                                        (Lit (String "https://www.github.com"))
                                        []))))))
                                  (:
                                   (BlockStmt
                                    (ExpStmt
                                     (MethodInv
                                      (PrimaryMethodCall
                                       (FieldAccess
                                        (PrimaryFieldAccess
                                         This
                                         (Ident "serviceValidateController")))
                                       []
                                       (Ident "setProxyHandler")
                                       (:
                                        (InstanceCreation
                                         []
                                         (TypeDeclSpecifier
                                          (ClassType
                                           (:
                                            ((,) (Ident "ProxyHandler") [])
                                            [])))
                                         []
                                         (Just
                                          (ClassBody
                                           (:
                                            (MemberDecl
                                             (MethodDecl
                                              (:
                                               (Annotation
                                                (MarkerAnnotation
                                                 (Name
                                                  (: (Ident "Override") []))))
                                               (: Public []))
                                              []
                                              (Just
                                               (RefType
                                                (ClassRefType
                                                 (ClassType
                                                  (:
                                                   ((,) (Ident "String") [])
                                                   [])))))
                                              (Ident "handle")
                                              (:
                                               (FormalParam
                                                (: Final [])
                                                (RefType
                                                 (ClassRefType
                                                  (ClassType
                                                   (:
                                                    ((,)
                                                     (Ident "Credential")
                                                     [])
                                                    []))))
                                                False
                                                (VarId (Ident "credential")))
                                               (:
                                                (FormalParam
                                                 (: Final [])
                                                 (RefType
                                                  (ClassRefType
                                                   (ClassType
                                                    (:
                                                     ((,)
                                                      (Ident
                                                       "TicketGrantingTicket")
                                                      [])
                                                     []))))
                                                 False
                                                 (VarId
                                                  (Ident
                                                   "proxyGrantingTicketId")))
                                                []))
                                              []
                                              Nothing
                                              (MethodBody
                                               (Just
                                                (Block
                                                 (:
                                                  (BlockStmt
                                                   (Return (Just (Lit Null))))
                                                  []))))))
                                            (:
                                             (MemberDecl
                                              (MethodDecl
                                               (:
                                                (Annotation
                                                 (MarkerAnnotation
                                                  (Name
                                                   (: (Ident "Override") []))))
                                                (: Public []))
                                               []
                                               (Just (PrimType BooleanT))
                                               (Ident "canHandle")
                                               (:
                                                (FormalParam
                                                 (: Final [])
                                                 (RefType
                                                  (ClassRefType
                                                   (ClassType
                                                    (:
                                                     ((,)
                                                      (Ident "Credential")
                                                      [])
                                                     []))))
                                                 False
                                                 (VarId (Ident "credential")))
                                                [])
                                               []
                                               Nothing
                                               (MethodBody
                                                (Just
                                                 (Block
                                                  (:
                                                   (BlockStmt
                                                    (Return
                                                     (Just
                                                      (Lit (Boolean True)))))
                                                   []))))))
                                             [])))))
                                        [])))))
                                   (:
                                    (LocalVars
                                     (: Final [])
                                     (RefType
                                      (ClassRefType
                                       (ClassType
                                        (:
                                         ((,) (Ident "ModelAndView") [])
                                         []))))
                                     (:
                                      (VarDecl
                                       (VarId (Ident "modelAndView"))
                                       (Just
                                        (InitExp
                                         (MethodInv
                                          (PrimaryMethodCall
                                           (FieldAccess
                                            (PrimaryFieldAccess
                                             This
                                             (Ident
                                              "serviceValidateController")))
                                           []
                                           (Ident "handleRequestInternal")
                                           (:
                                            (ExpName
                                             (Name (: (Ident "request") [])))
                                            (:
                                             (InstanceCreation
                                              []
                                              (TypeDeclSpecifier
                                               (ClassType
                                                (:
                                                 ((,)
                                                  (Ident
                                                   "MockHttpServletResponse")
                                                  [])
                                                 [])))
                                              []
                                              Nothing)
                                             [])))))))
                                      []))
                                    (:
                                     (BlockStmt
                                      (ExpStmt
                                       (MethodInv
                                        (MethodCall
                                         (Name (: (Ident "assertFalse") []))
                                         (:
                                          (MethodInv
                                           (PrimaryMethodCall
                                            (MethodInv
                                             (PrimaryMethodCall
                                              (MethodInv
                                               (MethodCall
                                                (Name
                                                 (:
                                                  (Ident "modelAndView")
                                                  (: (Ident "getView") [])))
                                                []))
                                              []
                                              (Ident "toString")
                                              []))
                                            []
                                            (Ident "contains")
                                            (:
                                             (ExpName
                                              (Name (: (Ident "SUCCESS") [])))
                                             [])))
                                          [])))))
                                     (:
                                      (BlockStmt
                                       (ExpStmt
                                        (MethodInv
                                         (MethodCall
                                          (Name (: (Ident "assertNull") []))
                                          (:
                                           (MethodInv
                                            (PrimaryMethodCall
                                             (MethodInv
                                              (MethodCall
                                               (Name
                                                (:
                                                 (Ident "modelAndView")
                                                 (: (Ident "getModel") [])))
                                               []))
                                             []
                                             (Ident "get")
                                             (: (Lit (String "pgtIou")) [])))
                                           [])))))
                                      []))))))))))))))))
                      (:
                       (MemberDecl
                        (MethodDecl
                         (:
                          (Annotation
                           (MarkerAnnotation (Name (: (Ident "Test") []))))
                          (: Public []))
                         []
                         Nothing
                         (Ident
                          "verifyValidServiceTicketWithDifferentEncodingAndIgnoringCase")
                         []
                         (:
                          (ClassRefType
                           (ClassType (: ((,) (Ident "Exception") []) [])))
                          [])
                         Nothing
                         (MethodBody
                          (Just
                           (Block
                            (:
                             (LocalVars
                              (: Final [])
                              (RefType
                               (ClassRefType
                                (ClassType (: ((,) (Ident "String") []) []))))
                              (:
                               (VarDecl
                                (VarId (Ident "origSvc"))
                                (Just
                                 (InitExp
                                  (Lit
                                   (String
                                    "http://www.jasig.org?param=hello+world")))))
                               []))
                             (:
                              (LocalVars
                               (: Final [])
                               (RefType
                                (ClassRefType
                                 (ClassType (: ((,) (Ident "Service") []) []))))
                               (:
                                (VarDecl
                                 (VarId (Ident "svc"))
                                 (Just
                                  (InitExp
                                   (MethodInv
                                    (MethodCall
                                     (Name
                                      (:
                                       (Ident "CoreAuthenticationTestUtils")
                                       (: (Ident "getService") [])))
                                     (:
                                      (ExpName (Name (: (Ident "origSvc") [])))
                                      []))))))
                                []))
                              (:
                               (LocalVars
                                (: Final [])
                                (RefType
                                 (ClassRefType
                                  (ClassType
                                   (:
                                    ((,) (Ident "AuthenticationResult") [])
                                    []))))
                                (:
                                 (VarDecl
                                  (VarId (Ident "ctx"))
                                  (Just
                                   (InitExp
                                    (MethodInv
                                     (MethodCall
                                      (Name
                                       (:
                                        (Ident "CoreAuthenticationTestUtils")
                                        (:
                                         (Ident "getAuthenticationResult")
                                         [])))
                                      (:
                                       (MethodInv
                                        (MethodCall
                                         (Name
                                          (:
                                           (Ident
                                            "getAuthenticationSystemSupport")
                                           []))
                                         []))
                                       (:
                                        (ExpName (Name (: (Ident "svc") [])))
                                        [])))))))
                                 []))
                               (:
                                (BlockStmt
                                 (ExpStmt
                                  (MethodInv
                                   (PrimaryMethodCall
                                    (FieldAccess
                                     (PrimaryFieldAccess
                                      This
                                      (Ident "serviceValidateController")))
                                    []
                                    (Ident "setProxyHandler")
                                    (:
                                     (InstanceCreation
                                      []
                                      (TypeDeclSpecifier
                                       (ClassType
                                        (:
                                         ((,) (Ident "Cas10ProxyHandler") [])
                                         [])))
                                      []
                                      Nothing)
                                     [])))))
                                (:
                                 (LocalVars
                                  (: Final [])
                                  (RefType
                                   (ClassRefType
                                    (ClassType
                                     (:
                                      ((,) (Ident "TicketGrantingTicket") [])
                                      []))))
                                  (:
                                   (VarDecl
                                    (VarId (Ident "tId"))
                                    (Just
                                     (InitExp
                                      (MethodInv
                                       (PrimaryMethodCall
                                        (MethodInv
                                         (MethodCall
                                          (Name
                                           (:
                                            (Ident
                                             "getCentralAuthenticationService")
                                            []))
                                          []))
                                        []
                                        (Ident "createTicketGrantingTicket")
                                        (:
                                         (ExpName (Name (: (Ident "ctx") [])))
                                         []))))))
                                   []))
                                 (:
                                  (LocalVars
                                   (: Final [])
                                   (RefType
                                    (ClassRefType
                                     (ClassType
                                      (: ((,) (Ident "ServiceTicket") []) []))))
                                   (:
                                    (VarDecl
                                     (VarId (Ident "sId"))
                                     (Just
                                      (InitExp
                                       (MethodInv
                                        (PrimaryMethodCall
                                         (MethodInv
                                          (MethodCall
                                           (Name
                                            (:
                                             (Ident
                                              "getCentralAuthenticationService")
                                             []))
                                           []))
                                         []
                                         (Ident "grantServiceTicket")
                                         (:
                                          (MethodInv
                                           (MethodCall
                                            (Name
                                             (:
                                              (Ident "tId")
                                              (: (Ident "getId") [])))
                                            []))
                                          (:
                                           (ExpName (Name (: (Ident "svc") [])))
                                           (:
                                            (ExpName
                                             (Name (: (Ident "ctx") [])))
                                            []))))))))
                                    []))
                                  (:
                                   (LocalVars
                                    (: Final [])
                                    (RefType
                                     (ClassRefType
                                      (ClassType
                                       (: ((,) (Ident "String") []) []))))
                                    (:
                                     (VarDecl
                                      (VarId (Ident "reqSvc"))
                                      (Just
                                       (InitExp
                                        (Lit
                                         (String
                                          "http://WWW.JASIG.ORG?PARAM=hello%20world")))))
                                     []))
                                   (:
                                    (LocalVars
                                     (: Final [])
                                     (RefType
                                      (ClassRefType
                                       (ClassType
                                        (:
                                         ((,)
                                          (Ident "MockHttpServletRequest")
                                          [])
                                         []))))
                                     (:
                                      (VarDecl
                                       (VarId (Ident "request"))
                                       (Just
                                        (InitExp
                                         (InstanceCreation
                                          []
                                          (TypeDeclSpecifier
                                           (ClassType
                                            (:
                                             ((,)
                                              (Ident "MockHttpServletRequest")
                                              [])
                                             [])))
                                          []
                                          Nothing))))
                                      []))
                                    (:
                                     (BlockStmt
                                      (ExpStmt
                                       (MethodInv
                                        (MethodCall
                                         (Name
                                          (:
                                           (Ident "request")
                                           (: (Ident "addParameter") [])))
                                         (:
                                          (Lit (String "service"))
                                          (:
                                           (MethodInv
                                            (PrimaryMethodCall
                                             (MethodInv
                                              (MethodCall
                                               (Name
                                                (:
                                                 (Ident
                                                  "CoreAuthenticationTestUtils")
                                                 (: (Ident "getService") [])))
                                               (:
                                                (ExpName
                                                 (Name (: (Ident "reqSvc") [])))
                                                [])))
                                             []
                                             (Ident "getId")
                                             []))
                                           []))))))
                                     (:
                                      (BlockStmt
                                       (ExpStmt
                                        (MethodInv
                                         (MethodCall
                                          (Name
                                           (:
                                            (Ident "request")
                                            (: (Ident "addParameter") [])))
                                          (:
                                           (Lit (String "ticket"))
                                           (:
                                            (MethodInv
                                             (MethodCall
                                              (Name
                                               (:
                                                (Ident "sId")
                                                (: (Ident "getId") [])))
                                              []))
                                            []))))))
                                      (:
                                       (BlockStmt
                                        (ExpStmt
                                         (MethodInv
                                          (MethodCall
                                           (Name (: (Ident "assertTrue") []))
                                           (:
                                            (MethodInv
                                             (PrimaryMethodCall
                                              (MethodInv
                                               (PrimaryMethodCall
                                                (MethodInv
                                                 (PrimaryMethodCall
                                                  (MethodInv
                                                   (PrimaryMethodCall
                                                    (FieldAccess
                                                     (PrimaryFieldAccess
                                                      This
                                                      (Ident
                                                       "serviceValidateController")))
                                                    []
                                                    (Ident
                                                     "handleRequestInternal")
                                                    (:
                                                     (ExpName
                                                      (Name
                                                       (:
                                                        (Ident "request")
                                                        [])))
                                                     (:
                                                      (InstanceCreation
                                                       []
                                                       (TypeDeclSpecifier
                                                        (ClassType
                                                         (:
                                                          ((,)
                                                           (Ident
                                                            "MockHttpServletResponse")
                                                           [])
                                                          [])))
                                                       []
                                                       Nothing)
                                                      []))))
                                                  []
                                                  (Ident "getView")
                                                  []))
                                                []
                                                (Ident "toString")
                                                []))
                                              []
                                              (Ident "contains")
                                              (:
                                               (ExpName
                                                (Name (: (Ident "SUCCESS") [])))
                                               [])))
                                            [])))))
                                       []))))))))))))))))
                       (:
                        (MemberDecl
                         (MethodDecl
                          (:
                           (Annotation
                            (MarkerAnnotation (Name (: (Ident "Test") []))))
                           (: Public []))
                          []
                          Nothing
                          (Ident
                           "verifyValidServiceTicketWithDifferentEncoding")
                          []
                          (:
                           (ClassRefType
                            (ClassType (: ((,) (Ident "Exception") []) [])))
                           [])
                          Nothing
                          (MethodBody
                           (Just
                            (Block
                             (:
                              (LocalVars
                               (: Final [])
                               (RefType
                                (ClassRefType
                                 (ClassType (: ((,) (Ident "Service") []) []))))
                               (:
                                (VarDecl
                                 (VarId (Ident "svc"))
                                 (Just
                                  (InitExp
                                   (MethodInv
                                    (MethodCall
                                     (Name
                                      (:
                                       (Ident "CoreAuthenticationTestUtils")
                                       (: (Ident "getService") [])))
                                     (:
                                      (Lit
                                       (String
                                        "http://www.jasig.org?param=hello+world"))
                                      []))))))
                                []))
                              (:
                               (LocalVars
                                (: Final [])
                                (RefType
                                 (ClassRefType
                                  (ClassType
                                   (:
                                    ((,) (Ident "AuthenticationResult") [])
                                    []))))
                                (:
                                 (VarDecl
                                  (VarId (Ident "ctx"))
                                  (Just
                                   (InitExp
                                    (MethodInv
                                     (MethodCall
                                      (Name
                                       (:
                                        (Ident "CoreAuthenticationTestUtils")
                                        (:
                                         (Ident "getAuthenticationResult")
                                         [])))
                                      (:
                                       (MethodInv
                                        (MethodCall
                                         (Name
                                          (:
                                           (Ident
                                            "getAuthenticationSystemSupport")
                                           []))
                                         []))
                                       (:
                                        (ExpName (Name (: (Ident "svc") [])))
                                        [])))))))
                                 []))
                               (:
                                (BlockStmt
                                 (ExpStmt
                                  (MethodInv
                                   (PrimaryMethodCall
                                    (FieldAccess
                                     (PrimaryFieldAccess
                                      This
                                      (Ident "serviceValidateController")))
                                    []
                                    (Ident "setProxyHandler")
                                    (:
                                     (InstanceCreation
                                      []
                                      (TypeDeclSpecifier
                                       (ClassType
                                        (:
                                         ((,) (Ident "Cas10ProxyHandler") [])
                                         [])))
                                      []
                                      Nothing)
                                     [])))))
                                (:
                                 (LocalVars
                                  (: Final [])
                                  (RefType
                                   (ClassRefType
                                    (ClassType
                                     (:
                                      ((,) (Ident "TicketGrantingTicket") [])
                                      []))))
                                  (:
                                   (VarDecl
                                    (VarId (Ident "tId"))
                                    (Just
                                     (InitExp
                                      (MethodInv
                                       (PrimaryMethodCall
                                        (MethodInv
                                         (MethodCall
                                          (Name
                                           (:
                                            (Ident
                                             "getCentralAuthenticationService")
                                            []))
                                          []))
                                        []
                                        (Ident "createTicketGrantingTicket")
                                        (:
                                         (ExpName (Name (: (Ident "ctx") [])))
                                         []))))))
                                   []))
                                 (:
                                  (LocalVars
                                   (: Final [])
                                   (RefType
                                    (ClassRefType
                                     (ClassType
                                      (: ((,) (Ident "ServiceTicket") []) []))))
                                   (:
                                    (VarDecl
                                     (VarId (Ident "sId"))
                                     (Just
                                      (InitExp
                                       (MethodInv
                                        (PrimaryMethodCall
                                         (MethodInv
                                          (MethodCall
                                           (Name
                                            (:
                                             (Ident
                                              "getCentralAuthenticationService")
                                             []))
                                           []))
                                         []
                                         (Ident "grantServiceTicket")
                                         (:
                                          (MethodInv
                                           (MethodCall
                                            (Name
                                             (:
                                              (Ident "tId")
                                              (: (Ident "getId") [])))
                                            []))
                                          (:
                                           (ExpName (Name (: (Ident "svc") [])))
                                           (:
                                            (ExpName
                                             (Name (: (Ident "ctx") [])))
                                            []))))))))
                                    []))
                                  (:
                                   (LocalVars
                                    (: Final [])
                                    (RefType
                                     (ClassRefType
                                      (ClassType
                                       (: ((,) (Ident "String") []) []))))
                                    (:
                                     (VarDecl
                                      (VarId (Ident "reqSvc"))
                                      (Just
                                       (InitExp
                                        (Lit
                                         (String
                                          "http://www.jasig.org?param=hello%20world")))))
                                     []))
                                   (:
                                    (LocalVars
                                     (: Final [])
                                     (RefType
                                      (ClassRefType
                                       (ClassType
                                        (:
                                         ((,)
                                          (Ident "MockHttpServletRequest")
                                          [])
                                         []))))
                                     (:
                                      (VarDecl
                                       (VarId (Ident "request"))
                                       (Just
                                        (InitExp
                                         (InstanceCreation
                                          []
                                          (TypeDeclSpecifier
                                           (ClassType
                                            (:
                                             ((,)
                                              (Ident "MockHttpServletRequest")
                                              [])
                                             [])))
                                          []
                                          Nothing))))
                                      []))
                                    (:
                                     (BlockStmt
                                      (ExpStmt
                                       (MethodInv
                                        (MethodCall
                                         (Name
                                          (:
                                           (Ident "request")
                                           (: (Ident "addParameter") [])))
                                         (:
                                          (Lit (String "service"))
                                          (:
                                           (MethodInv
                                            (PrimaryMethodCall
                                             (MethodInv
                                              (MethodCall
                                               (Name
                                                (:
                                                 (Ident
                                                  "CoreAuthenticationTestUtils")
                                                 (: (Ident "getService") [])))
                                               (:
                                                (ExpName
                                                 (Name (: (Ident "reqSvc") [])))
                                                [])))
                                             []
                                             (Ident "getId")
                                             []))
                                           []))))))
                                     (:
                                      (BlockStmt
                                       (ExpStmt
                                        (MethodInv
                                         (MethodCall
                                          (Name
                                           (:
                                            (Ident "request")
                                            (: (Ident "addParameter") [])))
                                          (:
                                           (Lit (String "ticket"))
                                           (:
                                            (MethodInv
                                             (MethodCall
                                              (Name
                                               (:
                                                (Ident "sId")
                                                (: (Ident "getId") [])))
                                              []))
                                            []))))))
                                      (:
                                       (BlockStmt
                                        (ExpStmt
                                         (MethodInv
                                          (MethodCall
                                           (Name (: (Ident "assertTrue") []))
                                           (:
                                            (MethodInv
                                             (PrimaryMethodCall
                                              (MethodInv
                                               (PrimaryMethodCall
                                                (MethodInv
                                                 (PrimaryMethodCall
                                                  (MethodInv
                                                   (PrimaryMethodCall
                                                    (FieldAccess
                                                     (PrimaryFieldAccess
                                                      This
                                                      (Ident
                                                       "serviceValidateController")))
                                                    []
                                                    (Ident
                                                     "handleRequestInternal")
                                                    (:
                                                     (ExpName
                                                      (Name
                                                       (:
                                                        (Ident "request")
                                                        [])))
                                                     (:
                                                      (InstanceCreation
                                                       []
                                                       (TypeDeclSpecifier
                                                        (ClassType
                                                         (:
                                                          ((,)
                                                           (Ident
                                                            "MockHttpServletResponse")
                                                           [])
                                                          [])))
                                                       []
                                                       Nothing)
                                                      []))))
                                                  []
                                                  (Ident "getView")
                                                  []))
                                                []
                                                (Ident "toString")
                                                []))
                                              []
                                              (Ident "contains")
                                              (:
                                               (ExpName
                                                (Name (: (Ident "SUCCESS") [])))
                                               [])))
                                            [])))))
                                       [])))))))))))))))
                        (:
                         (MemberDecl
                          (MethodDecl
                           (:
                            (Annotation
                             (MarkerAnnotation (Name (: (Ident "Test") []))))
                            (: Public []))
                           []
                           Nothing
                           (Ident "verifyValidServiceTicketAndPgtUrlMismatch")
                           []
                           (:
                            (ClassRefType
                             (ClassType (: ((,) (Ident "Exception") []) [])))
                            [])
                           Nothing
                           (MethodBody
                            (Just
                             (Block
                              (:
                               (LocalVars
                                (: Final [])
                                (RefType
                                 (ClassRefType
                                  (ClassType
                                   (: ((,) (Ident "Service") []) []))))
                                (:
                                 (VarDecl
                                  (VarId (Ident "svc"))
                                  (Just
                                   (InitExp
                                    (MethodInv
                                     (MethodCall
                                      (Name
                                       (:
                                        (Ident "CoreAuthenticationTestUtils")
                                        (: (Ident "getService") [])))
                                      (: (Lit (String "proxyService")) []))))))
                                 []))
                               (:
                                (LocalVars
                                 (: Final [])
                                 (RefType
                                  (ClassRefType
                                   (ClassType
                                    (:
                                     ((,) (Ident "AuthenticationResult") [])
                                     []))))
                                 (:
                                  (VarDecl
                                   (VarId (Ident "ctx"))
                                   (Just
                                    (InitExp
                                     (MethodInv
                                      (MethodCall
                                       (Name
                                        (:
                                         (Ident "CoreAuthenticationTestUtils")
                                         (:
                                          (Ident "getAuthenticationResult")
                                          [])))
                                       (:
                                        (MethodInv
                                         (MethodCall
                                          (Name
                                           (:
                                            (Ident
                                             "getAuthenticationSystemSupport")
                                            []))
                                          []))
                                        (:
                                         (ExpName (Name (: (Ident "svc") [])))
                                         [])))))))
                                  []))
                                (:
                                 (LocalVars
                                  (: Final [])
                                  (RefType
                                   (ClassRefType
                                    (ClassType
                                     (:
                                      ((,) (Ident "TicketGrantingTicket") [])
                                      []))))
                                  (:
                                   (VarDecl
                                    (VarId (Ident "tId"))
                                    (Just
                                     (InitExp
                                      (MethodInv
                                       (PrimaryMethodCall
                                        (MethodInv
                                         (MethodCall
                                          (Name
                                           (:
                                            (Ident
                                             "getCentralAuthenticationService")
                                            []))
                                          []))
                                        []
                                        (Ident "createTicketGrantingTicket")
                                        (:
                                         (ExpName (Name (: (Ident "ctx") [])))
                                         []))))))
                                   []))
                                 (:
                                  (LocalVars
                                   (: Final [])
                                   (RefType
                                    (ClassRefType
                                     (ClassType
                                      (: ((,) (Ident "ServiceTicket") []) []))))
                                   (:
                                    (VarDecl
                                     (VarId (Ident "sId"))
                                     (Just
                                      (InitExp
                                       (MethodInv
                                        (PrimaryMethodCall
                                         (MethodInv
                                          (MethodCall
                                           (Name
                                            (:
                                             (Ident
                                              "getCentralAuthenticationService")
                                             []))
                                           []))
                                         []
                                         (Ident "grantServiceTicket")
                                         (:
                                          (MethodInv
                                           (MethodCall
                                            (Name
                                             (:
                                              (Ident "tId")
                                              (: (Ident "getId") [])))
                                            []))
                                          (:
                                           (ExpName (Name (: (Ident "svc") [])))
                                           (:
                                            (ExpName
                                             (Name (: (Ident "ctx") [])))
                                            []))))))))
                                    []))
                                  (:
                                   (LocalVars
                                    (: Final [])
                                    (RefType
                                     (ClassRefType
                                      (ClassType
                                       (:
                                        ((,)
                                         (Ident "MockHttpServletRequest")
                                         [])
                                        []))))
                                    (:
                                     (VarDecl
                                      (VarId (Ident "request"))
                                      (Just
                                       (InitExp
                                        (InstanceCreation
                                         []
                                         (TypeDeclSpecifier
                                          (ClassType
                                           (:
                                            ((,)
                                             (Ident "MockHttpServletRequest")
                                             [])
                                            [])))
                                         []
                                         Nothing))))
                                     []))
                                   (:
                                    (BlockStmt
                                     (ExpStmt
                                      (MethodInv
                                       (MethodCall
                                        (Name
                                         (:
                                          (Ident "request")
                                          (: (Ident "addParameter") [])))
                                        (:
                                         (Lit (String "service"))
                                         (:
                                          (MethodInv
                                           (MethodCall
                                            (Name
                                             (:
                                              (Ident "svc")
                                              (: (Ident "getId") [])))
                                            []))
                                          []))))))
                                    (:
                                     (BlockStmt
                                      (ExpStmt
                                       (MethodInv
                                        (MethodCall
                                         (Name
                                          (:
                                           (Ident "request")
                                           (: (Ident "addParameter") [])))
                                         (:
                                          (Lit (String "ticket"))
                                          (:
                                           (MethodInv
                                            (MethodCall
                                             (Name
                                              (:
                                               (Ident "sId")
                                               (: (Ident "getId") [])))
                                             []))
                                           []))))))
                                     (:
                                      (BlockStmt
                                       (ExpStmt
                                        (MethodInv
                                         (MethodCall
                                          (Name
                                           (:
                                            (Ident "request")
                                            (: (Ident "addParameter") [])))
                                          (:
                                           (Lit (String "pgtUrl"))
                                           (:
                                            (Lit
                                             (String "http://www.github.com"))
                                            []))))))
                                      (:
                                       (LocalVars
                                        (: Final [])
                                        (RefType
                                         (ClassRefType
                                          (ClassType
                                           (:
                                            ((,) (Ident "ModelAndView") [])
                                            []))))
                                        (:
                                         (VarDecl
                                          (VarId (Ident "modelAndView"))
                                          (Just
                                           (InitExp
                                            (MethodInv
                                             (PrimaryMethodCall
                                              (FieldAccess
                                               (PrimaryFieldAccess
                                                This
                                                (Ident
                                                 "serviceValidateController")))
                                              []
                                              (Ident "handleRequestInternal")
                                              (:
                                               (ExpName
                                                (Name (: (Ident "request") [])))
                                               (:
                                                (InstanceCreation
                                                 []
                                                 (TypeDeclSpecifier
                                                  (ClassType
                                                   (:
                                                    ((,)
                                                     (Ident
                                                      "MockHttpServletResponse")
                                                     [])
                                                    [])))
                                                 []
                                                 Nothing)
                                                [])))))))
                                         []))
                                       (:
                                        (BlockStmt
                                         (ExpStmt
                                          (MethodInv
                                           (MethodCall
                                            (Name (: (Ident "assertFalse") []))
                                            (:
                                             (MethodInv
                                              (PrimaryMethodCall
                                               (MethodInv
                                                (PrimaryMethodCall
                                                 (MethodInv
                                                  (MethodCall
                                                   (Name
                                                    (:
                                                     (Ident "modelAndView")
                                                     (: (Ident "getView") [])))
                                                   []))
                                                 []
                                                 (Ident "toString")
                                                 []))
                                               []
                                               (Ident "contains")
                                               (:
                                                (ExpName
                                                 (Name
                                                  (: (Ident "SUCCESS") [])))
                                                [])))
                                             [])))))
                                        (:
                                         (BlockStmt
                                          (ExpStmt
                                           (MethodInv
                                            (MethodCall
                                             (Name (: (Ident "assertNull") []))
                                             (:
                                              (MethodInv
                                               (PrimaryMethodCall
                                                (MethodInv
                                                 (MethodCall
                                                  (Name
                                                   (:
                                                    (Ident "modelAndView")
                                                    (: (Ident "getModel") [])))
                                                  []))
                                                []
                                                (Ident "get")
                                                (: (Lit (String "pgtIou")) [])))
                                              [])))))
                                         []))))))))))))))))
                         (:
                          (MemberDecl
                           (MethodDecl
                            (:
                             (Annotation
                              (MarkerAnnotation (Name (: (Ident "Test") []))))
                             (: Public []))
                            []
                            Nothing
                            (Ident "verifyValidServiceTicketAndFormatAsJson")
                            []
                            (:
                             (ClassRefType
                              (ClassType (: ((,) (Ident "Exception") []) [])))
                             [])
                            Nothing
                            (MethodBody
                             (Just
                              (Block
                               (:
                                (LocalVars
                                 (: Final [])
                                 (RefType
                                  (ClassRefType
                                   (ClassType
                                    (: ((,) (Ident "Service") []) []))))
                                 (:
                                  (VarDecl
                                   (VarId (Ident "svc"))
                                   (Just
                                    (InitExp
                                     (MethodInv
                                      (MethodCall
                                       (Name
                                        (:
                                         (Ident "CoreAuthenticationTestUtils")
                                         (: (Ident "getService") [])))
                                       (: (Lit (String "proxyService")) []))))))
                                  []))
                                (:
                                 (LocalVars
                                  (: Final [])
                                  (RefType
                                   (ClassRefType
                                    (ClassType
                                     (:
                                      ((,) (Ident "AuthenticationResult") [])
                                      []))))
                                  (:
                                   (VarDecl
                                    (VarId (Ident "ctx"))
                                    (Just
                                     (InitExp
                                      (MethodInv
                                       (MethodCall
                                        (Name
                                         (:
                                          (Ident "CoreAuthenticationTestUtils")
                                          (:
                                           (Ident "getAuthenticationResult")
                                           [])))
                                        (:
                                         (MethodInv
                                          (MethodCall
                                           (Name
                                            (:
                                             (Ident
                                              "getAuthenticationSystemSupport")
                                             []))
                                           []))
                                         (:
                                          (ExpName (Name (: (Ident "svc") [])))
                                          [])))))))
                                   []))
                                 (:
                                  (LocalVars
                                   (: Final [])
                                   (RefType
                                    (ClassRefType
                                     (ClassType
                                      (:
                                       ((,) (Ident "TicketGrantingTicket") [])
                                       []))))
                                   (:
                                    (VarDecl
                                     (VarId (Ident "tId"))
                                     (Just
                                      (InitExp
                                       (MethodInv
                                        (PrimaryMethodCall
                                         (MethodInv
                                          (MethodCall
                                           (Name
                                            (:
                                             (Ident
                                              "getCentralAuthenticationService")
                                             []))
                                           []))
                                         []
                                         (Ident "createTicketGrantingTicket")
                                         (:
                                          (ExpName (Name (: (Ident "ctx") [])))
                                          []))))))
                                    []))
                                  (:
                                   (LocalVars
                                    (: Final [])
                                    (RefType
                                     (ClassRefType
                                      (ClassType
                                       (:
                                        ((,) (Ident "ServiceTicket") [])
                                        []))))
                                    (:
                                     (VarDecl
                                      (VarId (Ident "sId"))
                                      (Just
                                       (InitExp
                                        (MethodInv
                                         (PrimaryMethodCall
                                          (MethodInv
                                           (MethodCall
                                            (Name
                                             (:
                                              (Ident
                                               "getCentralAuthenticationService")
                                              []))
                                            []))
                                          []
                                          (Ident "grantServiceTicket")
                                          (:
                                           (MethodInv
                                            (MethodCall
                                             (Name
                                              (:
                                               (Ident "tId")
                                               (: (Ident "getId") [])))
                                             []))
                                           (:
                                            (ExpName
                                             (Name (: (Ident "svc") [])))
                                            (:
                                             (ExpName
                                              (Name (: (Ident "ctx") [])))
                                             []))))))))
                                     []))
                                   (:
                                    (LocalVars
                                     (: Final [])
                                     (RefType
                                      (ClassRefType
                                       (ClassType
                                        (:
                                         ((,)
                                          (Ident "MockHttpServletRequest")
                                          [])
                                         []))))
                                     (:
                                      (VarDecl
                                       (VarId (Ident "request"))
                                       (Just
                                        (InitExp
                                         (InstanceCreation
                                          []
                                          (TypeDeclSpecifier
                                           (ClassType
                                            (:
                                             ((,)
                                              (Ident "MockHttpServletRequest")
                                              [])
                                             [])))
                                          []
                                          Nothing))))
                                      []))
                                    (:
                                     (BlockStmt
                                      (ExpStmt
                                       (MethodInv
                                        (MethodCall
                                         (Name
                                          (:
                                           (Ident "request")
                                           (: (Ident "addParameter") [])))
                                         (:
                                          (Lit (String "service"))
                                          (:
                                           (MethodInv
                                            (MethodCall
                                             (Name
                                              (:
                                               (Ident "svc")
                                               (: (Ident "getId") [])))
                                             []))
                                           []))))))
                                     (:
                                      (BlockStmt
                                       (ExpStmt
                                        (MethodInv
                                         (MethodCall
                                          (Name
                                           (:
                                            (Ident "request")
                                            (: (Ident "addParameter") [])))
                                          (:
                                           (Lit (String "ticket"))
                                           (:
                                            (MethodInv
                                             (MethodCall
                                              (Name
                                               (:
                                                (Ident "sId")
                                                (: (Ident "getId") [])))
                                              []))
                                            []))))))
                                      (:
                                       (BlockStmt
                                        (ExpStmt
                                         (MethodInv
                                          (MethodCall
                                           (Name
                                            (:
                                             (Ident "request")
                                             (: (Ident "addParameter") [])))
                                           (:
                                            (Lit (String "format"))
                                            (:
                                             (MethodInv
                                              (MethodCall
                                               (Name
                                                (:
                                                 (Ident
                                                  "ValidationResponseType")
                                                 (:
                                                  (Ident "JSON")
                                                  (: (Ident "name") []))))
                                               []))
                                             []))))))
                                       (:
                                        (LocalVars
                                         (: Final [])
                                         (RefType
                                          (ClassRefType
                                           (ClassType
                                            (:
                                             ((,) (Ident "ModelAndView") [])
                                             []))))
                                         (:
                                          (VarDecl
                                           (VarId (Ident "modelAndView"))
                                           (Just
                                            (InitExp
                                             (MethodInv
                                              (PrimaryMethodCall
                                               (FieldAccess
                                                (PrimaryFieldAccess
                                                 This
                                                 (Ident
                                                  "serviceValidateController")))
                                               []
                                               (Ident "handleRequestInternal")
                                               (:
                                                (ExpName
                                                 (Name
                                                  (: (Ident "request") [])))
                                                (:
                                                 (InstanceCreation
                                                  []
                                                  (TypeDeclSpecifier
                                                   (ClassType
                                                    (:
                                                     ((,)
                                                      (Ident
                                                       "MockHttpServletResponse")
                                                      [])
                                                     [])))
                                                  []
                                                  Nothing)
                                                 [])))))))
                                          []))
                                        (:
                                         (BlockStmt
                                          (ExpStmt
                                           (MethodInv
                                            (MethodCall
                                             (Name (: (Ident "assertTrue") []))
                                             (:
                                              (MethodInv
                                               (PrimaryMethodCall
                                                (MethodInv
                                                 (PrimaryMethodCall
                                                  (MethodInv
                                                   (MethodCall
                                                    (Name
                                                     (:
                                                      (Ident "modelAndView")
                                                      (: (Ident "getView") [])))
                                                    []))
                                                  []
                                                  (Ident "toString")
                                                  []))
                                                []
                                                (Ident "contains")
                                                (: (Lit (String "Json")) [])))
                                              [])))))
                                         [])))))))))))))))
                          (:
                           (MemberDecl
                            (MethodDecl
                             (:
                              (Annotation
                               (MarkerAnnotation (Name (: (Ident "Test") []))))
                              (: Public []))
                             []
                             Nothing
                             (Ident "verifyValidServiceTicketAndBadFormat")
                             []
                             (:
                              (ClassRefType
                               (ClassType (: ((,) (Ident "Exception") []) [])))
                              [])
                             Nothing
                             (MethodBody
                              (Just
                               (Block
                                (:
                                 (LocalVars
                                  (: Final [])
                                  (RefType
                                   (ClassRefType
                                    (ClassType
                                     (: ((,) (Ident "Service") []) []))))
                                  (:
                                   (VarDecl
                                    (VarId (Ident "svc"))
                                    (Just
                                     (InitExp
                                      (MethodInv
                                       (MethodCall
                                        (Name
                                         (:
                                          (Ident "CoreAuthenticationTestUtils")
                                          (: (Ident "getService") [])))
                                        (:
                                         (Lit (String "proxyService"))
                                         []))))))
                                   []))
                                 (:
                                  (LocalVars
                                   (: Final [])
                                   (RefType
                                    (ClassRefType
                                     (ClassType
                                      (:
                                       ((,) (Ident "AuthenticationResult") [])
                                       []))))
                                   (:
                                    (VarDecl
                                     (VarId (Ident "ctx"))
                                     (Just
                                      (InitExp
                                       (MethodInv
                                        (MethodCall
                                         (Name
                                          (:
                                           (Ident "CoreAuthenticationTestUtils")
                                           (:
                                            (Ident "getAuthenticationResult")
                                            [])))
                                         (:
                                          (MethodInv
                                           (MethodCall
                                            (Name
                                             (:
                                              (Ident
                                               "getAuthenticationSystemSupport")
                                              []))
                                            []))
                                          (:
                                           (ExpName (Name (: (Ident "svc") [])))
                                           [])))))))
                                    []))
                                  (:
                                   (LocalVars
                                    (: Final [])
                                    (RefType
                                     (ClassRefType
                                      (ClassType
                                       (:
                                        ((,) (Ident "TicketGrantingTicket") [])
                                        []))))
                                    (:
                                     (VarDecl
                                      (VarId (Ident "tId"))
                                      (Just
                                       (InitExp
                                        (MethodInv
                                         (PrimaryMethodCall
                                          (MethodInv
                                           (MethodCall
                                            (Name
                                             (:
                                              (Ident
                                               "getCentralAuthenticationService")
                                              []))
                                            []))
                                          []
                                          (Ident "createTicketGrantingTicket")
                                          (:
                                           (ExpName (Name (: (Ident "ctx") [])))
                                           []))))))
                                     []))
                                   (:
                                    (LocalVars
                                     (: Final [])
                                     (RefType
                                      (ClassRefType
                                       (ClassType
                                        (:
                                         ((,) (Ident "ServiceTicket") [])
                                         []))))
                                     (:
                                      (VarDecl
                                       (VarId (Ident "sId"))
                                       (Just
                                        (InitExp
                                         (MethodInv
                                          (PrimaryMethodCall
                                           (MethodInv
                                            (MethodCall
                                             (Name
                                              (:
                                               (Ident
                                                "getCentralAuthenticationService")
                                               []))
                                             []))
                                           []
                                           (Ident "grantServiceTicket")
                                           (:
                                            (MethodInv
                                             (MethodCall
                                              (Name
                                               (:
                                                (Ident "tId")
                                                (: (Ident "getId") [])))
                                              []))
                                            (:
                                             (ExpName
                                              (Name (: (Ident "svc") [])))
                                             (:
                                              (ExpName
                                               (Name (: (Ident "ctx") [])))
                                              []))))))))
                                      []))
                                    (:
                                     (LocalVars
                                      (: Final [])
                                      (RefType
                                       (ClassRefType
                                        (ClassType
                                         (:
                                          ((,)
                                           (Ident "MockHttpServletRequest")
                                           [])
                                          []))))
                                      (:
                                       (VarDecl
                                        (VarId (Ident "request"))
                                        (Just
                                         (InitExp
                                          (InstanceCreation
                                           []
                                           (TypeDeclSpecifier
                                            (ClassType
                                             (:
                                              ((,)
                                               (Ident "MockHttpServletRequest")
                                               [])
                                              [])))
                                           []
                                           Nothing))))
                                       []))
                                     (:
                                      (BlockStmt
                                       (ExpStmt
                                        (MethodInv
                                         (MethodCall
                                          (Name
                                           (:
                                            (Ident "request")
                                            (: (Ident "addParameter") [])))
                                          (:
                                           (Lit (String "service"))
                                           (:
                                            (MethodInv
                                             (MethodCall
                                              (Name
                                               (:
                                                (Ident "svc")
                                                (: (Ident "getId") [])))
                                              []))
                                            []))))))
                                      (:
                                       (BlockStmt
                                        (ExpStmt
                                         (MethodInv
                                          (MethodCall
                                           (Name
                                            (:
                                             (Ident "request")
                                             (: (Ident "addParameter") [])))
                                           (:
                                            (Lit (String "ticket"))
                                            (:
                                             (MethodInv
                                              (MethodCall
                                               (Name
                                                (:
                                                 (Ident "sId")
                                                 (: (Ident "getId") [])))
                                               []))
                                             []))))))
                                       (:
                                        (BlockStmt
                                         (ExpStmt
                                          (MethodInv
                                           (MethodCall
                                            (Name
                                             (:
                                              (Ident "request")
                                              (: (Ident "addParameter") [])))
                                            (:
                                             (Lit (String "format"))
                                             (:
                                              (Lit (String "NOTHING"))
                                              []))))))
                                        (:
                                         (LocalVars
                                          (: Final [])
                                          (RefType
                                           (ClassRefType
                                            (ClassType
                                             (:
                                              ((,) (Ident "ModelAndView") [])
                                              []))))
                                          (:
                                           (VarDecl
                                            (VarId (Ident "modelAndView"))
                                            (Just
                                             (InitExp
                                              (MethodInv
                                               (PrimaryMethodCall
                                                (FieldAccess
                                                 (PrimaryFieldAccess
                                                  This
                                                  (Ident
                                                   "serviceValidateController")))
                                                []
                                                (Ident "handleRequestInternal")
                                                (:
                                                 (ExpName
                                                  (Name
                                                   (: (Ident "request") [])))
                                                 (:
                                                  (InstanceCreation
                                                   []
                                                   (TypeDeclSpecifier
                                                    (ClassType
                                                     (:
                                                      ((,)
                                                       (Ident
                                                        "MockHttpServletResponse")
                                                       [])
                                                      [])))
                                                   []
                                                   Nothing)
                                                  [])))))))
                                           []))
                                         (:
                                          (BlockStmt
                                           (ExpStmt
                                            (MethodInv
                                             (MethodCall
                                              (Name (: (Ident "assertTrue") []))
                                              (:
                                               (MethodInv
                                                (PrimaryMethodCall
                                                 (MethodInv
                                                  (PrimaryMethodCall
                                                   (MethodInv
                                                    (MethodCall
                                                     (Name
                                                      (:
                                                       (Ident "modelAndView")
                                                       (:
                                                        (Ident "getView")
                                                        [])))
                                                     []))
                                                   []
                                                   (Ident "toString")
                                                   []))
                                                 []
                                                 (Ident "contains")
                                                 (:
                                                  (Lit (String "Success"))
                                                  [])))
                                               [])))))
                                          [])))))))))))))))
                           (:
                            (MemberDecl
                             (MethodDecl
                              (: Protected [])
                              []
                              (Just
                               (RefType
                                (ClassRefType
                                 (ClassType
                                  (: ((,) (Ident "ModelAndView") []) [])))))
                              (Ident
                               "getModelAndViewUponServiceValidationWithSecurePgtUrl")
                              []
                              (:
                               (ClassRefType
                                (ClassType (: ((,) (Ident "Exception") []) [])))
                               [])
                              Nothing
                              (MethodBody
                               (Just
                                (Block
                                 (:
                                  (LocalVars
                                   (: Final [])
                                   (RefType
                                    (ClassRefType
                                     (ClassType
                                      (:
                                       ((,) (Ident "AuthenticationResult") [])
                                       []))))
                                   (:
                                    (VarDecl
                                     (VarId (Ident "ctx"))
                                     (Just
                                      (InitExp
                                       (MethodInv
                                        (MethodCall
                                         (Name
                                          (:
                                           (Ident "CoreAuthenticationTestUtils")
                                           (:
                                            (Ident "getAuthenticationResult")
                                            [])))
                                         (:
                                          (MethodInv
                                           (MethodCall
                                            (Name
                                             (:
                                              (Ident
                                               "getAuthenticationSystemSupport")
                                              []))
                                            []))
                                          (:
                                           (ExpName
                                            (Name (: (Ident "SERVICE") [])))
                                           [])))))))
                                    []))
                                  (:
                                   (LocalVars
                                    (: Final [])
                                    (RefType
                                     (ClassRefType
                                      (ClassType
                                       (:
                                        ((,) (Ident "TicketGrantingTicket") [])
                                        []))))
                                    (:
                                     (VarDecl
                                      (VarId (Ident "tId"))
                                      (Just
                                       (InitExp
                                        (MethodInv
                                         (PrimaryMethodCall
                                          (MethodInv
                                           (MethodCall
                                            (Name
                                             (:
                                              (Ident
                                               "getCentralAuthenticationService")
                                              []))
                                            []))
                                          []
                                          (Ident "createTicketGrantingTicket")
                                          (:
                                           (ExpName (Name (: (Ident "ctx") [])))
                                           []))))))
                                     []))
                                   (:
                                    (LocalVars
                                     (: Final [])
                                     (RefType
                                      (ClassRefType
                                       (ClassType
                                        (:
                                         ((,) (Ident "ServiceTicket") [])
                                         []))))
                                     (:
                                      (VarDecl
                                       (VarId (Ident "sId"))
                                       (Just
                                        (InitExp
                                         (MethodInv
                                          (PrimaryMethodCall
                                           (MethodInv
                                            (MethodCall
                                             (Name
                                              (:
                                               (Ident
                                                "getCentralAuthenticationService")
                                               []))
                                             []))
                                           []
                                           (Ident "grantServiceTicket")
                                           (:
                                            (MethodInv
                                             (MethodCall
                                              (Name
                                               (:
                                                (Ident "tId")
                                                (: (Ident "getId") [])))
                                              []))
                                            (:
                                             (ExpName
                                              (Name (: (Ident "SERVICE") [])))
                                             (:
                                              (ExpName
                                               (Name (: (Ident "ctx") [])))
                                              []))))))))
                                      []))
                                    (:
                                     (LocalVars
                                      (: Final [])
                                      (RefType
                                       (ClassRefType
                                        (ClassType
                                         (:
                                          ((,)
                                           (Ident "MockHttpServletRequest")
                                           [])
                                          []))))
                                      (:
                                       (VarDecl
                                        (VarId (Ident "request"))
                                        (Just
                                         (InitExp
                                          (InstanceCreation
                                           []
                                           (TypeDeclSpecifier
                                            (ClassType
                                             (:
                                              ((,)
                                               (Ident "MockHttpServletRequest")
                                               [])
                                              [])))
                                           []
                                           Nothing))))
                                       []))
                                     (:
                                      (BlockStmt
                                       (ExpStmt
                                        (MethodInv
                                         (MethodCall
                                          (Name
                                           (:
                                            (Ident "request")
                                            (: (Ident "addParameter") [])))
                                          (:
                                           (Lit (String "service"))
                                           (:
                                            (MethodInv
                                             (MethodCall
                                              (Name
                                               (:
                                                (Ident "SERVICE")
                                                (: (Ident "getId") [])))
                                              []))
                                            []))))))
                                      (:
                                       (BlockStmt
                                        (ExpStmt
                                         (MethodInv
                                          (MethodCall
                                           (Name
                                            (:
                                             (Ident "request")
                                             (: (Ident "addParameter") [])))
                                           (:
                                            (Lit (String "ticket"))
                                            (:
                                             (MethodInv
                                              (MethodCall
                                               (Name
                                                (:
                                                 (Ident "sId")
                                                 (: (Ident "getId") [])))
                                               []))
                                             []))))))
                                       (:
                                        (BlockStmt
                                         (ExpStmt
                                          (MethodInv
                                           (MethodCall
                                            (Name
                                             (:
                                              (Ident "request")
                                              (: (Ident "addParameter") [])))
                                            (:
                                             (Lit (String "pgtUrl"))
                                             (:
                                              (Lit
                                               (String
                                                "https://www.github.com"))
                                              []))))))
                                        (:
                                         (BlockStmt
                                          (Return
                                           (Just
                                            (MethodInv
                                             (PrimaryMethodCall
                                              (FieldAccess
                                               (PrimaryFieldAccess
                                                This
                                                (Ident
                                                 "serviceValidateController")))
                                              []
                                              (Ident "handleRequestInternal")
                                              (:
                                               (ExpName
                                                (Name (: (Ident "request") [])))
                                               (:
                                                (InstanceCreation
                                                 []
                                                 (TypeDeclSpecifier
                                                  (ClassType
                                                   (:
                                                    ((,)
                                                     (Ident
                                                      "MockHttpServletResponse")
                                                     [])
                                                    [])))
                                                 []
                                                 Nothing)
                                                [])))))))
                                         [])))))))))))))
                            []))))))))))))))))))))))))))
  []))
